!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){"use strict";(function(e,r){var i;n.d(t,"a",function(){return o}),function(){var t=Object.create(null);t["WinJS/Core/_WinJS"]={};var n=function(e,n,r){var i={},o=!1,s=n.map(function(e){return"exports"===e?(o=!0,i):t[e]}),u=r.apply({},s);t[e]=o?i:u};n("WinJS/Core/_Global",[],function(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==e?e:{}}),n("WinJS/Core/_BaseCoreUtils",["WinJS/Core/_Global"],function(e){var t=null;return{hasWinRT:!!e.Windows,markSupportedForProcessing:function(e){return e.supportedForProcessing=!0,e},_setImmediate:function(n){null===t&&(t=e.setImmediate?e.setImmediate.bind(e):void 0!==r&&"function"==typeof r.nextTick?r.nextTick.bind(r):e.setTimeout.bind(e)),t(n)}}}),n("WinJS/Core/_WriteProfilerMark",["WinJS/Core/_Global"],function(e){return e.msWriteProfilerMark||function(){}}),n("WinJS/Core/_Base",["WinJS/Core/_WinJS","WinJS/Core/_Global","WinJS/Core/_BaseCoreUtils","WinJS/Core/_WriteProfilerMark"],function(e,t,n,r){function i(e,t,n){var r,i,o,s=Object.keys(t),u=Array.isArray(e);for(i=0,o=s.length;i<o;i++){var a=s[i],l=95!==a.charCodeAt(0),c=t[a];!c||"object"!=typeof c||void 0===c.value&&"function"!=typeof c.get&&"function"!=typeof c.set?l?u?e.forEach(function(e){e[a]=c}):e[a]=c:(r=r||{})[a]={value:c,enumerable:l,configurable:!0,writable:!0}:(void 0===c.enumerable&&(c.enumerable=l),n&&c.setName&&"function"==typeof c.setName&&c.setName(n+"."+a),(r=r||{})[a]=c)}r&&(u?e.forEach(function(e){Object.defineProperties(e,r)}):Object.defineProperties(e,r))}return function(){var n=e;function o(n,r){var i=n||{};if(r){var o=r.split(".");i===t&&"WinJS"===o[0]&&(i=e,o.splice(0,1));for(var s=0,u=o.length;s<u;s++){var a=o[s];i[a]||Object.defineProperty(i,a,{value:{},writable:!1,enumerable:!0,configurable:!0}),i=i[a]}}return i}function s(e,t,n){var r=o(e,t);return n&&i(r,n,t||"<ANONYMOUS>"),r}n.Namespace||(n.Namespace=Object.create(Object.prototype));var u={uninitialized:1,working:2,initialized:3};Object.defineProperties(n.Namespace,{defineWithParent:{value:s,writable:!0,enumerable:!0,configurable:!0},define:{value:function(e,n){return s(t,e,n)},writable:!0,enumerable:!0,configurable:!0},_lazy:{value:function(e){var t,n,i=u.uninitialized;return{setName:function(e){t=e},get:function(){switch(i){case u.initialized:return n;case u.uninitialized:i=u.working;try{r("WinJS.Namespace._lazy:"+t+",StartTM"),n=e()}finally{r("WinJS.Namespace._lazy:"+t+",StopTM"),i=u.uninitialized}return e=null,i=u.initialized,n;case u.working:throw"Illegal: reentrancy on initialization";default:throw"Illegal"}},set:function(e){switch(i){case u.working:throw"Illegal: reentrancy on initialization";default:i=u.initialized,n=e}},enumerable:!0,configurable:!0}},writable:!0,enumerable:!0,configurable:!0},_moduleDefine:{value:function(e,n,r){var s=[e],u=null;return n&&(u=o(t,n),s.push(u)),i(s,r,n||"<ANONYMOUS>"),u},writable:!0,enumerable:!0,configurable:!0}})}(),function(){function t(e,t,r){return e=e||function(){},n.markSupportedForProcessing(e),t&&i(e.prototype,t),r&&i(e,r),e}e.Namespace.define("WinJS.Class",{define:t,derive:function(e,r,o,s){if(e){r=r||function(){};var u=e.prototype;return r.prototype=Object.create(u),n.markSupportedForProcessing(r),Object.defineProperty(r.prototype,"constructor",{value:r,writable:!0,configurable:!0,enumerable:!0}),o&&i(r.prototype,o),s&&i(r,s),r}return t(r,o,s)},mix:function(e){var t,n;for(e=e||function(){},t=1,n=arguments.length;t<n;t++)i(e.prototype,arguments[t]);return e}})}(),{Namespace:e.Namespace,Class:e.Class}}),n("WinJS/Core/_ErrorFromName",["WinJS/Core/_Base"],function(e){var t=e.Class.derive(Error,function(e,t){this.name=e,this.message=t||e},{},{supportedForProcessing:!1});return e.Namespace.define("WinJS",{ErrorFromName:t}),t}),n("WinJS/Core/_Events",["exports","WinJS/Core/_Base"],function(e,t){function n(e){var t="_on"+e+"state";return{get:function(){var e=this[t];return e&&e.userHandler},set:function(n){var r=this[t];n?(r||(r={wrapper:function(e){return r.userHandler(e)},userHandler:n},Object.defineProperty(this,t,{value:r,enumerable:!1,writable:!0,configurable:!0}),this.addEventListener(e,r.wrapper,!1)),r.userHandler=n):r&&(this.removeEventListener(e,r.wrapper,!1),this[t]=null)},enumerable:!0}}var r=t.Class.define(function(e,t,n){this.detail=t,this.target=n,this.timeStamp=Date.now(),this.type=e},{bubbles:{value:!1,writable:!1},cancelable:{value:!1,writable:!1},currentTarget:{get:function(){return this.target}},defaultPrevented:{get:function(){return this._preventDefaultCalled}},trusted:{value:!1,writable:!1},eventPhase:{value:0,writable:!1},target:null,timeStamp:null,type:null,preventDefault:function(){this._preventDefaultCalled=!0},stopImmediatePropagation:function(){this._stopImmediatePropagationCalled=!0},stopPropagation:function(){}},{supportedForProcessing:!1}),i={_listeners:null,addEventListener:function(e,t,n){n=n||!1,this._listeners=this._listeners||{};for(var r=this._listeners[e]=this._listeners[e]||[],i=0,o=r.length;i<o;i++){var s=r[i];if(s.useCapture===n&&s.listener===t)return}r.push({listener:t,useCapture:n})},dispatchEvent:function(e,t){var n=this._listeners&&this._listeners[e];if(n){for(var i=new r(e,t,this),o=0,s=(n=n.slice(0,n.length)).length;o<s&&!i._stopImmediatePropagationCalled;o++)n[o].listener(i);return i.defaultPrevented||!1}return!1},removeEventListener:function(e,t,n){n=n||!1;var r=this._listeners&&this._listeners[e];if(r)for(var i=0,o=r.length;i<o;i++){var s=r[i];if(s.listener===t&&s.useCapture===n){r.splice(i,1),0===r.length&&delete this._listeners[e];break}}}};t.Namespace._moduleDefine(e,"WinJS.Utilities",{_createEventProperty:n,createEventProperties:function(){for(var e={},t=0,r=arguments.length;t<r;t++){var i=arguments[t];e["on"+i]=n(i)}return e},eventMixin:i})}),n("WinJS/Core/_Trace",["WinJS/Core/_Global"],function(e){function t(e){return e}return{_traceAsyncOperationStarting:e.Debug&&e.Debug.msTraceAsyncOperationStarting&&e.Debug.msTraceAsyncOperationStarting.bind(e.Debug)||t,_traceAsyncOperationCompleted:e.Debug&&e.Debug.msTraceAsyncOperationCompleted&&e.Debug.msTraceAsyncOperationCompleted.bind(e.Debug)||t,_traceAsyncCallbackStarting:e.Debug&&e.Debug.msTraceAsyncCallbackStarting&&e.Debug.msTraceAsyncCallbackStarting.bind(e.Debug)||t,_traceAsyncCallbackCompleted:e.Debug&&e.Debug.msTraceAsyncCallbackCompleted&&e.Debug.msTraceAsyncCallbackCompleted.bind(e.Debug)||t}}),n("WinJS/Promise/_StateMachine",["WinJS/Core/_Global","WinJS/Core/_BaseCoreUtils","WinJS/Core/_Base","WinJS/Core/_ErrorFromName","WinJS/Core/_Events","WinJS/Core/_Trace"],function(e,t,n,r,i,o){e.Debug&&(e.Debug.setNonUserCodeExceptions=!0);var s=new(n.Class.mix(n.Class.define(null,{},{supportedForProcessing:!1}),i.eventMixin));s._listeners={};var u="error",a="Canceled",l=!1,c={promise:1,thenPromise:2,errorPromise:4,exceptionPromise:8,completePromise:16};c.all=c.promise|c.thenPromise|c.errorPromise|c.exceptionPromise|c.completePromise;var h,f,d,m,p,_,g,v,y,b,C=1;function S(){}h={name:"created",enter:function(e){e._setState(f)},cancel:S,done:S,then:S,_completed:S,_error:S,_notify:S,_progress:S,_setCompleteValue:S,_setErrorValue:S},f={name:"working",enter:S,cancel:function(e){e._setState(p)},done:x,then:F,_completed:N,_error:k,_notify:S,_progress:D,_setCompleteValue:q,_setErrorValue:K},d={name:"waiting",enter:function(e){var t=e._value;if(t instanceof W&&t._state!==b&&t._state!==v)U(t,{promise:e});else{var n=function(r){t._errorId?e._chainedError(r,t):(I(e,r,A,t,n),e._error(r))};n.handlesOnError=!0,t.then(e._completed.bind(e),n,e._progress.bind(e))}},cancel:function(e){e._setState(m)},done:x,then:F,_completed:N,_error:k,_notify:S,_progress:D,_setCompleteValue:q,_setErrorValue:K},m={name:"waiting_canceled",enter:function(e){e._setState(_);var t=e._value;t.cancel&&t.cancel()},cancel:S,done:x,then:F,_completed:N,_error:k,_notify:S,_progress:D,_setCompleteValue:q,_setErrorValue:K},p={name:"canceled",enter:function(e){e._setState(_),e._cancelAction()},cancel:S,done:x,then:F,_completed:N,_error:k,_notify:S,_progress:D,_setCompleteValue:q,_setErrorValue:K},_={name:"canceling",enter:function(e){var t=new Error(a);t.name=t.message,e._value=t,e._setState(y)},cancel:S,done:S,then:S,_completed:S,_error:S,_notify:S,_progress:S,_setCompleteValue:S,_setErrorValue:S},g={name:"complete_notify",enter:function(e){if(e.done=B.prototype.done,e.then=B.prototype.then,e._listeners)for(var t,n=[e];n.length;)(t=n.shift())._state._notify(t,n);e._setState(v)},cancel:S,done:null,then:null,_completed:S,_error:S,_notify:O,_progress:S,_setCompleteValue:S,_setErrorValue:S},v={name:"success",enter:function(e){e.done=B.prototype.done,e.then=B.prototype.then,e._cleanupAction()},cancel:S,done:null,then:null,_completed:S,_error:S,_notify:O,_progress:S,_setCompleteValue:S,_setErrorValue:S},y={name:"error_notify",enter:function(e){if(e.done=Y.prototype.done,e.then=Y.prototype.then,e._listeners)for(var t,n=[e];n.length;)(t=n.shift())._state._notify(t,n);e._setState(b)},cancel:S,done:null,then:null,_completed:S,_error:S,_notify:T,_progress:S,_setCompleteValue:S,_setErrorValue:S},b={name:"error",enter:function(e){e.done=Y.prototype.done,e.then=Y.prototype.then,e._cleanupAction()},cancel:S,done:null,then:null,_completed:S,_error:S,_notify:T,_progress:S,_setCompleteValue:S,_setErrorValue:S};var L=n.Class.define(null,{_listeners:null,_nextState:null,_state:null,_value:null,cancel:function(){this._state.cancel(this),this._run()},done:function(e,t,n){this._state.done(this,e,t,n)},then:function e(t,n,r){if(this.then===e)return this._state.then(this,t,n,r);this.then(t,n,r)},_chainedError:function(e,t){var n=this._state._error(this,e,w,t);return this._run(),n},_completed:function(e){var t=this._state._completed(this,e);return this._run(),t},_error:function(e){var t=this._state._error(this,e,P);return this._run(),t},_progress:function(e){this._state._progress(this,e)},_setState:function(e){this._nextState=e},_setCompleteValue:function(e){this._state._setCompleteValue(this,e),this._run()},_setChainedErrorValue:function(e,t){var n=this._state._setErrorValue(this,e,w,t);return this._run(),n},_setExceptionValue:function(e){var t=this._state._setErrorValue(this,e,M);return this._run(),t},_run:function(){for(;this._nextState;)this._state=this._nextState,this._nextState=null,this._state.enter(this)}},{supportedForProcessing:!1});function N(e,t){var n;n=t&&"object"==typeof t&&"function"==typeof t.then?d:g,e._value=t,e._setState(n)}function E(e,t,n,r,i,o){return{exception:e,error:t,promise:n,handler:o,id:r,parent:i}}function A(e,t,n,r){var i=n._isException,o=n._errorId;return E(i?t:null,i?null:t,e,o,n,r)}function w(e,t,n){var r=n._isException,i=n._errorId;return R(e,i,r),E(r?t:null,r?null:t,e,i,n)}function P(e,t){var n=++C;return R(e,n),E(null,t,e,n)}function M(e,t){var n=++C;return R(e,n,!0),E(t,null,e,n)}function x(e,t,n,r){U(e,{c:t,e:n,p:r,asyncOpID:o._traceAsyncOperationStarting("WinJS.Promise.done")})}function k(e,t,n,r){e._value=t,I(e,t,n,r),e._setState(y)}function O(t,n){var r,i,s=t._value,u=t._listeners;if(u)for(t._listeners=null,r=0,i=Array.isArray(u)?u.length:1;r<i;r++){var a=1===i?u:u[r],l=a.c,c=a.promise;if(o._traceAsyncOperationCompleted(a.asyncOpID,e.Debug&&e.Debug.MS_ASYNC_OP_STATUS_SUCCESS),c){o._traceAsyncCallbackStarting(a.asyncOpID);try{c._setCompleteValue(l?l(s):s)}catch(e){c._setExceptionValue(e)}finally{o._traceAsyncCallbackCompleted()}c._state!==d&&c._listeners&&n.push(c)}else B.prototype.done.call(t,l)}}function T(t,n){var r,i,s=t._value,u=t._listeners;if(u)for(t._listeners=null,r=0,i=Array.isArray(u)?u.length:1;r<i;r++){var l=1===i?u:u[r],c=l.e,h=l.promise,f=e.Debug&&(s&&s.name===a?e.Debug.MS_ASYNC_OP_STATUS_CANCELED:e.Debug.MS_ASYNC_OP_STATUS_ERROR);if(o._traceAsyncOperationCompleted(l.asyncOpID,f),h){var m=!1;try{c?(o._traceAsyncCallbackStarting(l.asyncOpID),m=!0,c.handlesOnError||I(h,s,A,t,c),h._setCompleteValue(c(s))):h._setChainedErrorValue(s,t)}catch(e){h._setExceptionValue(e)}finally{m&&o._traceAsyncCallbackCompleted()}h._state!==d&&h._listeners&&n.push(h)}else Y.prototype.done.call(t,null,c)}}function I(e,t,n,r,i){if(s._listeners[u]){if(t instanceof Error&&t.message===a)return;s.dispatchEvent(u,n(e,t,r,i))}}function D(e,t){var n,r,i=e._listeners;if(i)for(n=0,r=Array.isArray(i)?i.length:1;n<r;n++){var o=1===r?i:i[n],s=o.p;if(s)try{s(t)}catch(e){}o.c||o.e||!o.promise||o.promise._progress(t)}}function U(e,t){var n=e._listeners;n?(n=Array.isArray(n)?n:[n]).push(t):n=t,e._listeners=n}function R(e,t,n){e._isException=n||!1,e._errorId=t}function K(e,t,n,r){e._value=t,I(e,t,n,r),e._setState(b)}function q(e,t){var n;n=t&&"object"==typeof t&&"function"==typeof t.then?d:v,e._value=t,e._setState(n)}function F(e,t,n,r){var i=new W(e);return U(e,{promise:i,c:t,e:n,p:r,asyncOpID:o._traceAsyncOperationStarting("WinJS.Promise.then")}),i}var V,W=n.Class.derive(L,function(e){l&&(!0===l||l&c.thenPromise)&&(this._stack=H._getStack()),this._creator=e,this._setState(h),this._run()},{_creator:null,_cancelAction:function(){this._creator&&this._creator.cancel()},_cleanupAction:function(){this._creator=null}},{supportedForProcessing:!1}),Y=n.Class.define(function(e){l&&(!0===l||l&c.errorPromise)&&(this._stack=H._getStack()),this._value=e,I(this,e,P)},{cancel:function(){},done:function(e,t){var n=this._value;if(t)try{t.handlesOnError||I(null,n,A,this,t);var r=t(n);return void(r&&"object"==typeof r&&"function"==typeof r.done&&r.done())}catch(e){n=e}n instanceof Error&&n.message===a||H._doneHandler(n)},then:function(e,t){if(!t)return this;var n,r=this._value;try{t.handlesOnError||I(null,r,A,this,t),n=new B(t(r))}catch(e){n=e===r?this:new j(e)}return n}},{supportedForProcessing:!1}),j=n.Class.derive(Y,function(e){l&&(!0===l||l&c.exceptionPromise)&&(this._stack=H._getStack()),this._value=e,I(this,e,M)},{},{supportedForProcessing:!1}),B=n.Class.define(function(e){if(l&&(!0===l||l&c.completePromise)&&(this._stack=H._getStack()),e&&"object"==typeof e&&"function"==typeof e.then){var t=new W(null);return t._setCompleteValue(e),t}this._value=e},{cancel:function(){},done:function(e){if(e)try{var t=e(this._value);t&&"object"==typeof t&&"function"==typeof t.done&&t.done()}catch(e){H._doneHandler(e)}},then:function(e){try{var t=e?e(this._value):this._value;return t===this._value?this:new B(t)}catch(e){return new j(e)}}},{supportedForProcessing:!1});var H=n.Class.derive(L,function(e,t){l&&(!0===l||l&c.promise)&&(this._stack=H._getStack()),this._oncancel=t,this._setState(h),this._run();try{e(this._completed.bind(this),this._error.bind(this),this._progress.bind(this))}catch(e){this._setExceptionValue(e)}},{_oncancel:null,_cancelAction:function(){try{if(!this._oncancel)throw new Error("Promise did not implement oncancel");this._oncancel()}catch(e){e.message,e.stack;s.dispatchEvent("error",e)}},_cleanupAction:function(){this._oncancel=null}},{addEventListener:function(e,t,n){s.addEventListener(e,t,n)},any:function(e){return new H(function(t,n){var r=Object.keys(e);0===r.length&&t();var i=0;r.forEach(function(o){H.as(e[o]).then(function(){t({key:o,value:e[o]})},function(s){s instanceof Error&&s.name===a?++i===r.length&&t(H.cancel):n({key:o,value:e[o]})})})},function(){Object.keys(e).forEach(function(t){var n=H.as(e[t]);"function"==typeof n.cancel&&n.cancel()})})},as:function(e){return e&&"object"==typeof e&&"function"==typeof e.then?e:new B(e)},cancel:{get:function(){return V=V||new Y(new r(a))}},dispatchEvent:function(e,t){return s.dispatchEvent(e,t)},is:function(e){return e&&"object"==typeof e&&"function"==typeof e.then},join:function(e){return new H(function(t,n,r){var i=Object.keys(e),o=Array.isArray(e)?[]:{},s=Array.isArray(e)?[]:{},u=0,l=i.length,c=function(e){if(0==--l){var u=Object.keys(o).length;if(0===u)t(s);else{var c=0;i.forEach(function(e){var t=o[e];t instanceof Error&&t.name===a&&c++}),c===u?t(H.cancel):n(o)}}else r({Key:e,Done:!0})};i.forEach(function(t){var n=e[t];void 0===n?u++:H.then(n,function(e){s[t]=e,c(t)},function(e){o[t]=e,c(t)})}),0!==(l-=u)||t(s)},function(){Object.keys(e).forEach(function(t){var n=H.as(e[t]);"function"==typeof n.cancel&&n.cancel()})})},removeEventListener:function(e,t,n){s.removeEventListener(e,t,n)},supportedForProcessing:!1,then:function(e,t,n,r){return H.as(e).then(t,n,r)},thenEach:function(e,t,n,r){var i=Array.isArray(e)?[]:{};return Object.keys(e).forEach(function(o){i[o]=H.as(e[o]).then(t,n,r)}),H.join(i)},timeout:function(n,r){var i=function(n){var r;return new H(function(i){n?r=e.setTimeout(i,n):t._setImmediate(i)},function(){r&&e.clearTimeout(r)})}(n);return r?function(e,t){var n=function(){e.cancel()};return e.then(function(){t.cancel()}),t.then(n,n),t}(i,r):i},wrap:function(e){return new B(e)},wrapError:function(e){return new Y(e)},_veryExpensiveTagWithStack:{get:function(){return l},set:function(e){l=e}},_veryExpensiveTagWithStack_tag:c,_getStack:function(){if(e.Debug&&e.Debug.debuggerEnabled)try{throw new Error}catch(e){return e.stack}},_cancelBlocker:function(e,t){if(!H.is(e))return H.wrap(e);var n,r,i=new H(function(e,t){n=e,r=t},function(){n=null,r=null,t&&t()});return e.then(function(e){n&&n(e)},function(e){r&&r(e)}),i}});return Object.defineProperties(H,i.createEventProperties(u)),H._doneHandler=function(e){t._setImmediate(function(){throw e})},{PromiseStateMachine:L,Promise:H,state_created:h}}),n("WinJS/Promise",["WinJS/Core/_Base","WinJS/Promise/_StateMachine"],function(e,t){return e.Namespace.define("WinJS",{Promise:t.Promise}),t.Promise}),(i=t["WinJS/Core/_WinJS"]).TPromise=i.Promise,i.PPromise=i.Promise}();i.Promise;var o=i.TPromise;i.PPromise}).call(this,n(3),n(2))},function(e,t,n){"use strict";(function(e,r){n.d(t,"c",function(){return m}),n.d(t,"b",function(){return p}),n.d(t,"a",function(){return _});var i,o=!1,s=!1,u=!1,a=!1,l=!1;if("object"==typeof e&&"function"==typeof e.nextTick&&"string"==typeof e.platform){o="win32"===e.platform,s="darwin"===e.platform,u="linux"===e.platform,"en","en";var c=e.env.VSCODE_NLS_CONFIG;if(c)try{var h=JSON.parse(c),f=h.availableLanguages["*"];h.locale,f||"en",h._translationsConfigFile}catch(e){}a=!0}else if("object"==typeof navigator){var d=navigator.userAgent;o=d.indexOf("Windows")>=0,s=d.indexOf("Macintosh")>=0,u=d.indexOf("Linux")>=0,l=!0,navigator.language}!function(e){e[e.Web=0]="Web",e[e.Mac=1]="Mac",e[e.Linux=2]="Linux",e[e.Windows=3]="Windows"}(i||(i={}));i.Web;a&&(s?i.Mac:o?i.Windows:u&&i.Linux);var m=o,p=l,_="object"==typeof self?self:"object"==typeof r?r:{}}).call(this,n(2),n(3))},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var a,l=[],c=!1,h=-1;function f(){c&&a&&(c=!1,a.length?l=a.concat(l):h=-1,l.length&&d())}function d(){if(!c){var e=u(f);c=!0;for(var t=l.length;t;){for(a=l,l=[];++h<t;)a&&a[h].run();h=-1,t=l.length}a=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new m(e,t)),1!==l.length||c||u(d)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t);var r,i=n(1),o=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=/^\w[\w\d+.-]*$/,u=/^\//,a=/^\/\//;var l="",c="/",h=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,f=function(){function e(e,t,n,r,i){"object"==typeof e?(this.scheme=e.scheme||l,this.authority=e.authority||l,this.path=e.path||l,this.query=e.query||l,this.fragment=e.fragment||l):(this.scheme=e||l,this.authority=t||l,this.path=function(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==c&&(t=c+t):t=c}return t}(this.scheme,n||l),this.query=r||l,this.fragment=i||l,function(e){if(e.scheme&&!s.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!u.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(a.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}(this))}return e.isUri=function(t){return t instanceof e||!!t&&("string"==typeof t.authority&&"string"==typeof t.fragment&&"string"==typeof t.path&&"string"==typeof t.query&&"string"==typeof t.scheme)},Object.defineProperty(e.prototype,"fsPath",{get:function(){return v(this)},enumerable:!0,configurable:!0}),e.prototype.with=function(e){if(!e)return this;var t=e.scheme,n=e.authority,r=e.path,i=e.query,o=e.fragment;return void 0===t?t=this.scheme:null===t&&(t=l),void 0===n?n=this.authority:null===n&&(n=l),void 0===r?r=this.path:null===r&&(r=l),void 0===i?i=this.query:null===i&&(i=l),void 0===o?o=this.fragment:null===o&&(o=l),t===this.scheme&&n===this.authority&&r===this.path&&i===this.query&&o===this.fragment?this:new m(t,n,r,i,o)},e.parse=function(e){var t=h.exec(e);return t?new m(t[2]||l,decodeURIComponent(t[4]||l),decodeURIComponent(t[5]||l),decodeURIComponent(t[7]||l),decodeURIComponent(t[9]||l)):new m(l,l,l,l,l)},e.file=function(e){var t=l;if(i.c&&(e=e.replace(/\\/g,c)),e[0]===c&&e[1]===c){var n=e.indexOf(c,2);-1===n?(t=e.substring(2),e=c):(t=e.substring(2,n),e=e.substring(n)||c)}return new m("file",t,e,l,l)},e.from=function(e){return new m(e.scheme,e.authority,e.path,e.query,e.fragment)},e.prototype.toString=function(e){return void 0===e&&(e=!1),y(this,e)},e.prototype.toJSON=function(){return this},e.revive=function(t){if(t){if(t instanceof e)return t;var n=new m(t);return n._fsPath=t.fsPath,n._formatted=t.external,n}return t},e}(),d=f,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._formatted=null,t._fsPath=null,t}return o(t,e),Object.defineProperty(t.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=v(this)),this._fsPath},enumerable:!0,configurable:!0}),t.prototype.toString=function(e){return void 0===e&&(e=!1),e?y(this,!0):(this._formatted||(this._formatted=y(this,!1)),this._formatted)},t.prototype.toJSON=function(){var e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e},t}(f),p=((r={})[58]="%3A",r[47]="%2F",r[63]="%3F",r[35]="%23",r[91]="%5B",r[93]="%5D",r[64]="%40",r[33]="%21",r[36]="%24",r[38]="%26",r[39]="%27",r[40]="%28",r[41]="%29",r[42]="%2A",r[43]="%2B",r[44]="%2C",r[59]="%3B",r[61]="%3D",r[32]="%20",r);function _(e,t){for(var n=void 0,r=-1,i=0;i<e.length;i++){var o=e.charCodeAt(i);if(o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||45===o||46===o||95===o||126===o||t&&47===o)-1!==r&&(n+=encodeURIComponent(e.substring(r,i)),r=-1),void 0!==n&&(n+=e.charAt(i));else{void 0===n&&(n=e.substr(0,i));var s=p[o];void 0!==s?(-1!==r&&(n+=encodeURIComponent(e.substring(r,i)),r=-1),n+=s):-1===r&&(r=i)}}return-1!==r&&(n+=encodeURIComponent(e.substring(r))),void 0!==n?n:e}function g(e){for(var t=void 0,n=0;n<e.length;n++){var r=e.charCodeAt(n);35===r||63===r?(void 0===t&&(t=e.substr(0,n)),t+=p[r]):void 0!==t&&(t+=e[n])}return void 0!==t?t:e}function v(e){var t;return t=e.authority&&e.path.length>1&&"file"===e.scheme?"//"+e.authority+e.path:47===e.path.charCodeAt(0)&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?e.path[1].toLowerCase()+e.path.substr(2):e.path,i.c&&(t=t.replace(/\//g,"\\")),t}function y(e,t){var n=t?g:_,r="",i=e.scheme,o=e.authority,s=e.path,u=e.query,a=e.fragment;if(i&&(r+=i,r+=":"),(o||"file"===i)&&(r+=c,r+=c),o){var l=o.indexOf("@");if(-1!==l){var h=o.substr(0,l);o=o.substr(l+1),-1===(l=h.indexOf(":"))?r+=n(h,!1):(r+=n(h.substr(0,l),!1),r+=":",r+=n(h.substr(l+1),!1)),r+="@"}-1===(l=(o=o.toLowerCase()).indexOf(":"))?r+=n(o,!1):(r+=n(o.substr(0,l),!1),r+=o.substr(l))}if(s){if(s.length>=3&&47===s.charCodeAt(0)&&58===s.charCodeAt(2))(f=s.charCodeAt(1))>=65&&f<=90&&(s="/"+String.fromCharCode(f+32)+":"+s.substr(3));else if(s.length>=2&&58===s.charCodeAt(1)){var f;(f=s.charCodeAt(0))>=65&&f<=90&&(s=String.fromCharCode(f+32)+":"+s.substr(2))}r+=n(s,!0)}return u&&(r+="?",r+=n(u,!1)),a&&(r+="#",r+=t?a:_(a,!1)),r}var b=n(0),C=function(){function e(e,t){this.lineNumber=e,this.column=t}return e.prototype.equals=function(t){return e.equals(this,t)},e.equals=function(e,t){return!e&&!t||!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column},e.prototype.isBefore=function(t){return e.isBefore(this,t)},e.isBefore=function(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<t.column},e.prototype.isBeforeOrEqual=function(t){return e.isBeforeOrEqual(this,t)},e.isBeforeOrEqual=function(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<=t.column},e.compare=function(e,t){var n=0|e.lineNumber,r=0|t.lineNumber;return n===r?(0|e.column)-(0|t.column):n-r},e.prototype.clone=function(){return new e(this.lineNumber,this.column)},e.prototype.toString=function(){return"("+this.lineNumber+","+this.column+")"},e.lift=function(t){return new e(t.lineNumber,t.column)},e.isIPosition=function(e){return e&&"number"==typeof e.lineNumber&&"number"==typeof e.column},e}(),S=function(){function e(e,t,n,r){e>n||e===n&&t>r?(this.startLineNumber=n,this.startColumn=r,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=n,this.endColumn=r)}return e.prototype.isEmpty=function(){return e.isEmpty(this)},e.isEmpty=function(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn},e.prototype.containsPosition=function(t){return e.containsPosition(this,t)},e.containsPosition=function(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber)&&(!(t.lineNumber===e.startLineNumber&&t.column<e.startColumn)&&!(t.lineNumber===e.endLineNumber&&t.column>e.endColumn))},e.prototype.containsRange=function(t){return e.containsRange(this,t)},e.containsRange=function(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber)&&(!(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber)&&(!(t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn)&&!(t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)))},e.prototype.plusRange=function(t){return e.plusRange(this,t)},e.plusRange=function(t,n){var r,i,o,s;return n.startLineNumber<t.startLineNumber?(r=n.startLineNumber,i=n.startColumn):n.startLineNumber===t.startLineNumber?(r=n.startLineNumber,i=Math.min(n.startColumn,t.startColumn)):(r=t.startLineNumber,i=t.startColumn),n.endLineNumber>t.endLineNumber?(o=n.endLineNumber,s=n.endColumn):n.endLineNumber===t.endLineNumber?(o=n.endLineNumber,s=Math.max(n.endColumn,t.endColumn)):(o=t.endLineNumber,s=t.endColumn),new e(r,i,o,s)},e.prototype.intersectRanges=function(t){return e.intersectRanges(this,t)},e.intersectRanges=function(t,n){var r=t.startLineNumber,i=t.startColumn,o=t.endLineNumber,s=t.endColumn,u=n.startLineNumber,a=n.startColumn,l=n.endLineNumber,c=n.endColumn;return r<u?(r=u,i=a):r===u&&(i=Math.max(i,a)),o>l?(o=l,s=c):o===l&&(s=Math.min(s,c)),r>o?null:r===o&&i>s?null:new e(r,i,o,s)},e.prototype.equalsRange=function(t){return e.equalsRange(this,t)},e.equalsRange=function(e,t){return!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn},e.prototype.getEndPosition=function(){return new C(this.endLineNumber,this.endColumn)},e.prototype.getStartPosition=function(){return new C(this.startLineNumber,this.startColumn)},e.prototype.toString=function(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"},e.prototype.setEndPosition=function(t,n){return new e(this.startLineNumber,this.startColumn,t,n)},e.prototype.setStartPosition=function(t,n){return new e(t,n,this.endLineNumber,this.endColumn)},e.prototype.collapseToStart=function(){return e.collapseToStart(this)},e.collapseToStart=function(t){return new e(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn)},e.fromPositions=function(t,n){return void 0===n&&(n=t),new e(t.lineNumber,t.column,n.lineNumber,n.column)},e.lift=function(t){return t?new e(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):null},e.isIRange=function(e){return e&&"number"==typeof e.startLineNumber&&"number"==typeof e.startColumn&&"number"==typeof e.endLineNumber&&"number"==typeof e.endColumn},e.areIntersectingOrTouching=function(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)},e.areIntersecting=function(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)},e.compareRangesUsingStarts=function(e,t){var n=0|e.startLineNumber,r=0|t.startLineNumber;if(n===r){var i=0|e.startColumn,o=0|t.startColumn;if(i===o){var s=0|e.endLineNumber,u=0|t.endLineNumber;return s===u?(0|e.endColumn)-(0|t.endColumn):s-u}return i-o}return n-r},e.compareRangesUsingEnds=function(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber},e.spansMultipleLines=function(e){return e.endLineNumber>e.startLineNumber},e}(),L=function(){function e(e,t,n,r){this.originalStart=e,this.originalLength=t,this.modifiedStart=n,this.modifiedLength=r}return e.prototype.getOriginalEnd=function(){return this.originalStart+this.originalLength},e.prototype.getModifiedEnd=function(){return this.modifiedStart+this.modifiedLength},e}();function N(e){return{getLength:function(){return e.length},getElementAtIndex:function(t){return e.charCodeAt(t)}}}function E(e,t,n){return new M(N(e),N(t)).ComputeDiff(n)}var A=function(){function e(){}return e.Assert=function(e,t){if(!e)throw new Error(t)},e}(),w=function(){function e(){}return e.Copy=function(e,t,n,r,i){for(var o=0;o<i;o++)n[r+o]=e[t+o]},e}(),P=function(){function e(){this.m_changes=[],this.m_originalStart=Number.MAX_VALUE,this.m_modifiedStart=Number.MAX_VALUE,this.m_originalCount=0,this.m_modifiedCount=0}return e.prototype.MarkNextChange=function(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new L(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=Number.MAX_VALUE,this.m_modifiedStart=Number.MAX_VALUE},e.prototype.AddOriginalElement=function(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++},e.prototype.AddModifiedElement=function(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++},e.prototype.getChanges=function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes},e.prototype.getReverseChanges=function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes},e}(),M=function(){function e(e,t,n){void 0===n&&(n=null),this.OriginalSequence=e,this.ModifiedSequence=t,this.ContinueProcessingPredicate=n,this.m_forwardHistory=[],this.m_reverseHistory=[]}return e.prototype.ElementsAreEqual=function(e,t){return this.OriginalSequence.getElementAtIndex(e)===this.ModifiedSequence.getElementAtIndex(t)},e.prototype.OriginalElementsAreEqual=function(e,t){return this.OriginalSequence.getElementAtIndex(e)===this.OriginalSequence.getElementAtIndex(t)},e.prototype.ModifiedElementsAreEqual=function(e,t){return this.ModifiedSequence.getElementAtIndex(e)===this.ModifiedSequence.getElementAtIndex(t)},e.prototype.ComputeDiff=function(e){return this._ComputeDiff(0,this.OriginalSequence.getLength()-1,0,this.ModifiedSequence.getLength()-1,e)},e.prototype._ComputeDiff=function(e,t,n,r,i){var o=this.ComputeDiffRecursive(e,t,n,r,[!1]);return i?this.ShiftChanges(o):o},e.prototype.ComputeDiffRecursive=function(e,t,n,r,i){for(i[0]=!1;e<=t&&n<=r&&this.ElementsAreEqual(e,n);)e++,n++;for(;t>=e&&r>=n&&this.ElementsAreEqual(t,r);)t--,r--;if(e>t||n>r){var o=void 0;return n<=r?(A.Assert(e===t+1,"originalStart should only be one more than originalEnd"),o=[new L(e,0,n,r-n+1)]):e<=t?(A.Assert(n===r+1,"modifiedStart should only be one more than modifiedEnd"),o=[new L(e,t-e+1,n,0)]):(A.Assert(e===t+1,"originalStart should only be one more than originalEnd"),A.Assert(n===r+1,"modifiedStart should only be one more than modifiedEnd"),o=[]),o}var s=[0],u=[0],a=this.ComputeRecursionPoint(e,t,n,r,s,u,i),l=s[0],c=u[0];if(null!==a)return a;if(!i[0]){var h=this.ComputeDiffRecursive(e,l,n,c,i),f=[];return f=i[0]?[new L(l+1,t-(l+1)+1,c+1,r-(c+1)+1)]:this.ComputeDiffRecursive(l+1,t,c+1,r,i),this.ConcatenateChanges(h,f)}return[new L(e,t-e+1,n,r-n+1)]},e.prototype.WALKTRACE=function(e,t,n,r,i,o,s,u,a,l,c,h,f,d,m,p,_,g){var v,y,b=null,C=new P,S=t,N=n,E=f[0]-p[0]-r,A=Number.MIN_VALUE,w=this.m_forwardHistory.length-1;do{(y=E+e)===S||y<N&&a[y-1]<a[y+1]?(d=(c=a[y+1])-E-r,c<A&&C.MarkNextChange(),A=c,C.AddModifiedElement(c+1,d),E=y+1-e):(d=(c=a[y-1]+1)-E-r,c<A&&C.MarkNextChange(),A=c-1,C.AddOriginalElement(c,d+1),E=y-1-e),w>=0&&(e=(a=this.m_forwardHistory[w])[0],S=1,N=a.length-1)}while(--w>=-1);if(v=C.getReverseChanges(),g[0]){var M=f[0]+1,x=p[0]+1;if(null!==v&&v.length>0){var k=v[v.length-1];M=Math.max(M,k.getOriginalEnd()),x=Math.max(x,k.getModifiedEnd())}b=[new L(M,h-M+1,x,m-x+1)]}else{C=new P,S=o,N=s,E=f[0]-p[0]-u,A=Number.MAX_VALUE,w=_?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{(y=E+i)===S||y<N&&l[y-1]>=l[y+1]?(d=(c=l[y+1]-1)-E-u,c>A&&C.MarkNextChange(),A=c+1,C.AddOriginalElement(c+1,d+1),E=y+1-i):(d=(c=l[y-1])-E-u,c>A&&C.MarkNextChange(),A=c,C.AddModifiedElement(c+1,d+1),E=y-1-i),w>=0&&(i=(l=this.m_reverseHistory[w])[0],S=1,N=l.length-1)}while(--w>=-1);b=C.getChanges()}return this.ConcatenateChanges(v,b)},e.prototype.ComputeRecursionPoint=function(e,t,n,r,i,o,s){var u,a,l,c=0,h=0,f=0,d=0;e--,n--,i[0]=0,o[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];var m,p,_=t-e+(r-n),g=_+1,v=new Array(g),y=new Array(g),b=r-n,C=t-e,S=e-n,N=t-r,E=(C-b)%2==0;for(v[b]=e,y[C]=t,s[0]=!1,l=1;l<=_/2+1;l++){var A=0,P=0;for(c=this.ClipDiagonalBound(b-l,l,b,g),h=this.ClipDiagonalBound(b+l,l,b,g),m=c;m<=h;m+=2){for(a=(u=m===c||m<h&&v[m-1]<v[m+1]?v[m+1]:v[m-1]+1)-(m-b)-S,p=u;u<t&&a<r&&this.ElementsAreEqual(u+1,a+1);)u++,a++;if(v[m]=u,u+a>A+P&&(A=u,P=a),!E&&Math.abs(m-C)<=l-1&&u>=y[m])return i[0]=u,o[0]=a,p<=y[m]&&l<=1448?this.WALKTRACE(b,c,h,S,C,f,d,N,v,y,u,t,i,a,r,o,E,s):null}var M=(A-e+(P-n)-l)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(A,this.OriginalSequence,M))return s[0]=!0,i[0]=A,o[0]=P,M>0&&l<=1448?this.WALKTRACE(b,c,h,S,C,f,d,N,v,y,u,t,i,a,r,o,E,s):[new L(++e,t-e+1,++n,r-n+1)];for(f=this.ClipDiagonalBound(C-l,l,C,g),d=this.ClipDiagonalBound(C+l,l,C,g),m=f;m<=d;m+=2){for(a=(u=m===f||m<d&&y[m-1]>=y[m+1]?y[m+1]-1:y[m-1])-(m-C)-N,p=u;u>e&&a>n&&this.ElementsAreEqual(u,a);)u--,a--;if(y[m]=u,E&&Math.abs(m-b)<=l&&u<=v[m])return i[0]=u,o[0]=a,p>=v[m]&&l<=1448?this.WALKTRACE(b,c,h,S,C,f,d,N,v,y,u,t,i,a,r,o,E,s):null}if(l<=1447){var x=new Array(h-c+2);x[0]=b-c+1,w.Copy(v,c,x,1,h-c+1),this.m_forwardHistory.push(x),(x=new Array(d-f+2))[0]=C-f+1,w.Copy(y,f,x,1,d-f+1),this.m_reverseHistory.push(x)}}return this.WALKTRACE(b,c,h,S,C,f,d,N,v,y,u,t,i,a,r,o,E,s)},e.prototype.ShiftChanges=function(e){var t;do{t=!1;for(var n=0;n<e.length;n++)for(var r=e[n],i=n<e.length-1?e[n+1].originalStart:this.OriginalSequence.getLength(),o=n<e.length-1?e[n+1].modifiedStart:this.ModifiedSequence.getLength(),s=r.originalLength>0,u=r.modifiedLength>0;r.originalStart+r.originalLength<i&&r.modifiedStart+r.modifiedLength<o&&(!s||this.OriginalElementsAreEqual(r.originalStart,r.originalStart+r.originalLength))&&(!u||this.ModifiedElementsAreEqual(r.modifiedStart,r.modifiedStart+r.modifiedLength));)r.originalStart++,r.modifiedStart++;var a=new Array,l=[null];for(n=0;n<e.length;n++)n<e.length-1&&this.ChangesOverlap(e[n],e[n+1],l)?(t=!0,a.push(l[0]),n++):a.push(e[n]);e=a}while(t);for(n=e.length-1;n>=0;n--){r=e[n],i=0,o=0;if(n>0){var c=e[n-1];c.originalLength>0&&(i=c.originalStart+c.originalLength),c.modifiedLength>0&&(o=c.modifiedStart+c.modifiedLength)}s=r.originalLength>0,u=r.modifiedLength>0;for(var h=0,f=this._boundaryScore(r.originalStart,r.originalLength,r.modifiedStart,r.modifiedLength),d=1;;d++){var m=r.originalStart-d,p=r.modifiedStart-d;if(m<i||p<o)break;if(s&&!this.OriginalElementsAreEqual(m,m+r.originalLength))break;if(u&&!this.ModifiedElementsAreEqual(p,p+r.modifiedLength))break;var _=this._boundaryScore(m,r.originalLength,p,r.modifiedLength);_>f&&(f=_,h=d)}r.originalStart-=h,r.modifiedStart-=h}return e},e.prototype._OriginalIsBoundary=function(e){if(e<=0||e>=this.OriginalSequence.getLength()-1)return!0;var t=this.OriginalSequence.getElementAtIndex(e);return"string"==typeof t&&/^\s*$/.test(t)},e.prototype._OriginalRegionIsBoundary=function(e,t){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(t>0){var n=e+t;if(this._OriginalIsBoundary(n-1)||this._OriginalIsBoundary(n))return!0}return!1},e.prototype._ModifiedIsBoundary=function(e){if(e<=0||e>=this.ModifiedSequence.getLength()-1)return!0;var t=this.ModifiedSequence.getElementAtIndex(e);return"string"==typeof t&&/^\s*$/.test(t)},e.prototype._ModifiedRegionIsBoundary=function(e,t){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(t>0){var n=e+t;if(this._ModifiedIsBoundary(n-1)||this._ModifiedIsBoundary(n))return!0}return!1},e.prototype._boundaryScore=function(e,t,n,r){return(this._OriginalRegionIsBoundary(e,t)?1:0)+(this._ModifiedRegionIsBoundary(n,r)?1:0)},e.prototype.ConcatenateChanges=function(e,t){var n=[],r=null;return 0===e.length||0===t.length?t.length>0?t:e:this.ChangesOverlap(e[e.length-1],t[0],n)?(r=new Array(e.length+t.length-1),w.Copy(e,0,r,0,e.length-1),r[e.length-1]=n[0],w.Copy(t,1,r,e.length,t.length-1),r):(r=new Array(e.length+t.length),w.Copy(e,0,r,0,e.length),w.Copy(t,0,r,e.length,t.length),r)},e.prototype.ChangesOverlap=function(e,t,n){if(A.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),A.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){var r=e.originalStart,i=e.originalLength,o=e.modifiedStart,s=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(i=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(s=t.modifiedStart+t.modifiedLength-e.modifiedStart),n[0]=new L(r,i,o,s),!0}return n[0]=null,!1},e.prototype.ClipDiagonalBound=function(e,t,n,r){if(e>=0&&e<r)return e;var i=t%2==0;return e<0?i===(n%2==0)?0:1:i===((r-n-1)%2==0)?r-1:r-2},e}();String.fromCharCode(65279);var x=5e3,k=3;function O(e,t,n,r){return new M(e,t,n).ComputeDiff(r)}var T=function(){function e(t){for(var n=[],r=[],i=0,o=t.length;i<o;i++)n[i]=e._getFirstNonBlankColumn(t[i],1),r[i]=e._getLastNonBlankColumn(t[i],1);this._lines=t,this._startColumns=n,this._endColumns=r}return e.prototype.getLength=function(){return this._lines.length},e.prototype.getElementAtIndex=function(e){return this._lines[e].substring(this._startColumns[e]-1,this._endColumns[e]-1)},e.prototype.getStartLineNumber=function(e){return e+1},e.prototype.getEndLineNumber=function(e){return e+1},e._getFirstNonBlankColumn=function(e,t){var n=function(e){for(var t=0,n=e.length;t<n;t++){var r=e.charCodeAt(t);if(32!==r&&9!==r)return t}return-1}(e);return-1===n?t:n+1},e._getLastNonBlankColumn=function(e,t){var n=function(e,t){void 0===t&&(t=e.length-1);for(var n=t;n>=0;n--){var r=e.charCodeAt(n);if(32!==r&&9!==r)return n}return-1}(e);return-1===n?t:n+2},e.prototype.getCharSequence=function(e,t,n){for(var r=[],i=[],o=[],s=0,u=t;u<=n;u++)for(var a=this._lines[u],l=e?this._startColumns[u]:1,c=e?this._endColumns[u]:a.length+1,h=l;h<c;h++)r[s]=a.charCodeAt(h-1),i[s]=u+1,o[s]=h,s++;return new I(r,i,o)},e}(),I=function(){function e(e,t,n){this._charCodes=e,this._lineNumbers=t,this._columns=n}return e.prototype.getLength=function(){return this._charCodes.length},e.prototype.getElementAtIndex=function(e){return this._charCodes[e]},e.prototype.getStartLineNumber=function(e){return this._lineNumbers[e]},e.prototype.getStartColumn=function(e){return this._columns[e]},e.prototype.getEndLineNumber=function(e){return this._lineNumbers[e]},e.prototype.getEndColumn=function(e){return this._columns[e]+1},e}(),D=function(){function e(e,t,n,r,i,o,s,u){this.originalStartLineNumber=e,this.originalStartColumn=t,this.originalEndLineNumber=n,this.originalEndColumn=r,this.modifiedStartLineNumber=i,this.modifiedStartColumn=o,this.modifiedEndLineNumber=s,this.modifiedEndColumn=u}return e.createFromDiffChange=function(t,n,r){var i,o,s,u,a,l,c,h;return 0===t.originalLength?(i=0,o=0,s=0,u=0):(i=n.getStartLineNumber(t.originalStart),o=n.getStartColumn(t.originalStart),s=n.getEndLineNumber(t.originalStart+t.originalLength-1),u=n.getEndColumn(t.originalStart+t.originalLength-1)),0===t.modifiedLength?(a=0,l=0,c=0,h=0):(a=r.getStartLineNumber(t.modifiedStart),l=r.getStartColumn(t.modifiedStart),c=r.getEndLineNumber(t.modifiedStart+t.modifiedLength-1),h=r.getEndColumn(t.modifiedStart+t.modifiedLength-1)),new e(i,o,s,u,a,l,c,h)},e}();var U=function(){function e(e,t,n,r,i){this.originalStartLineNumber=e,this.originalEndLineNumber=t,this.modifiedStartLineNumber=n,this.modifiedEndLineNumber=r,this.charChanges=i}return e.createFromDiffResult=function(t,n,r,i,o,s,u){var a,l,c,h,f;if(0===n.originalLength?(a=r.getStartLineNumber(n.originalStart)-1,l=0):(a=r.getStartLineNumber(n.originalStart),l=r.getEndLineNumber(n.originalStart+n.originalLength-1)),0===n.modifiedLength?(c=i.getStartLineNumber(n.modifiedStart)-1,h=0):(c=i.getStartLineNumber(n.modifiedStart),h=i.getEndLineNumber(n.modifiedStart+n.modifiedLength-1)),s&&0!==n.originalLength&&0!==n.modifiedLength&&o()){var d=r.getCharSequence(t,n.originalStart,n.originalStart+n.originalLength-1),m=i.getCharSequence(t,n.modifiedStart,n.modifiedStart+n.modifiedLength-1),p=O(d,m,o,!0);u&&(p=function(e){if(e.length<=1)return e;for(var t=[e[0]],n=t[0],r=1,i=e.length;r<i;r++){var o=e[r],s=o.originalStart-(n.originalStart+n.originalLength),u=o.modifiedStart-(n.modifiedStart+n.modifiedLength);Math.min(s,u)<k?(n.originalLength=o.originalStart+o.originalLength-n.originalStart,n.modifiedLength=o.modifiedStart+o.modifiedLength-n.modifiedStart):(t.push(o),n=o)}return t}(p)),f=[];for(var _=0,g=p.length;_<g;_++)f.push(D.createFromDiffChange(p[_],d,m))}return new e(a,l,c,h,f)},e}(),R=function(){function e(e,t,n){this.shouldComputeCharChanges=n.shouldComputeCharChanges,this.shouldPostProcessCharChanges=n.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=n.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=n.shouldMakePrettyDiff,this.maximumRunTimeMs=x,this.originalLines=e,this.modifiedLines=t,this.original=new T(e),this.modified=new T(t)}return e.prototype.computeDiff=function(){if(1===this.original.getLength()&&0===this.original.getElementAtIndex(0).length)return[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.getLength(),charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}];if(1===this.modified.getLength()&&0===this.modified.getElementAtIndex(0).length)return[{originalStartLineNumber:1,originalEndLineNumber:this.original.getLength(),modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}];this.computationStartTime=(new Date).getTime();var e=O(this.original,this.modified,this._continueProcessingPredicate.bind(this),this.shouldMakePrettyDiff);if(this.shouldIgnoreTrimWhitespace){for(var t=[],n=0,r=e.length;n<r;n++)t.push(U.createFromDiffResult(this.shouldIgnoreTrimWhitespace,e[n],this.original,this.modified,this._continueProcessingPredicate.bind(this),this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return t}for(var i=[],o=0,s=0,u=(n=-1,e.length);n<u;n++){for(var a=n+1<u?e[n+1]:null,l=a?a.originalStart:this.originalLines.length,c=a?a.modifiedStart:this.modifiedLines.length;o<l&&s<c;){var h=this.originalLines[o],f=this.modifiedLines[s];if(h!==f){for(var d=T._getFirstNonBlankColumn(h,1),m=T._getFirstNonBlankColumn(f,1);d>1&&m>1;){if(h.charCodeAt(d-2)!==f.charCodeAt(m-2))break;d--,m--}(d>1||m>1)&&this._pushTrimWhitespaceCharChange(i,o+1,1,d,s+1,1,m);for(var p=T._getLastNonBlankColumn(h,1),_=T._getLastNonBlankColumn(f,1),g=h.length+1,v=f.length+1;p<g&&_<v;){if(h.charCodeAt(p-1)!==h.charCodeAt(_-1))break;p++,_++}(p<g||_<v)&&this._pushTrimWhitespaceCharChange(i,o+1,p,g,s+1,_,v)}o++,s++}a&&(i.push(U.createFromDiffResult(this.shouldIgnoreTrimWhitespace,a,this.original,this.modified,this._continueProcessingPredicate.bind(this),this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),o+=a.originalLength,s+=a.modifiedLength)}return i},e.prototype._pushTrimWhitespaceCharChange=function(e,t,n,r,i,o,s){var u;this._mergeTrimWhitespaceCharChange(e,t,n,r,i,o,s)||(this.shouldComputeCharChanges&&(u=[new D(t,n,t,r,i,o,i,s)]),e.push(new U(t,t,i,i,u)))},e.prototype._mergeTrimWhitespaceCharChange=function(e,t,n,r,i,o,s){var u=e.length;if(0===u)return!1;var a=e[u-1];return 0!==a.originalEndLineNumber&&0!==a.modifiedEndLineNumber&&(a.originalEndLineNumber+1===t&&a.modifiedEndLineNumber+1===i&&(a.originalEndLineNumber=t,a.modifiedEndLineNumber=i,this.shouldComputeCharChanges&&a.charChanges.push(new D(t,n,t,r,i,o,i,s)),!0))},e.prototype._continueProcessingPredicate=function(){return 0===this.maximumRunTimeMs||(new Date).getTime()-this.computationStartTime<this.maximumRunTimeMs},e}(),K=function(){function e(e,t,n){for(var r=new Uint8Array(e*t),i=0,o=e*t;i<o;i++)r[i]=n;this._data=r,this.rows=e,this.cols=t}return e.prototype.get=function(e,t){return this._data[e*this.cols+t]},e.prototype.set=function(e,t,n){this._data[e*this.cols+t]=n},e}();function q(e){return e<0?0:e>255?255:0|e}function F(e){return e<0?0:e>4294967295?4294967295:0|e}var V=function(){return function(e,t){this.index=e,this.remainder=t}}(),W=function(){function e(e){this.values=e,this.prefixSum=new Uint32Array(e.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}return e.prototype.getCount=function(){return this.values.length},e.prototype.insertValues=function(e,t){e=F(e);var n=this.values,r=this.prefixSum,i=t.length;return 0!==i&&(this.values=new Uint32Array(n.length+i),this.values.set(n.subarray(0,e),0),this.values.set(n.subarray(e),e+i),this.values.set(t,e),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(r.subarray(0,this.prefixSumValidIndex[0]+1)),!0)},e.prototype.changeValue=function(e,t){return e=F(e),t=F(t),this.values[e]!==t&&(this.values[e]=t,e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),!0)},e.prototype.removeValues=function(e,t){e=F(e),t=F(t);var n=this.values,r=this.prefixSum;if(e>=n.length)return!1;var i=n.length-e;return t>=i&&(t=i),0!==t&&(this.values=new Uint32Array(n.length-t),this.values.set(n.subarray(0,e),0),this.values.set(n.subarray(e+t),e),this.prefixSum=new Uint32Array(this.values.length),e-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=e-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(r.subarray(0,this.prefixSumValidIndex[0]+1)),!0)},e.prototype.getTotalValue=function(){return 0===this.values.length?0:this._getAccumulatedValue(this.values.length-1)},e.prototype.getAccumulatedValue=function(e){return e<0?0:(e=F(e),this._getAccumulatedValue(e))},e.prototype._getAccumulatedValue=function(e){if(e<=this.prefixSumValidIndex[0])return this.prefixSum[e];var t=this.prefixSumValidIndex[0]+1;0===t&&(this.prefixSum[0]=this.values[0],t++),e>=this.values.length&&(e=this.values.length-1);for(var n=t;n<=e;n++)this.prefixSum[n]=this.prefixSum[n-1]+this.values[n];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],e),this.prefixSum[e]},e.prototype.getIndexOf=function(e){e=Math.floor(e),this.getTotalValue();for(var t,n,r,i=0,o=this.values.length-1;i<=o;)if(t=i+(o-i)/2|0,e<(r=(n=this.prefixSum[t])-this.values[t]))o=t-1;else{if(!(e>=n))break;i=t+1}return new V(t,e-r)},e}(),Y=(function(){function e(e){this._cacheAccumulatedValueStart=0,this._cache=null,this._actual=new W(e),this._bustCache()}e.prototype._bustCache=function(){this._cacheAccumulatedValueStart=0,this._cache=null},e.prototype.insertValues=function(e,t){this._actual.insertValues(e,t)&&this._bustCache()},e.prototype.changeValue=function(e,t){this._actual.changeValue(e,t)&&this._bustCache()},e.prototype.removeValues=function(e,t){this._actual.removeValues(e,t)&&this._bustCache()},e.prototype.getTotalValue=function(){return this._actual.getTotalValue()},e.prototype.getAccumulatedValue=function(e){return this._actual.getAccumulatedValue(e)},e.prototype.getIndexOf=function(e){if(e=Math.floor(e),null!==this._cache){var t=e-this._cacheAccumulatedValueStart;if(t>=0&&t<this._cache.length)return this._cache[t]}return this._actual.getIndexOf(e)},e.prototype.warmUpCache=function(e,t){for(var n=[],r=e;r<=t;r++)n[r-e]=this.getIndexOf(r);this._cache=n,this._cacheAccumulatedValueStart=e}}(),function(){function e(e,t,n,r){this._uri=e,this._lines=t,this._eol=n,this._versionId=r}return e.prototype.dispose=function(){this._lines.length=0},e.prototype.getText=function(){return this._lines.join(this._eol)},e.prototype.onEvents=function(e){e.eol&&e.eol!==this._eol&&(this._eol=e.eol,this._lineStarts=null);for(var t=e.changes,n=0,r=t.length;n<r;n++){var i=t[n];this._acceptDeleteRange(i.range),this._acceptInsertText(new C(i.range.startLineNumber,i.range.startColumn),i.text)}this._versionId=e.versionId},e.prototype._ensureLineStarts=function(){if(!this._lineStarts){for(var e=this._eol.length,t=this._lines.length,n=new Uint32Array(t),r=0;r<t;r++)n[r]=this._lines[r].length+e;this._lineStarts=new W(n)}},e.prototype._setLineText=function(e,t){this._lines[e]=t,this._lineStarts&&this._lineStarts.changeValue(e,this._lines[e].length+this._eol.length)},e.prototype._acceptDeleteRange=function(e){if(e.startLineNumber!==e.endLineNumber)this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.endLineNumber-1].substring(e.endColumn-1)),this._lines.splice(e.startLineNumber,e.endLineNumber-e.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(e.startLineNumber,e.endLineNumber-e.startLineNumber);else{if(e.startColumn===e.endColumn)return;this._setLineText(e.startLineNumber-1,this._lines[e.startLineNumber-1].substring(0,e.startColumn-1)+this._lines[e.startLineNumber-1].substring(e.endColumn-1))}},e.prototype._acceptInsertText=function(e,t){if(0!==t.length){var n=t.split(/\r\n|\r|\n/);if(1!==n.length){n[n.length-1]+=this._lines[e.lineNumber-1].substring(e.column-1),this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+n[0]);for(var r=new Uint32Array(n.length-1),i=1;i<n.length;i++)this._lines.splice(e.lineNumber+i-1,0,n[i]),r[i-1]=n[i].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(e.lineNumber,r)}else this._setLineText(e.lineNumber-1,this._lines[e.lineNumber-1].substring(0,e.column-1)+n[0]+this._lines[e.lineNumber-1].substring(e.column-1))}},e}()),j=function(){function e(t){var n=q(t);this._defaultValue=n,this._asciiMap=e._createAsciiMap(n),this._map=new Map}return e._createAsciiMap=function(e){for(var t=new Uint8Array(256),n=0;n<256;n++)t[n]=e;return t},e.prototype.set=function(e,t){var n=q(t);e>=0&&e<256?this._asciiMap[e]=n:this._map.set(e,n)},e.prototype.get=function(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue},e}(),B=(function(){function e(){this._actual=new j(0)}e.prototype.add=function(e){this._actual.set(e,1)},e.prototype.has=function(e){return 1===this._actual.get(e)}}(),function(){function e(e){for(var t=0,n=0,r=0,i=e.length;r<i;r++){var o=e[r],s=o[0],u=o[1],a=o[2];u>t&&(t=u),s>n&&(n=s),a>n&&(n=a)}var l=new K(++n,++t,0);for(r=0,i=e.length;r<i;r++){var c=e[r];s=c[0],u=c[1],a=c[2];l.set(s,u,a)}this._states=l,this._maxCharCode=t}return e.prototype.nextState=function(e,t){return t<0||t>=this._maxCharCode?0:this._states.get(e,t)},e}()),H=null;var J=null;var z=function(){function e(){}return e._createLink=function(e,t,n,r,i){var o=i-1;do{var s=t.charCodeAt(o);if(2!==e.get(s))break;o--}while(o>r);if(r>0){var u=t.charCodeAt(r-1),a=t.charCodeAt(o);(40===u&&41===a||91===u&&93===a||123===u&&125===a)&&o--}return{range:{startLineNumber:n,startColumn:r+1,endLineNumber:n,endColumn:o+2},url:t.substring(r,o+1)}},e.computeLinks=function(t){for(var n=(null===H&&(H=new B([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),H),r=function(){if(null===J){J=new j(0);for(var e=0;e<" \t<>'\"、。｡､，．：；？！＠＃＄％＆＊‘“〈《「『【〔（［｛｢｣｝］）〕】』」》〉”’｀～…".length;e++)J.set(" \t<>'\"、。｡､，．：；？！＠＃＄％＆＊‘“〈《「『【〔（［｛｢｣｝］）〕】』」》〉”’｀～…".charCodeAt(e),1);for(e=0;e<".,;".length;e++)J.set(".,;".charCodeAt(e),2)}return J}(),i=[],o=1,s=t.getLineCount();o<=s;o++){for(var u=t.getLineContent(o),a=u.length,l=0,c=0,h=0,f=1,d=!1,m=!1,p=!1;l<a;){var _=!1,g=u.charCodeAt(l);if(13===f){var v=void 0;switch(g){case 40:d=!0,v=0;break;case 41:v=d?0:1;break;case 91:m=!0,v=0;break;case 93:v=m?0:1;break;case 123:p=!0,v=0;break;case 125:v=p?0:1;break;case 39:v=34===h||96===h?0:1;break;case 34:v=39===h||96===h?0:1;break;case 96:v=39===h||34===h?0:1;break;default:v=r.get(g)}1===v&&(i.push(e._createLink(r,u,o,c,l)),_=!0)}else if(12===f){1===(v=r.get(g))?_=!0:f=13}else 0===(f=n.nextState(f,g))&&(_=!0);_&&(f=1,d=!1,m=!1,p=!1,c=l+1,h=g),l++}13===f&&i.push(e._createLink(r,u,o,c,a))}return i},e}();var Q=function(){function e(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}return e.prototype.navigateValueSet=function(e,t,n,r,i){var o;if(e&&t&&(o=this.doNavigateValueSet(t,i)))return{range:e,value:o};if(n&&r&&(o=this.doNavigateValueSet(r,i)))return{range:n,value:o};return null},e.prototype.doNavigateValueSet=function(e,t){var n=this.numberReplace(e,t);return null!==n?n:this.textReplace(e,t)},e.prototype.numberReplace=function(e,t){var n=Math.pow(10,e.length-(e.lastIndexOf(".")+1)),r=Number(e),i=parseFloat(e);return isNaN(r)||isNaN(i)||r!==i?null:0!==r||t?(r=Math.floor(r*n),r+=t?n:-n,String(r/n)):null},e.prototype.textReplace=function(e,t){return this.valueSetsReplace(this._defaultValueSet,e,t)},e.prototype.valueSetsReplace=function(e,t,n){for(var r=null,i=0,o=e.length;null===r&&i<o;i++)r=this.valueSetReplace(e[i],t,n);return r},e.prototype.valueSetReplace=function(e,t,n){var r=e.indexOf(t);return r>=0?((r+=n?1:-1)<0?r=e.length-1:r%=e.length,e[r]):null},e.INSTANCE=new e,e}(),G="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";var X=function(e){void 0===e&&(e="");for(var t="(-?\\d*\\.\\d\\w*)|([^",n=0;n<G.length;n++)e.indexOf(G[n])>=0||(t+="\\"+G[n]);return t+="\\s]+)",new RegExp(t,"g")}();var $={};b.a.addEventListener("error",function(e){var t=e.detail,n=t.id;t.parent?t.handler&&$&&delete $[n]:($[n]=t,1===Object.keys($).length&&setTimeout(function(){var e=$;$={},Object.keys(e).forEach(function(t){var n=e[t];n.exception?ee(n.exception):n.error&&ee(n.error),console.log("WARNING: Promise with no error callback:"+n.id),console.log(n),n.exception&&console.log(n.exception.stack)})},0))});var Z=new(function(){function e(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(function(){if(e.stack)throw new Error(e.message+"\n\n"+e.stack);throw e},0)}}return e.prototype.emit=function(e){this.listeners.forEach(function(t){t(e)})},e.prototype.onUnexpectedError=function(e){this.unexpectedErrorHandler(e),this.emit(e)},e.prototype.onUnexpectedExternalError=function(e){this.unexpectedErrorHandler(e)},e}());function ee(e){re(e)||Z.onUnexpectedError(e)}function te(e){return e instanceof Error?{$isError:!0,name:e.name,message:e.message,stack:e.stacktrace||e.stack}:e}var ne="Canceled";function re(e){return e instanceof Error&&e.name===ne&&e.message===ne}function ie(){var e=new Error(ne);return e.name=e.message,e}function oe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return Array.isArray(e)?(e.forEach(function(e){return e&&e.dispose()}),[]):0===t.length?e?(e.dispose(),e):void 0:(oe(e),oe(t),[])}var se,ue=function(){function e(){this._toDispose=[]}return Object.defineProperty(e.prototype,"toDispose",{get:function(){return this._toDispose},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._toDispose=oe(this._toDispose)},e.prototype._register=function(e){return this._toDispose.push(e),e},e.None=Object.freeze({dispose:function(){}}),e}(),ae=(function(){function e(e){this.object=e}e.prototype.dispose=function(){}}(),function(){return function(e){this.element=e}}()),le=function(){function e(){}return e.prototype.isEmpty=function(){return!this._first},e.prototype.unshift=function(e){return this.insert(e,!1)},e.prototype.push=function(e){return this.insert(e,!0)},e.prototype.insert=function(e,t){var n=this,r=new ae(e);if(this._first)if(t){var i=this._last;this._last=r,r.prev=i,i.next=r}else{var o=this._first;this._first=r,r.next=o,o.prev=r}else this._first=r,this._last=r;return function(){for(var e=n._first;e instanceof ae;e=e.next)if(e===r){if(e.prev&&e.next){var t=e.prev;t.next=e.next,e.next.prev=t}else e.prev||e.next?e.next?e.prev||(n._first=n._first.next,n._first.prev=void 0):(n._last=n._last.prev,n._last.next=void 0):(n._first=void 0,n._last=void 0);break}}},e.prototype.iterator=function(){var e={done:void 0,value:void 0},t=this._first;return{next:function(){return t?(e.done=!1,e.value=t.element,t=t.next):(e.done=!0,e.value=void 0),e}}},e}();!function(e){var t={dispose:function(){}};e.None=function(){return t}}(se||(se={}));var ce=function(){function e(e){this._options=e}return Object.defineProperty(e.prototype,"event",{get:function(){var t=this;return this._event||(this._event=function(n,r,i){t._listeners||(t._listeners=new le);var o=t._listeners.isEmpty();o&&t._options&&t._options.onFirstListenerAdd&&t._options.onFirstListenerAdd(t);var s,u=t._listeners.push(r?[n,r]:n);return o&&t._options&&t._options.onFirstListenerDidAdd&&t._options.onFirstListenerDidAdd(t),t._options&&t._options.onListenerDidAdd&&t._options.onListenerDidAdd(t,n,r),s={dispose:function(){s.dispose=e._noop,t._disposed||(u(),t._options&&t._options.onLastListenerRemove&&t._listeners.isEmpty()&&t._options.onLastListenerRemove(t))}},Array.isArray(i)&&i.push(s),s}),this._event},enumerable:!0,configurable:!0}),e.prototype.fire=function(e){if(this._listeners){this._deliveryQueue||(this._deliveryQueue=[]);for(var t=this._listeners.iterator(),n=t.next();!n.done;n=t.next())this._deliveryQueue.push([n.value,e]);for(;this._deliveryQueue.length>0;){var r=this._deliveryQueue.shift(),i=r[0],o=r[1];try{"function"==typeof i?i.call(void 0,o):i[0].call(i[1],o)}catch(n){ee(n)}}}},e.prototype.dispose=function(){this._listeners&&(this._listeners=void 0),this._deliveryQueue&&(this._deliveryQueue.length=0),this._disposed=!0},e._noop=function(){},e}();!function(){function e(){var e=this;this.hasListeners=!1,this.events=[],this.emitter=new ce({onFirstListenerAdd:function(){return e.onFirstListenerAdd()},onLastListenerRemove:function(){return e.onLastListenerRemove()}})}Object.defineProperty(e.prototype,"event",{get:function(){return this.emitter.event},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this,n={event:e,listener:null};this.events.push(n),this.hasListeners&&this.hook(n);return function(e){return{dispose:function(){e()}}}(function(e){var t,n=this,r=!1;return function(){return r?t:(r=!0,t=e.apply(n,arguments))}}(function(){t.hasListeners&&t.unhook(n);var e=t.events.indexOf(n);t.events.splice(e,1)}))},e.prototype.onFirstListenerAdd=function(){var e=this;this.hasListeners=!0,this.events.forEach(function(t){return e.hook(t)})},e.prototype.onLastListenerRemove=function(){var e=this;this.hasListeners=!1,this.events.forEach(function(t){return e.unhook(t)})},e.prototype.hook=function(e){var t=this;e.listener=e.event(function(e){return t.emitter.fire(e)})},e.prototype.unhook=function(e){e.listener.dispose(),e.listener=null},e.prototype.dispose=function(){this.emitter.dispose()}}();!function(){function e(){this.buffers=[]}e.prototype.wrapEvent=function(e){var t=this;return function(n,r,i){return e(function(e){var i=t.buffers[t.buffers.length-1];i?i.push(function(){return n.call(r,e)}):n.call(r,e)},void 0,i)}},e.prototype.bufferEvents=function(e){var t=[];this.buffers.push(t),e(),this.buffers.pop(),t.forEach(function(e){return e()})}}();!function(){function e(e){this._event=e}Object.defineProperty(e.prototype,"event",{get:function(){return this._event},enumerable:!0,configurable:!0}),e.prototype.map=function(t){return new e(function(e,t){return function(n,r,i){return void 0===r&&(r=null),e(function(e){return n.call(r,t(e))},null,i)}}(this._event,t))},e.prototype.filter=function(t){return new e(function(e,t){return function(n,r,i){return void 0===r&&(r=null),e(function(e){return t(e)&&n.call(r,e)},null,i)}}(this._event,t))},e.prototype.on=function(e,t,n){return this._event(e,t,n)}}();!function(){function e(){this.emitter=new ce,this.event=this.emitter.event,this.disposable=ue.None}Object.defineProperty(e.prototype,"input",{set:function(e){this.disposable.dispose(),this.disposable=e(this.emitter.fire,this.emitter)},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.disposable.dispose(),this.emitter.dispose()}}();var he,fe=function(){function e(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}return e.prototype.define=function(e,t){this._keyCodeToStr[e]=t,this._strToKeyCode[t.toLowerCase()]=e},e.prototype.keyCodeToStr=function(e){return this._keyCodeToStr[e]},e.prototype.strToKeyCode=function(e){return this._strToKeyCode[e.toLowerCase()]||0},e}(),de=new fe,me=new fe,pe=new fe;!function(){function e(e,t,n,r){void 0===n&&(n=t),void 0===r&&(r=n),de.define(e,t),me.define(e,n),pe.define(e,r)}e(0,"unknown"),e(1,"Backspace"),e(2,"Tab"),e(3,"Enter"),e(4,"Shift"),e(5,"Ctrl"),e(6,"Alt"),e(7,"PauseBreak"),e(8,"CapsLock"),e(9,"Escape"),e(10,"Space"),e(11,"PageUp"),e(12,"PageDown"),e(13,"End"),e(14,"Home"),e(15,"LeftArrow","Left"),e(16,"UpArrow","Up"),e(17,"RightArrow","Right"),e(18,"DownArrow","Down"),e(19,"Insert"),e(20,"Delete"),e(21,"0"),e(22,"1"),e(23,"2"),e(24,"3"),e(25,"4"),e(26,"5"),e(27,"6"),e(28,"7"),e(29,"8"),e(30,"9"),e(31,"A"),e(32,"B"),e(33,"C"),e(34,"D"),e(35,"E"),e(36,"F"),e(37,"G"),e(38,"H"),e(39,"I"),e(40,"J"),e(41,"K"),e(42,"L"),e(43,"M"),e(44,"N"),e(45,"O"),e(46,"P"),e(47,"Q"),e(48,"R"),e(49,"S"),e(50,"T"),e(51,"U"),e(52,"V"),e(53,"W"),e(54,"X"),e(55,"Y"),e(56,"Z"),e(57,"Meta"),e(58,"ContextMenu"),e(59,"F1"),e(60,"F2"),e(61,"F3"),e(62,"F4"),e(63,"F5"),e(64,"F6"),e(65,"F7"),e(66,"F8"),e(67,"F9"),e(68,"F10"),e(69,"F11"),e(70,"F12"),e(71,"F13"),e(72,"F14"),e(73,"F15"),e(74,"F16"),e(75,"F17"),e(76,"F18"),e(77,"F19"),e(78,"NumLock"),e(79,"ScrollLock"),e(80,";",";","OEM_1"),e(81,"=","=","OEM_PLUS"),e(82,",",",","OEM_COMMA"),e(83,"-","-","OEM_MINUS"),e(84,".",".","OEM_PERIOD"),e(85,"/","/","OEM_2"),e(86,"`","`","OEM_3"),e(110,"ABNT_C1"),e(111,"ABNT_C2"),e(87,"[","[","OEM_4"),e(88,"\\","\\","OEM_5"),e(89,"]","]","OEM_6"),e(90,"'","'","OEM_7"),e(91,"OEM_8"),e(92,"OEM_102"),e(93,"NumPad0"),e(94,"NumPad1"),e(95,"NumPad2"),e(96,"NumPad3"),e(97,"NumPad4"),e(98,"NumPad5"),e(99,"NumPad6"),e(100,"NumPad7"),e(101,"NumPad8"),e(102,"NumPad9"),e(103,"NumPad_Multiply"),e(104,"NumPad_Add"),e(105,"NumPad_Separator"),e(106,"NumPad_Subtract"),e(107,"NumPad_Decimal"),e(108,"NumPad_Divide")}(),function(e){e.toString=function(e){return de.keyCodeToStr(e)},e.fromString=function(e){return de.strToKeyCode(e)},e.toUserSettingsUS=function(e){return me.keyCodeToStr(e)},e.toUserSettingsGeneral=function(e){return pe.keyCodeToStr(e)},e.fromUserSettings=function(e){return me.strToKeyCode(e)||pe.strToKeyCode(e)}}(he||(he={}));!function(){function e(e,t,n,r,i){this.type=1,this.ctrlKey=e,this.shiftKey=t,this.altKey=n,this.metaKey=r,this.keyCode=i}e.prototype.equals=function(e){return 1===e.type&&(this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode)},e.prototype.isModifierKey=function(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode},e.prototype.isDuplicateModifierCase=function(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode}}();var _e,ge=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(_e||(_e={}));var ve,ye=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r,i)||this;return o.selectionStartLineNumber=t,o.selectionStartColumn=n,o.positionLineNumber=r,o.positionColumn=i,o}return ge(t,e),t.prototype.clone=function(){return new t(this.selectionStartLineNumber,this.selectionStartColumn,this.positionLineNumber,this.positionColumn)},t.prototype.toString=function(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"},t.prototype.equalsSelection=function(e){return t.selectionsEqual(this,e)},t.selectionsEqual=function(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn},t.prototype.getDirection=function(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?_e.LTR:_e.RTL},t.prototype.setEndPosition=function(e,n){return this.getDirection()===_e.LTR?new t(this.startLineNumber,this.startColumn,e,n):new t(e,n,this.startLineNumber,this.startColumn)},t.prototype.getPosition=function(){return new C(this.positionLineNumber,this.positionColumn)},t.prototype.setStartPosition=function(e,n){return this.getDirection()===_e.LTR?new t(e,n,this.endLineNumber,this.endColumn):new t(this.endLineNumber,this.endColumn,e,n)},t.fromPositions=function(e,n){return void 0===n&&(n=e),new t(e.lineNumber,e.column,n.lineNumber,n.column)},t.liftSelection=function(e){return new t(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)},t.selectionsArrEqual=function(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(!this.selectionsEqual(e[n],t[n]))return!1;return!0},t.isISelection=function(e){return e&&"number"==typeof e.selectionStartLineNumber&&"number"==typeof e.selectionStartColumn&&"number"==typeof e.positionLineNumber&&"number"==typeof e.positionColumn},t.createWithDirection=function(e,n,r,i,o){return o===_e.LTR?new t(e,n,r,i):new t(r,i,e,n)},t}(S),be=Object.freeze(function(e,t){var n=setTimeout(e.bind(t),0);return{dispose:function(){clearTimeout(n)}}});!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:se.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:be})}(ve||(ve={}));var Ce,Se,Le=function(){function e(){this._isCancelled=!1}return e.prototype.cancel=function(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))},Object.defineProperty(e.prototype,"isCancellationRequested",{get:function(){return this._isCancelled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onCancellationRequested",{get:function(){return this._isCancelled?be:(this._emitter||(this._emitter=new ce),this._emitter.event)},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)},e}(),Ne=function(){function e(){}return Object.defineProperty(e.prototype,"token",{get:function(){return this._token||(this._token=new Le),this._token},enumerable:!0,configurable:!0}),e.prototype.cancel=function(){this._token?this._token instanceof Le&&this._token.cancel():this._token=ve.Cancelled},e.prototype.dispose=function(){this._token?this._token instanceof Le&&this._token.dispose():this._token=ve.None},e}(),Ee=function(){function e(e,t,n){this.offset=0|e,this.type=t,this.language=n}return e.prototype.toString=function(){return"("+this.offset+", "+this.type+")"},e}();!function(e){e[e.Unnecessary=1]="Unnecessary"}(Ce||(Ce={})),function(e){e[e.Hint=1]="Hint",e[e.Info=2]="Info",e[e.Warning=4]="Warning",e[e.Error=8]="Error"}(Se||(Se={}));var Ae,we=function(){function e(){}return e.chord=function(e,t){return function(e,t){return(e|(65535&t)<<16>>>0)>>>0}(e,t)},e.CtrlCmd=2048,e.Shift=1024,e.Alt=512,e.WinCtrl=256,e}();!function(e){e[e.Unknown=0]="Unknown",e[e.Backspace=1]="Backspace",e[e.Tab=2]="Tab",e[e.Enter=3]="Enter",e[e.Shift=4]="Shift",e[e.Ctrl=5]="Ctrl",e[e.Alt=6]="Alt",e[e.PauseBreak=7]="PauseBreak",e[e.CapsLock=8]="CapsLock",e[e.Escape=9]="Escape",e[e.Space=10]="Space",e[e.PageUp=11]="PageUp",e[e.PageDown=12]="PageDown",e[e.End=13]="End",e[e.Home=14]="Home",e[e.LeftArrow=15]="LeftArrow",e[e.UpArrow=16]="UpArrow",e[e.RightArrow=17]="RightArrow",e[e.DownArrow=18]="DownArrow",e[e.Insert=19]="Insert",e[e.Delete=20]="Delete",e[e.KEY_0=21]="KEY_0",e[e.KEY_1=22]="KEY_1",e[e.KEY_2=23]="KEY_2",e[e.KEY_3=24]="KEY_3",e[e.KEY_4=25]="KEY_4",e[e.KEY_5=26]="KEY_5",e[e.KEY_6=27]="KEY_6",e[e.KEY_7=28]="KEY_7",e[e.KEY_8=29]="KEY_8",e[e.KEY_9=30]="KEY_9",e[e.KEY_A=31]="KEY_A",e[e.KEY_B=32]="KEY_B",e[e.KEY_C=33]="KEY_C",e[e.KEY_D=34]="KEY_D",e[e.KEY_E=35]="KEY_E",e[e.KEY_F=36]="KEY_F",e[e.KEY_G=37]="KEY_G",e[e.KEY_H=38]="KEY_H",e[e.KEY_I=39]="KEY_I",e[e.KEY_J=40]="KEY_J",e[e.KEY_K=41]="KEY_K",e[e.KEY_L=42]="KEY_L",e[e.KEY_M=43]="KEY_M",e[e.KEY_N=44]="KEY_N",e[e.KEY_O=45]="KEY_O",e[e.KEY_P=46]="KEY_P",e[e.KEY_Q=47]="KEY_Q",e[e.KEY_R=48]="KEY_R",e[e.KEY_S=49]="KEY_S",e[e.KEY_T=50]="KEY_T",e[e.KEY_U=51]="KEY_U",e[e.KEY_V=52]="KEY_V",e[e.KEY_W=53]="KEY_W",e[e.KEY_X=54]="KEY_X",e[e.KEY_Y=55]="KEY_Y",e[e.KEY_Z=56]="KEY_Z",e[e.Meta=57]="Meta",e[e.ContextMenu=58]="ContextMenu",e[e.F1=59]="F1",e[e.F2=60]="F2",e[e.F3=61]="F3",e[e.F4=62]="F4",e[e.F5=63]="F5",e[e.F6=64]="F6",e[e.F7=65]="F7",e[e.F8=66]="F8",e[e.F9=67]="F9",e[e.F10=68]="F10",e[e.F11=69]="F11",e[e.F12=70]="F12",e[e.F13=71]="F13",e[e.F14=72]="F14",e[e.F15=73]="F15",e[e.F16=74]="F16",e[e.F17=75]="F17",e[e.F18=76]="F18",e[e.F19=77]="F19",e[e.NumLock=78]="NumLock",e[e.ScrollLock=79]="ScrollLock",e[e.US_SEMICOLON=80]="US_SEMICOLON",e[e.US_EQUAL=81]="US_EQUAL",e[e.US_COMMA=82]="US_COMMA",e[e.US_MINUS=83]="US_MINUS",e[e.US_DOT=84]="US_DOT",e[e.US_SLASH=85]="US_SLASH",e[e.US_BACKTICK=86]="US_BACKTICK",e[e.US_OPEN_SQUARE_BRACKET=87]="US_OPEN_SQUARE_BRACKET",e[e.US_BACKSLASH=88]="US_BACKSLASH",e[e.US_CLOSE_SQUARE_BRACKET=89]="US_CLOSE_SQUARE_BRACKET",e[e.US_QUOTE=90]="US_QUOTE",e[e.OEM_8=91]="OEM_8",e[e.OEM_102=92]="OEM_102",e[e.NUMPAD_0=93]="NUMPAD_0",e[e.NUMPAD_1=94]="NUMPAD_1",e[e.NUMPAD_2=95]="NUMPAD_2",e[e.NUMPAD_3=96]="NUMPAD_3",e[e.NUMPAD_4=97]="NUMPAD_4",e[e.NUMPAD_5=98]="NUMPAD_5",e[e.NUMPAD_6=99]="NUMPAD_6",e[e.NUMPAD_7=100]="NUMPAD_7",e[e.NUMPAD_8=101]="NUMPAD_8",e[e.NUMPAD_9=102]="NUMPAD_9",e[e.NUMPAD_MULTIPLY=103]="NUMPAD_MULTIPLY",e[e.NUMPAD_ADD=104]="NUMPAD_ADD",e[e.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",e[e.NUMPAD_SUBTRACT=106]="NUMPAD_SUBTRACT",e[e.NUMPAD_DECIMAL=107]="NUMPAD_DECIMAL",e[e.NUMPAD_DIVIDE=108]="NUMPAD_DIVIDE",e[e.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",e[e.ABNT_C1=110]="ABNT_C1",e[e.ABNT_C2=111]="ABNT_C2",e[e.MAX_VALUE=112]="MAX_VALUE"}(Ae||(Ae={}));var Pe=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Me=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pe(t,e),Object.defineProperty(t.prototype,"uri",{get:function(){return this._uri},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._versionId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eol",{get:function(){return this._eol},enumerable:!0,configurable:!0}),t.prototype.getValue=function(){return this.getText()},t.prototype.getLinesContent=function(){return this._lines.slice(0)},t.prototype.getLineCount=function(){return this._lines.length},t.prototype.getLineContent=function(e){return this._lines[e-1]},t.prototype.getWordAtPosition=function(e,t){var n=function(e,t,n,r){t.lastIndex=0;var i=t.exec(n);if(!i)return null;var o=i[0].indexOf(" ")>=0?function(e,t,n,r){var i,o=e-1-r;for(t.lastIndex=0;i=t.exec(n);){if(i.index>o)return null;if(t.lastIndex>=o)return{word:i[0],startColumn:r+1+i.index,endColumn:r+1+t.lastIndex}}return null}(e,t,n,r):function(e,t,n,r){var i,o=e-1-r,s=n.lastIndexOf(" ",o-1)+1,u=n.indexOf(" ",o);for(-1===u&&(u=n.length),t.lastIndex=s;i=t.exec(n);)if(i.index<=o&&t.lastIndex>=o)return{word:i[0],startColumn:r+1+i.index,endColumn:r+1+t.lastIndex};return null}(e,t,n,r);return t.lastIndex=0,o}(e.column,function(e){var t=X;if(e&&e instanceof RegExp)if(e.global)t=e;else{var n="g";e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),t=new RegExp(e.source,n)}return t.lastIndex=0,t}(t),this._lines[e.lineNumber-1],0);return n?new S(e.lineNumber,n.startColumn,e.lineNumber,n.endColumn):null},t.prototype.getWordUntilPosition=function(e,t){var n=this.getWordAtPosition(e,t);return n?{word:this._lines[e.lineNumber-1].substring(n.startColumn-1,e.column-1),startColumn:n.startColumn,endColumn:e.column}:{word:"",startColumn:e.column,endColumn:e.column}},t.prototype.createWordIterator=function(e){var t,n=this,r={done:!1,value:""},i=0,o=0,s=[],u=function(){if(o<s.length)r.done=!1,r.value=t.substring(s[o].start,s[o].end),o+=1;else{if(!(i>=n._lines.length))return t=n._lines[i],s=n._wordenize(t,e),o=0,i+=1,u();r.done=!0,r.value=void 0}return r};return{next:u}},t.prototype._wordenize=function(e,t){var n,r=[];for(t.lastIndex=0;(n=t.exec(e))&&0!==n[0].length;)r.push({start:n.index,end:n.index+n[0].length});return r},t.prototype.getValueInRange=function(e){if((e=this._validateRange(e)).startLineNumber===e.endLineNumber)return this._lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);var t=this._eol,n=e.startLineNumber-1,r=e.endLineNumber-1,i=[];i.push(this._lines[n].substring(e.startColumn-1));for(var o=n+1;o<r;o++)i.push(this._lines[o]);return i.push(this._lines[r].substring(0,e.endColumn-1)),i.join(t)},t.prototype.offsetAt=function(e){return e=this._validatePosition(e),this._ensureLineStarts(),this._lineStarts.getAccumulatedValue(e.lineNumber-2)+(e.column-1)},t.prototype.positionAt=function(e){e=Math.floor(e),e=Math.max(0,e),this._ensureLineStarts();var t=this._lineStarts.getIndexOf(e),n=this._lines[t.index].length;return{lineNumber:1+t.index,column:1+Math.min(t.remainder,n)}},t.prototype._validateRange=function(e){var t=this._validatePosition({lineNumber:e.startLineNumber,column:e.startColumn}),n=this._validatePosition({lineNumber:e.endLineNumber,column:e.endColumn});return t.lineNumber!==e.startLineNumber||t.column!==e.startColumn||n.lineNumber!==e.endLineNumber||n.column!==e.endColumn?{startLineNumber:t.lineNumber,startColumn:t.column,endLineNumber:n.lineNumber,endColumn:n.column}:e},t.prototype._validatePosition=function(e){if(!C.isIPosition(e))throw new Error("bad position");var t=e.lineNumber,n=e.column,r=!1;if(t<1)t=1,n=1,r=!0;else if(t>this._lines.length)t=this._lines.length,n=this._lines[t-1].length+1,r=!0;else{var i=this._lines[t-1].length+1;n<1?(n=1,r=!0):n>i&&(n=i,r=!0)}return r?{lineNumber:t,column:n}:e},t}(Y),xe=function(e){function t(t){var n=e.call(this,t)||this;return n._models=Object.create(null),n}return Pe(t,e),t.prototype.dispose=function(){this._models=Object.create(null)},t.prototype._getModel=function(e){return this._models[e]},t.prototype._getModels=function(){var e=this,t=[];return Object.keys(this._models).forEach(function(n){return t.push(e._models[n])}),t},t.prototype.acceptNewModel=function(e){this._models[e.url]=new Me(d.parse(e.url),e.lines,e.EOL,e.versionId)},t.prototype.acceptModelChanged=function(e,t){this._models[e]&&this._models[e].onEvents(t)},t.prototype.acceptRemovedModel=function(e){this._models[e]&&delete this._models[e]},t}(function(){function e(e){this._foreignModuleFactory=e,this._foreignModule=null}return e.prototype.computeDiff=function(e,t,n){var r=this._getModel(e),i=this._getModel(t);if(!r||!i)return null;var o=r.getLinesContent(),s=i.getLinesContent(),u=new R(o,s,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:n,shouldMakePrettyDiff:!0});return b.a.as(u.computeDiff())},e.prototype.computeMoreMinimalEdits=function(t,n){var r=this._getModel(t);if(!r)return b.a.as(n);for(var i,o=[],s=0,u=n;s<u.length;s++){var a=u[s],l=a.range,c=a.text,h=a.eol;if("number"==typeof h&&(i=h),l){var f=r.getValueInRange(l);if(f!==(c=c.replace(/\r\n|\n|\r/g,r.eol)))if(Math.max(c.length,f.length)>e._diffLimit)o.push({range:l,text:c});else for(var d=E(f,c,!1),m=r.offsetAt(S.lift(l).getStartPosition()),p=0,_=d;p<_.length;p++){var g=_[p],v=r.positionAt(m+g.originalStart),y=r.positionAt(m+g.originalStart+g.originalLength),C={text:c.substr(g.modifiedStart,g.modifiedLength),range:{startLineNumber:v.lineNumber,startColumn:v.column,endLineNumber:y.lineNumber,endColumn:y.column}};r.getValueInRange(C.range)!==C.text&&o.push(C)}}}return"number"==typeof i&&o.push({eol:i,text:void 0,range:void 0}),b.a.as(o)},e.prototype.computeLinks=function(e){var t=this._getModel(e);return t?b.a.as(function(e){return e&&"function"==typeof e.getLineCount&&"function"==typeof e.getLineContent?z.computeLinks(e):[]}(t)):null},e.prototype.textualSuggest=function(t,n,r,i){var o=this._getModel(t);if(o){var s=[],u=new RegExp(r,i),a=o.getWordUntilPosition(n,u).word,l=Object.create(null);l[a]=!0;for(var c=o.createWordIterator(u),h=c.next();!h.done&&s.length<=e._suggestionsLimit;h=c.next()){var f=h.value;l[f]||(l[f]=!0,isNaN(Number(f))&&s.push({type:"text",label:f,insertText:f,noAutoAccept:!0,overwriteBefore:a.length}))}return b.a.as({suggestions:s})}},e.prototype.navigateValueSet=function(e,t,n,r,i){var o=this._getModel(e);if(!o)return null;var s=new RegExp(r,i);t.startColumn===t.endColumn&&(t={startLineNumber:t.startLineNumber,startColumn:t.startColumn,endLineNumber:t.endLineNumber,endColumn:t.endColumn+1});var u=o.getValueInRange(t),a=o.getWordAtPosition({lineNumber:t.startLineNumber,column:t.startColumn},s),l=null;null!==a&&(l=o.getValueInRange(a));var c=Q.INSTANCE.navigateValueSet(t,u,a,l,n);return b.a.as(c)},e.prototype.loadForeignModule=function(e,t){var n=this,r={getMirrorModels:function(){return n._getModels()}};if(this._foreignModuleFactory){this._foreignModule=this._foreignModuleFactory(r,t);var i=[];for(var o in this._foreignModule)"function"==typeof this._foreignModule[o]&&i.push(o);return b.a.as(i)}return b.a.wrapError(new Error("Unexpected usage"))},e.prototype.fmr=function(e,t){if(!this._foreignModule||"function"!=typeof this._foreignModule[e])return b.a.wrapError(new Error("Missing requestHandler or method: "+e));try{return b.a.as(this._foreignModule[e].apply(this._foreignModule,t))}catch(e){return b.a.wrapError(e)}},e._diffLimit=1e4,e._suggestionsLimit=1e4,e}());"function"==typeof importScripts&&(i.a.monaco={editor:void 0,languages:void 0,CancellationTokenSource:Ne,Emitter:ce,KeyCode:Ae,KeyMod:we,Position:C,Range:S,Selection:ye,SelectionDirection:_e,MarkerSeverity:Se,MarkerTag:Ce,Promise:b.a,Uri:d,Token:Ee});var ke=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();(function(){function e(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}e.prototype.queue=function(e){var t=this;if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){var n=function(){t.queuedPromise=null;var e=t.queue(t.queuedPromiseFactory);return t.queuedPromiseFactory=null,e};this.queuedPromise=new b.a(function(e,r,i){t.activePromise.then(n,n,i).done(e)},function(){t.activePromise.cancel()})}return new b.a(function(e,n,r){t.queuedPromise.then(e,n,r)},function(){})}return this.activePromise=e(),new b.a(function(e,n,r){t.activePromise.done(function(n){t.activePromise=null,e(n)},function(e){t.activePromise=null,n(e)},r)},function(){t.activePromise.cancel()})}})(),function(){function e(e){this.defaultDelay=e,this.timeout=null,this.completionPromise=null,this.onSuccess=null,this.task=null}e.prototype.trigger=function(e,t){var n=this;return void 0===t&&(t=this.defaultDelay),this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new b.a(function(e){n.onSuccess=e},function(){}).then(function(){n.completionPromise=null,n.onSuccess=null;var e=n.task;return n.task=null,e()})),this.timeout=setTimeout(function(){n.timeout=null,n.onSuccess(null)},t),this.completionPromise},e.prototype.cancel=function(){this.cancelTimeout(),this.completionPromise&&(this.completionPromise.cancel(),this.completionPromise=null)},e.prototype.cancelTimeout=function(){null!==this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}}();var Oe=function(e){function t(t){var n,r,i,o;return n=e.call(this,function(e,t,n){r=e,i=t,o=n},function(){i(ie())})||this,t.then(r,i,o),n}return ke(t,e),t}(b.a);(function(e){function t(){var t=e.call(this)||this;return t._token=-1,t}ke(t,e),t.prototype.dispose=function(){this.cancel(),e.prototype.dispose.call(this)},t.prototype.cancel=function(){-1!==this._token&&(clearTimeout(this._token),this._token=-1)},t.prototype.cancelAndSet=function(e,t){var n=this;this.cancel(),this._token=setTimeout(function(){n._token=-1,e()},t)},t.prototype.setIfNotSet=function(e,t){var n=this;-1===this._token&&(this._token=setTimeout(function(){n._token=-1,e()},t))}})(ue),function(e){function t(){var t=e.call(this)||this;return t._token=-1,t}ke(t,e),t.prototype.dispose=function(){this.cancel(),e.prototype.dispose.call(this)},t.prototype.cancel=function(){-1!==this._token&&(clearInterval(this._token),this._token=-1)},t.prototype.cancelAndSet=function(e,t){this.cancel(),this._token=setInterval(function(){e()},t)}}(ue),function(){function e(e,t){this.timeoutToken=-1,this.runner=e,this.timeout=t,this.timeoutHandler=this.onTimeout.bind(this)}e.prototype.dispose=function(){this.cancel(),this.runner=null},e.prototype.cancel=function(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)},e.prototype.schedule=function(e){void 0===e&&(e=this.timeout),this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)},e.prototype.isScheduled=function(){return-1!==this.timeoutToken},e.prototype.onTimeout=function(){this.timeoutToken=-1,this.runner&&this.doRun()},e.prototype.doRun=function(){this.runner()}}();var Te=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ie="$initialize";var De=function(){function e(e){this._workerId=-1,this._handler=e,this._lastSentReq=0,this._pendingReplies=Object.create(null)}return e.prototype.setWorkerId=function(e){this._workerId=e},e.prototype.sendMessage=function(e,t){var n=String(++this._lastSentReq),r={c:null,e:null},i=new b.a(function(e,t){r.c=e,r.e=t},function(){});return this._pendingReplies[n]=r,this._send({vsWorker:this._workerId,req:n,method:e,args:t}),i},e.prototype.handleMessage=function(e){var t;try{t=JSON.parse(e)}catch(e){}t&&t.vsWorker&&(-1!==this._workerId&&t.vsWorker!==this._workerId||this._handleMessage(t))},e.prototype._handleMessage=function(e){var t=this;if(e.seq){var n=e;if(!this._pendingReplies[n.seq])return void console.warn("Got reply to unknown seq");var r=this._pendingReplies[n.seq];if(delete this._pendingReplies[n.seq],n.err){var i=n.err;return n.err.$isError&&((i=new Error).name=n.err.name,i.message=n.err.message,i.stack=n.err.stack),void r.e(i)}r.c(n.res)}else{var o=e,s=o.req;this._handler.handleMessage(o.method,o.args).then(function(e){t._send({vsWorker:t._workerId,seq:s,res:e,err:void 0})},function(e){e.detail instanceof Error&&(e.detail=te(e.detail)),t._send({vsWorker:t._workerId,seq:s,res:void 0,err:te(e)})})}},e.prototype._send=function(e){var t=JSON.stringify(e);this._handler.sendMessage(t)},e}(),Ue=(function(e){function t(t,n){var r=e.call(this)||this,i=null,o=null;r._worker=r._register(t.create("vs/base/common/worker/simpleWorker",function(e){r._protocol.handleMessage(e)},function(e){o(e)})),r._protocol=new De({sendMessage:function(e){r._worker.postMessage(e)},handleMessage:function(e,t){return b.a.as(null)}}),r._protocol.setWorkerId(r._worker.getId());var s=null;void 0!==self.require&&"function"==typeof self.require.getConfig?s=self.require.getConfig():void 0!==self.requirejs&&(s=self.requirejs.s.contexts._.config),r._lazyProxy=new b.a(function(e,t){i=e,o=t},function(){}),r._onModuleLoaded=r._protocol.sendMessage(Ie,[r._worker.getId(),n,s]),r._onModuleLoaded.then(function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=a(e[n],u);i(t)},function(e){o(e),r._onError("Worker failed to load "+n,e)});var u=function(e,t){return r._request(e,t)},a=function(e,t){return function(){var n=Array.prototype.slice.call(arguments,0);return t(e,n)}};return r}Te(t,e),t.prototype.getProxyObject=function(){return new Oe(this._lazyProxy)},t.prototype._request=function(e,t){var n=this;return new b.a(function(r,i){n._onModuleLoaded.then(function(){n._protocol.sendMessage(e,t).then(r,i)},i)},function(){})},t.prototype._onError=function(e,t){console.error(e),console.info(t)}}(ue),function(){function e(e,t){var n=this;this._requestHandler=t,this._protocol=new De({sendMessage:function(t){e(t)},handleMessage:function(e,t){return n._handleMessage(e,t)}})}return e.prototype.onmessage=function(e){this._protocol.handleMessage(e)},e.prototype._handleMessage=function(e,t){if(e===Ie)return this.initialize(t[0],t[1],t[2]);if(!this._requestHandler||"function"!=typeof this._requestHandler[e])return b.a.wrapError(new Error("Missing requestHandler or method: "+e));try{return b.a.as(this._requestHandler[e].apply(this._requestHandler,t))}catch(e){return b.a.wrapError(e)}},e.prototype.initialize=function(e,t,n){var r,i,o=this;if(this._protocol.setWorkerId(e),this._requestHandler){var s=[];for(var u in this._requestHandler)"function"==typeof this._requestHandler[u]&&s.push(u);return b.a.as(s)}n&&(void 0!==n.baseUrl&&delete n.baseUrl,void 0!==n.paths&&void 0!==n.paths.vs&&delete n.paths.vs,n.catchError=!0,self.require.config(n));var a=new b.a(function(e,t){r=e,i=t});return self.require([t],function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0];o._requestHandler=n.create();var i=[];for(var s in o._requestHandler)"function"==typeof o._requestHandler[s]&&i.push(s);r(i)},i),a},e}());n.d(t,"initialize",function(){return Ke});var Re=!1;function Ke(e){if(!Re){Re=!0;var t=new xe(e),n=new Ue(function(e){self.postMessage(e)},t);self.onmessage=function(e){n.onmessage(e.data)}}}self.onmessage=function(e){Re||Ke(null)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2Jhc2UvY29tbW9uL3dpbmpzLmJhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2Jhc2UvY29tbW9uL3BsYXRmb3JtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vdXJpLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL2NvcmUvcG9zaXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vY29yZS9yYW5nZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vZGlmZi9kaWZmQ2hhbmdlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9iYXNlL2NvbW1vbi9kaWZmL2RpZmYuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2Jhc2UvY29tbW9uL3N0cmluZ3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vZGlmZi9kaWZmQ29tcHV0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vY29yZS91aW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL3ZpZXdNb2RlbC9wcmVmaXhTdW1Db21wdXRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9tb2RlbC9taXJyb3JUZXh0TW9kZWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vY29yZS9jaGFyYWN0ZXJDbGFzc2lmaWVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL21vZGVzL2xpbmtDb21wdXRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9tb2Rlcy9zdXBwb3J0cy9pbnBsYWNlUmVwbGFjZVN1cHBvcnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vbW9kZWwvd29yZEhlbHBlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vZXJyb3JzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9iYXNlL2NvbW1vbi9saWZlY3ljbGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2Jhc2UvY29tbW9uL2V2ZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9iYXNlL2NvbW1vbi9saW5rZWRMaXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9iYXNlL2NvbW1vbi9mdW5jdGlvbmFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9iYXNlL2NvbW1vbi9rZXlDb2Rlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9jb3JlL3NlbGVjdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vY2FuY2VsbGF0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL3N0YW5kYWxvbmUvc3RhbmRhbG9uZUJhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vY29yZS90b2tlbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9zZXJ2aWNlcy9lZGl0b3JTaW1wbGVXb3JrZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2Jhc2UvY29tbW9uL2FzeW5jLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9iYXNlL2NvbW1vbi93b3JrZXIvc2ltcGxlV29ya2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvZWRpdG9yLndvcmtlci5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImdsb2JhbCIsInByb2Nlc3MiLCJfX3dpbmpzX2V4cG9ydHMiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiVFByb21pc2UiLCJfbW9kdWxlcyIsIl93aW5qcyIsImRlcHMiLCJmYWN0b3J5IiwiZXhwb3J0c1Bhc3NlZEluIiwiZGVwc1ZhbHVlcyIsIm1hcCIsImRlcCIsInJlc3VsdCIsImFwcGx5Iiwid2luZG93Iiwic2VsZiIsIl9HbG9iYWwiLCJhY3R1YWxTZXRJbW1lZGlhdGUiLCJoYXNXaW5SVCIsIldpbmRvd3MiLCJtYXJrU3VwcG9ydGVkRm9yUHJvY2Vzc2luZyIsImZ1bmMiLCJzdXBwb3J0ZWRGb3JQcm9jZXNzaW5nIiwiX3NldEltbWVkaWF0ZSIsImNhbGxiYWNrIiwic2V0SW1tZWRpYXRlIiwibmV4dFRpY2siLCJzZXRUaW1lb3V0IiwibXNXcml0ZVByb2ZpbGVyTWFyayIsIl9XaW5KUyIsIl9CYXNlQ29yZVV0aWxzIiwiX1dyaXRlUHJvZmlsZXJNYXJrIiwiaW5pdGlhbGl6ZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJtZW1iZXJzIiwicHJlZml4IiwicHJvcGVydGllcyIsImxlbiIsImtleXMiLCJpc0FycmF5IiwiQXJyYXkiLCJsZW5ndGgiLCJjaGFyQ29kZUF0IiwibWVtYmVyIiwidW5kZWZpbmVkIiwic2V0IiwiZm9yRWFjaCIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwic2V0TmFtZSIsImRlZmluZVByb3BlcnRpZXMiLCJfcm9vdE5hbWVzcGFjZSIsImNyZWF0ZU5hbWVzcGFjZSIsInBhcmVudE5hbWVzcGFjZSIsImN1cnJlbnROYW1lc3BhY2UiLCJuYW1lc3BhY2VGcmFnbWVudHMiLCJzcGxpdCIsInNwbGljZSIsIm5hbWVzcGFjZU5hbWUiLCJkZWZpbmVXaXRoUGFyZW50IiwiTmFtZXNwYWNlIiwiTGF6eVN0YXRlcyIsInVuaW5pdGlhbGl6ZWQiLCJ3b3JraW5nIiwiaW5pdGlhbGl6ZWQiLCJkZWZpbmUiLCJfbGF6eSIsImYiLCJzdGF0ZSIsIl9tb2R1bGVEZWZpbmUiLCJwdWJsaWNOUyIsInB1c2giLCJjb25zdHJ1Y3RvciIsImluc3RhbmNlTWVtYmVycyIsInN0YXRpY01lbWJlcnMiLCJkZXJpdmUiLCJiYXNlQ2xhc3MiLCJiYXNlUHJvdG90eXBlIiwibWl4IiwiYXJndW1lbnRzIiwiQ2xhc3MiLCJfQmFzZSIsIkVycm9yRnJvbU5hbWUiLCJFcnJvciIsIm1lc3NhZ2UiLCJ0aGlzIiwiY3JlYXRlRXZlbnRQcm9wZXJ0eSIsImV2ZW50UHJvcFN0YXRlTmFtZSIsInVzZXJIYW5kbGVyIiwiaGFuZGxlciIsIndyYXBwZXIiLCJldnQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIkV2ZW50TWl4aW5FdmVudCIsInR5cGUiLCJkZXRhaWwiLCJ0aW1lU3RhbXAiLCJEYXRlIiwibm93IiwiYnViYmxlcyIsImNhbmNlbGFibGUiLCJjdXJyZW50VGFyZ2V0IiwiZGVmYXVsdFByZXZlbnRlZCIsIl9wcmV2ZW50RGVmYXVsdENhbGxlZCIsInRydXN0ZWQiLCJldmVudFBoYXNlIiwicHJldmVudERlZmF1bHQiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJfc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uQ2FsbGVkIiwic3RvcFByb3BhZ2F0aW9uIiwiZXZlbnRNaXhpbiIsIl9saXN0ZW5lcnMiLCJsaXN0ZW5lciIsInVzZUNhcHR1cmUiLCJldmVudExpc3RlbmVycyIsImRpc3BhdGNoRXZlbnQiLCJkZXRhaWxzIiwibGlzdGVuZXJzIiwiZXZlbnRWYWx1ZSIsInNsaWNlIiwiX2NyZWF0ZUV2ZW50UHJvcGVydHkiLCJjcmVhdGVFdmVudFByb3BlcnRpZXMiLCJwcm9wcyIsIm5vcCIsInYiLCJfdHJhY2VBc3luY09wZXJhdGlvblN0YXJ0aW5nIiwiRGVidWciLCJtc1RyYWNlQXN5bmNPcGVyYXRpb25TdGFydGluZyIsIl90cmFjZUFzeW5jT3BlcmF0aW9uQ29tcGxldGVkIiwibXNUcmFjZUFzeW5jT3BlcmF0aW9uQ29tcGxldGVkIiwiX3RyYWNlQXN5bmNDYWxsYmFja1N0YXJ0aW5nIiwibXNUcmFjZUFzeW5jQ2FsbGJhY2tTdGFydGluZyIsIl90cmFjZUFzeW5jQ2FsbGJhY2tDb21wbGV0ZWQiLCJtc1RyYWNlQXN5bmNDYWxsYmFja0NvbXBsZXRlZCIsIl9FcnJvckZyb21OYW1lIiwiX0V2ZW50cyIsIl9UcmFjZSIsInNldE5vblVzZXJDb2RlRXhjZXB0aW9ucyIsInByb21pc2VFdmVudExpc3RlbmVycyIsImVycm9yRVQiLCJjYW5jZWxlZE5hbWUiLCJ0YWdXaXRoU3RhY2siLCJ0YWciLCJwcm9taXNlIiwidGhlblByb21pc2UiLCJlcnJvclByb21pc2UiLCJleGNlcHRpb25Qcm9taXNlIiwiY29tcGxldGVQcm9taXNlIiwiYWxsIiwic3RhdGVfY3JlYXRlZCIsInN0YXRlX3dvcmtpbmciLCJzdGF0ZV93YWl0aW5nIiwic3RhdGVfd2FpdGluZ19jYW5jZWxlZCIsInN0YXRlX2NhbmNlbGVkIiwic3RhdGVfY2FuY2VsaW5nIiwic3RhdGVfc3VjY2Vzc19ub3RpZnkiLCJzdGF0ZV9zdWNjZXNzIiwic3RhdGVfZXJyb3Jfbm90aWZ5Iiwic3RhdGVfZXJyb3IiLCJlcnJvcl9udW1iZXIiLCJfIiwiZW50ZXIiLCJfc2V0U3RhdGUiLCJjYW5jZWwiLCJkb25lIiwidGhlbiIsIl9jb21wbGV0ZWQiLCJfZXJyb3IiLCJfbm90aWZ5IiwiX3Byb2dyZXNzIiwiX3NldENvbXBsZXRlVmFsdWUiLCJfc2V0RXJyb3JWYWx1ZSIsImNvbXBsZXRlZCIsImVycm9yIiwicHJvZ3Jlc3MiLCJzZXRDb21wbGV0ZVZhbHVlIiwic2V0RXJyb3JWYWx1ZSIsIndhaXRlZFVwb24iLCJfdmFsdWUiLCJUaGVuUHJvbWlzZSIsIl9zdGF0ZSIsInB1c2hMaXN0ZW5lciIsIl9lcnJvcklkIiwiX2NoYWluZWRFcnJvciIsImNhbGxvbmVycm9yIiwiZGV0YWlsc0ZvckhhbmRsZWRFcnJvciIsImhhbmRsZXNPbkVycm9yIiwiX2NhbmNlbEFjdGlvbiIsIkNvbXBsZXRlUHJvbWlzZSIsInF1ZXVlIiwic2hpZnQiLCJub3RpZnlTdWNjZXNzIiwiX2NsZWFudXBBY3Rpb24iLCJFcnJvclByb21pc2UiLCJub3RpZnlFcnJvciIsIlByb21pc2VTdGF0ZU1hY2hpbmUiLCJfbmV4dFN0YXRlIiwiX3J1biIsIm9uQ29tcGxldGUiLCJvbkVycm9yIiwib25Qcm9ncmVzcyIsIlByb21pc2VfdGhlbiIsImNvbnRleHQiLCJkZXRhaWxzRm9yQ2hhaW5lZEVycm9yIiwiZGV0YWlsc0ZvckVycm9yIiwiX3NldENoYWluZWRFcnJvclZhbHVlIiwiX3NldEV4Y2VwdGlvblZhbHVlIiwiZGV0YWlsc0ZvckV4Y2VwdGlvbiIsInRhcmdldFN0YXRlIiwiY3JlYXRlRXJyb3JEZXRhaWxzIiwiZXhjZXB0aW9uIiwiaWQiLCJwYXJlbnQiLCJlcnJvclZhbHVlIiwiX2lzRXhjZXB0aW9uIiwiZXJyb3JJZCIsInNldEVycm9ySW5mbyIsImV4Y2VwdGlvblZhbHVlIiwiZSIsImFzeW5jT3BJRCIsIm9uZXJyb3JEZXRhaWxzIiwiTVNfQVNZTkNfT1BfU1RBVFVTX1NVQ0NFU1MiLCJleCIsImVycm9ySUQiLCJNU19BU1lOQ19PUF9TVEFUVVNfQ0FOQ0VMRUQiLCJNU19BU1lOQ19PUF9TVEFUVVNfRVJST1IiLCJhc3luY0NhbGxiYWNrU3RhcnRlZCIsIm9uZXJyb3JEZXRhaWxzR2VuZXJhdG9yIiwiaXNFeGNlcHRpb24iLCJzdGF0aWNDYW5jZWxlZFByb21pc2UiLCJjcmVhdG9yIiwiX3N0YWNrIiwiUHJvbWlzZSIsIl9nZXRTdGFjayIsIl9jcmVhdG9yIiwidW51c2VkIiwiX2RvbmVIYW5kbGVyIiwiRXhjZXB0aW9uUHJvbWlzZSIsIm5ld1ZhbHVlIiwiaW5pdCIsIm9uY2FuY2VsIiwiX29uY2FuY2VsIiwic3RhY2siLCJldmVudFR5cGUiLCJjYXB0dXJlIiwiYW55IiwidmFsdWVzIiwiY29tcGxldGUiLCJjYW5jZWxlZCIsImFzIiwiaXMiLCJqb2luIiwiZXJyb3JzIiwicmVzdWx0cyIsInVuZGVmaW5lZHMiLCJwZW5kaW5nIiwiYXJnRG9uZSIsImVycm9yQ291bnQiLCJjYW5jZWxlZENvdW50IiwiS2V5IiwiRG9uZSIsInRoZW5FYWNoIiwidGltZW91dCIsInRpbWUiLCJ0byIsInRpbWVvdXRNUyIsImNsZWFyVGltZW91dCIsImNhbmNlbFRpbWVvdXQiLCJ0aW1lb3V0V2l0aFByb21pc2UiLCJ3cmFwIiwid3JhcEVycm9yIiwiX3ZlcnlFeHBlbnNpdmVUYWdXaXRoU3RhY2siLCJfdmVyeUV4cGVuc2l2ZVRhZ1dpdGhTdGFja190YWciLCJkZWJ1Z2dlckVuYWJsZWQiLCJfY2FuY2VsQmxvY2tlciIsImlucHV0Iiwib3V0cHV0IiwiX1N0YXRlTWFjaGluZSIsIlBQcm9taXNlIiwiaXNXaW5kb3dzIiwiaXNXZWIiLCJnbG9iYWxzIiwiUGxhdGZvcm0iLCJfaXNXaW5kb3dzIiwiX2lzTWFjaW50b3NoIiwiX2lzTGludXgiLCJfaXNOYXRpdmUiLCJfaXNXZWIiLCJwbGF0Zm9ybSIsInJhd05sc0NvbmZpZyIsImVudiIsIm5sc0NvbmZpZyIsIkpTT04iLCJwYXJzZSIsInJlc29sdmVkIiwiYXZhaWxhYmxlTGFuZ3VhZ2VzIiwibG9jYWxlIiwiX3RyYW5zbGF0aW9uc0NvbmZpZ0ZpbGUiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJpbmRleE9mIiwibGFuZ3VhZ2UiLCJXZWIiLCJNYWMiLCJMaW51eCIsImNhY2hlZFNldFRpbWVvdXQiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJjdXJyZW50UXVldWUiLCJkcmFpbmluZyIsInF1ZXVlSW5kZXgiLCJjbGVhblVwTmV4dFRpY2siLCJjb25jYXQiLCJkcmFpblF1ZXVlIiwicnVuIiwibWFya2VyIiwicnVuQ2xlYXJUaW1lb3V0IiwiSXRlbSIsImFycmF5Iiwibm9vcCIsImFyZ3MiLCJ0aXRsZSIsImJyb3dzZXIiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwib24iLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siLCJnIiwiRnVuY3Rpb24iLCJldmFsIiwidXJpX2EiLCJfX2V4dGVuZHMiLCJleHRlbmRTdGF0aWNzIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJiIiwiX18iLCJfc2NoZW1lUGF0dGVybiIsIl9zaW5nbGVTbGFzaFN0YXJ0IiwiX2RvdWJsZVNsYXNoU3RhcnQiLCJfZW1wdHkiLCJfc2xhc2giLCJfcmVnZXhwIiwidXJpX1VSSSIsIlVSSSIsInNjaGVtZU9yRGF0YSIsImF1dGhvcml0eSIsInBhdGgiLCJxdWVyeSIsImZyYWdtZW50Iiwic2NoZW1lIiwiX3JlZmVyZW5jZVJlc29sdXRpb24iLCJyZXQiLCJ0ZXN0IiwiX3ZhbGlkYXRlVXJpIiwiaXNVcmkiLCJ0aGluZyIsIl9tYWtlRnNQYXRoIiwid2l0aCIsImNoYW5nZSIsIl9VUkkiLCJtYXRjaCIsImV4ZWMiLCJkZWNvZGVVUklDb21wb25lbnQiLCJmaWxlIiwicmVwbGFjZSIsImlkeCIsInN1YnN0cmluZyIsImZyb20iLCJjb21wb25lbnRzIiwidG9TdHJpbmciLCJza2lwRW5jb2RpbmciLCJfYXNGb3JtYXR0ZWQiLCJ0b0pTT04iLCJyZXZpdmUiLCJkYXRhIiwiX2ZzUGF0aCIsImZzUGF0aCIsIl9mb3JtYXR0ZWQiLCJleHRlcm5hbCIsImNvbW1vbl91cmkiLCJfc3VwZXIiLCJfdGhpcyIsInJlcyIsIiRtaWQiLCJlbmNvZGVUYWJsZSIsImVuY29kZVVSSUNvbXBvbmVudEZhc3QiLCJ1cmlDb21wb25lbnQiLCJhbGxvd1NsYXNoIiwibmF0aXZlRW5jb2RlUG9zIiwicG9zIiwiY29kZSIsImVuY29kZVVSSUNvbXBvbmVudCIsImNoYXJBdCIsInN1YnN0ciIsImVzY2FwZWQiLCJlbmNvZGVVUklDb21wb25lbnRNaW5pbWFsIiwidXJpIiwidG9Mb3dlckNhc2UiLCJlbmNvZGVyIiwidXNlcmluZm8iLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJQb3NpdGlvbiIsImxpbmVOdW1iZXIiLCJjb2x1bW4iLCJlcXVhbHMiLCJvdGhlciIsImEiLCJpc0JlZm9yZSIsImlzQmVmb3JlT3JFcXVhbCIsImNvbXBhcmUiLCJhTGluZU51bWJlciIsImJMaW5lTnVtYmVyIiwiY2xvbmUiLCJsaWZ0IiwiaXNJUG9zaXRpb24iLCJvYmoiLCJyYW5nZV9SYW5nZSIsIlJhbmdlIiwic3RhcnRMaW5lTnVtYmVyIiwic3RhcnRDb2x1bW4iLCJlbmRMaW5lTnVtYmVyIiwiZW5kQ29sdW1uIiwiaXNFbXB0eSIsInJhbmdlIiwiY29udGFpbnNQb3NpdGlvbiIsInBvc2l0aW9uIiwiY29udGFpbnNSYW5nZSIsIm90aGVyUmFuZ2UiLCJwbHVzUmFuZ2UiLCJNYXRoIiwibWluIiwibWF4IiwiaW50ZXJzZWN0UmFuZ2VzIiwicmVzdWx0U3RhcnRMaW5lTnVtYmVyIiwicmVzdWx0U3RhcnRDb2x1bW4iLCJyZXN1bHRFbmRMaW5lTnVtYmVyIiwicmVzdWx0RW5kQ29sdW1uIiwib3RoZXJTdGFydExpbmVOdW1iZXIiLCJvdGhlclN0YXJ0Q29sdW1uIiwib3RoZXJFbmRMaW5lTnVtYmVyIiwib3RoZXJFbmRDb2x1bW4iLCJlcXVhbHNSYW5nZSIsImdldEVuZFBvc2l0aW9uIiwiZ2V0U3RhcnRQb3NpdGlvbiIsInNldEVuZFBvc2l0aW9uIiwic2V0U3RhcnRQb3NpdGlvbiIsImNvbGxhcHNlVG9TdGFydCIsImZyb21Qb3NpdGlvbnMiLCJzdGFydCIsImVuZCIsImlzSVJhbmdlIiwiYXJlSW50ZXJzZWN0aW5nT3JUb3VjaGluZyIsImFyZUludGVyc2VjdGluZyIsImNvbXBhcmVSYW5nZXNVc2luZ1N0YXJ0cyIsImFTdGFydExpbmVOdW1iZXIiLCJiU3RhcnRMaW5lTnVtYmVyIiwiYVN0YXJ0Q29sdW1uIiwiYlN0YXJ0Q29sdW1uIiwiYUVuZExpbmVOdW1iZXIiLCJiRW5kTGluZU51bWJlciIsImNvbXBhcmVSYW5nZXNVc2luZ0VuZHMiLCJzcGFuc011bHRpcGxlTGluZXMiLCJEaWZmQ2hhbmdlIiwib3JpZ2luYWxTdGFydCIsIm9yaWdpbmFsTGVuZ3RoIiwibW9kaWZpZWRTdGFydCIsIm1vZGlmaWVkTGVuZ3RoIiwiZ2V0T3JpZ2luYWxFbmQiLCJnZXRNb2RpZmllZEVuZCIsImNyZWF0ZVN0cmluZ1NlcXVlbmNlIiwiZ2V0TGVuZ3RoIiwiZ2V0RWxlbWVudEF0SW5kZXgiLCJzdHJpbmdEaWZmIiwib3JpZ2luYWwiLCJtb2RpZmllZCIsInByZXR0eSIsImRpZmZfTGNzRGlmZiIsIkNvbXB1dGVEaWZmIiwiQXNzZXJ0IiwiY29uZGl0aW9uIiwiTXlBcnJheSIsIkNvcHkiLCJzb3VyY2VBcnJheSIsInNvdXJjZUluZGV4IiwiZGVzdGluYXRpb25BcnJheSIsImRlc3RpbmF0aW9uSW5kZXgiLCJkaWZmX0RpZmZDaGFuZ2VIZWxwZXIiLCJEaWZmQ2hhbmdlSGVscGVyIiwibV9jaGFuZ2VzIiwibV9vcmlnaW5hbFN0YXJ0IiwiTnVtYmVyIiwiTUFYX1ZBTFVFIiwibV9tb2RpZmllZFN0YXJ0IiwibV9vcmlnaW5hbENvdW50IiwibV9tb2RpZmllZENvdW50IiwiTWFya05leHRDaGFuZ2UiLCJBZGRPcmlnaW5hbEVsZW1lbnQiLCJvcmlnaW5hbEluZGV4IiwibW9kaWZpZWRJbmRleCIsIkFkZE1vZGlmaWVkRWxlbWVudCIsImdldENoYW5nZXMiLCJnZXRSZXZlcnNlQ2hhbmdlcyIsInJldmVyc2UiLCJMY3NEaWZmIiwib3JpZ2luYWxTZXF1ZW5jZSIsIm5ld1NlcXVlbmNlIiwiY29udGludWVQcm9jZXNzaW5nUHJlZGljYXRlIiwiT3JpZ2luYWxTZXF1ZW5jZSIsIk1vZGlmaWVkU2VxdWVuY2UiLCJDb250aW51ZVByb2Nlc3NpbmdQcmVkaWNhdGUiLCJtX2ZvcndhcmRIaXN0b3J5IiwibV9yZXZlcnNlSGlzdG9yeSIsIkVsZW1lbnRzQXJlRXF1YWwiLCJuZXdJbmRleCIsIk9yaWdpbmFsRWxlbWVudHNBcmVFcXVhbCIsImluZGV4MSIsImluZGV4MiIsIk1vZGlmaWVkRWxlbWVudHNBcmVFcXVhbCIsIl9Db21wdXRlRGlmZiIsIm9yaWdpbmFsRW5kIiwibW9kaWZpZWRFbmQiLCJjaGFuZ2VzIiwiQ29tcHV0ZURpZmZSZWN1cnNpdmUiLCJTaGlmdENoYW5nZXMiLCJxdWl0RWFybHlBcnIiLCJtaWRPcmlnaW5hbEFyciIsIm1pZE1vZGlmaWVkQXJyIiwiQ29tcHV0ZVJlY3Vyc2lvblBvaW50IiwibWlkT3JpZ2luYWwiLCJtaWRNb2RpZmllZCIsImxlZnRDaGFuZ2VzIiwicmlnaHRDaGFuZ2VzIiwiQ29uY2F0ZW5hdGVDaGFuZ2VzIiwiV0FMS1RSQUNFIiwiZGlhZ29uYWxGb3J3YXJkQmFzZSIsImRpYWdvbmFsRm9yd2FyZFN0YXJ0IiwiZGlhZ29uYWxGb3J3YXJkRW5kIiwiZGlhZ29uYWxGb3J3YXJkT2Zmc2V0IiwiZGlhZ29uYWxSZXZlcnNlQmFzZSIsImRpYWdvbmFsUmV2ZXJzZVN0YXJ0IiwiZGlhZ29uYWxSZXZlcnNlRW5kIiwiZGlhZ29uYWxSZXZlcnNlT2Zmc2V0IiwiZm9yd2FyZFBvaW50cyIsInJldmVyc2VQb2ludHMiLCJkZWx0YUlzRXZlbiIsImZvcndhcmRDaGFuZ2VzIiwiZGlhZ29uYWwiLCJyZXZlcnNlQ2hhbmdlcyIsImNoYW5nZUhlbHBlciIsImRpYWdvbmFsTWluIiwiZGlhZ29uYWxNYXgiLCJkaWFnb25hbFJlbGF0aXZlIiwibGFzdE9yaWdpbmFsSW5kZXgiLCJNSU5fVkFMVUUiLCJoaXN0b3J5SW5kZXgiLCJvcmlnaW5hbFN0YXJ0UG9pbnQiLCJtb2RpZmllZFN0YXJ0UG9pbnQiLCJsYXN0Rm9yd2FyZENoYW5nZSIsIm51bURpZmZlcmVuY2VzIiwidGVtcE9yaWdpbmFsSW5kZXgiLCJtYXhEaWZmZXJlbmNlcyIsIm51bURpYWdvbmFscyIsImZ1cnRoZXN0T3JpZ2luYWxJbmRleCIsImZ1cnRoZXN0TW9kaWZpZWRJbmRleCIsIkNsaXBEaWFnb25hbEJvdW5kIiwiYWJzIiwibWF0Y2hMZW5ndGhPZkxvbmdlc3QiLCJ0ZW1wIiwibWVyZ2VkRGlmZnMiLCJvcmlnaW5hbFN0b3AiLCJtb2RpZmllZFN0b3AiLCJjaGVja09yaWdpbmFsIiwiY2hlY2tNb2RpZmllZCIsIm1lcmdlZENoYW5nZUFyciIsIkNoYW5nZXNPdmVybGFwIiwicHJldkNoYW5nZSIsImJlc3REZWx0YSIsImJlc3RTY29yZSIsIl9ib3VuZGFyeVNjb3JlIiwiZGVsdGEiLCJzY29yZSIsIl9PcmlnaW5hbElzQm91bmRhcnkiLCJpbmRleCIsImVsZW1lbnQiLCJfT3JpZ2luYWxSZWdpb25Jc0JvdW5kYXJ5IiwiX01vZGlmaWVkSXNCb3VuZGFyeSIsIl9Nb2RpZmllZFJlZ2lvbklzQm91bmRhcnkiLCJsZWZ0IiwicmlnaHQiLCJkaWFnb25hbEJhc2VJbmRleCIsImRpZmZFdmVuIiwiTUFYSU1VTV9SVU5fVElNRSIsIk1JTklNVU1fTUFUQ0hJTkdfQ0hBUkFDVEVSX0xFTkdUSCIsImNvbXB1dGVEaWZmIiwibW9kaWZpZWRTZXF1ZW5jZSIsImRpZmZDb21wdXRlcl9MaW5lTWFya2VyU2VxdWVuY2UiLCJMaW5lTWFya2VyU2VxdWVuY2UiLCJsaW5lcyIsInN0YXJ0Q29sdW1ucyIsImVuZENvbHVtbnMiLCJsZW5ndGhfMSIsIl9nZXRGaXJzdE5vbkJsYW5rQ29sdW1uIiwiX2dldExhc3ROb25CbGFua0NvbHVtbiIsIl9saW5lcyIsIl9zdGFydENvbHVtbnMiLCJfZW5kQ29sdW1ucyIsImdldFN0YXJ0TGluZU51bWJlciIsImdldEVuZExpbmVOdW1iZXIiLCJ0eHQiLCJkZWZhdWx0VmFsdWUiLCJzdHIiLCJjaENvZGUiLCJmaXJzdE5vbldoaXRlc3BhY2VJbmRleCIsInN0YXJ0SW5kZXgiLCJsYXN0Tm9uV2hpdGVzcGFjZUluZGV4IiwiZ2V0Q2hhclNlcXVlbmNlIiwic2hvdWxkSWdub3JlVHJpbVdoaXRlc3BhY2UiLCJlbmRJbmRleCIsImNoYXJDb2RlcyIsImxpbmVOdW1iZXJzIiwiY29sdW1ucyIsImxpbmVDb250ZW50IiwiY29sIiwiQ2hhclNlcXVlbmNlIiwiX2NoYXJDb2RlcyIsIl9saW5lTnVtYmVycyIsIl9jb2x1bW5zIiwiZ2V0U3RhcnRDb2x1bW4iLCJnZXRFbmRDb2x1bW4iLCJDaGFyQ2hhbmdlIiwib3JpZ2luYWxTdGFydExpbmVOdW1iZXIiLCJvcmlnaW5hbFN0YXJ0Q29sdW1uIiwib3JpZ2luYWxFbmRMaW5lTnVtYmVyIiwib3JpZ2luYWxFbmRDb2x1bW4iLCJtb2RpZmllZFN0YXJ0TGluZU51bWJlciIsIm1vZGlmaWVkU3RhcnRDb2x1bW4iLCJtb2RpZmllZEVuZExpbmVOdW1iZXIiLCJtb2RpZmllZEVuZENvbHVtbiIsImNyZWF0ZUZyb21EaWZmQ2hhbmdlIiwiZGlmZkNoYW5nZSIsIm9yaWdpbmFsQ2hhclNlcXVlbmNlIiwibW9kaWZpZWRDaGFyU2VxdWVuY2UiLCJMaW5lQ2hhbmdlIiwiY2hhckNoYW5nZXMiLCJjcmVhdGVGcm9tRGlmZlJlc3VsdCIsIm9yaWdpbmFsTGluZVNlcXVlbmNlIiwibW9kaWZpZWRMaW5lU2VxdWVuY2UiLCJzaG91bGRDb21wdXRlQ2hhckNoYW5nZXMiLCJzaG91bGRQb3N0UHJvY2Vzc0NoYXJDaGFuZ2VzIiwicmF3Q2hhbmdlcyIsImN1cnJDaGFuZ2UiLCJvcmlnaW5hbE1hdGNoaW5nTGVuZ3RoIiwibW9kaWZpZWRNYXRjaGluZ0xlbmd0aCIsInBvc3RQcm9jZXNzQ2hhckNoYW5nZXMiLCJsZW5ndGhfMiIsIkRpZmZDb21wdXRlciIsIm9yaWdpbmFsTGluZXMiLCJtb2RpZmllZExpbmVzIiwib3B0cyIsInNob3VsZE1ha2VQcmV0dHlEaWZmIiwibWF4aW11bVJ1blRpbWVNcyIsImNvbXB1dGF0aW9uU3RhcnRUaW1lIiwiZ2V0VGltZSIsIl9jb250aW51ZVByb2Nlc3NpbmdQcmVkaWNhdGUiLCJsaW5lQ2hhbmdlcyIsImxlbmd0aF8zIiwib3JpZ2luYWxMaW5lSW5kZXgiLCJtb2RpZmllZExpbmVJbmRleCIsIm5leHRDaGFuZ2UiLCJvcmlnaW5hbExpbmUiLCJtb2RpZmllZExpbmUiLCJfcHVzaFRyaW1XaGl0ZXNwYWNlQ2hhckNoYW5nZSIsIm9yaWdpbmFsTWF4Q29sdW1uIiwibW9kaWZpZWRNYXhDb2x1bW4iLCJvcmlnaW5hbExpbmVOdW1iZXIiLCJtb2RpZmllZExpbmVOdW1iZXIiLCJfbWVyZ2VUcmltV2hpdGVzcGFjZUNoYXJDaGFuZ2UiLCJVaW50OE1hdHJpeCIsInJvd3MiLCJjb2xzIiwiVWludDhBcnJheSIsIl9kYXRhIiwicm93IiwidG9VaW50OCIsInRvVWludDMyIiwiUHJlZml4U3VtSW5kZXhPZlJlc3VsdCIsInJlbWFpbmRlciIsInByZWZpeFN1bUNvbXB1dGVyX1ByZWZpeFN1bUNvbXB1dGVyIiwiUHJlZml4U3VtQ29tcHV0ZXIiLCJwcmVmaXhTdW0iLCJVaW50MzJBcnJheSIsInByZWZpeFN1bVZhbGlkSW5kZXgiLCJJbnQzMkFycmF5IiwiZ2V0Q291bnQiLCJpbnNlcnRWYWx1ZXMiLCJpbnNlcnRJbmRleCIsIm9sZFZhbHVlcyIsIm9sZFByZWZpeFN1bSIsImluc2VydFZhbHVlc0xlbiIsInN1YmFycmF5IiwiY2hhbmdlVmFsdWUiLCJyZW1vdmVWYWx1ZXMiLCJjbnQiLCJtYXhDbnQiLCJnZXRUb3RhbFZhbHVlIiwiX2dldEFjY3VtdWxhdGVkVmFsdWUiLCJnZXRBY2N1bXVsYXRlZFZhbHVlIiwiZ2V0SW5kZXhPZiIsImFjY3VtdWxhdGVkVmFsdWUiLCJmbG9vciIsIm1pZCIsIm1pZFN0b3AiLCJtaWRTdGFydCIsImxvdyIsImhpZ2giLCJtaXJyb3JUZXh0TW9kZWxfTWlycm9yVGV4dE1vZGVsIiwiUHJlZml4U3VtQ29tcHV0ZXJXaXRoQ2FjaGUiLCJfY2FjaGVBY2N1bXVsYXRlZFZhbHVlU3RhcnQiLCJfY2FjaGUiLCJfYWN0dWFsIiwiX2J1c3RDYWNoZSIsImNhY2hlSW5kZXgiLCJ3YXJtVXBDYWNoZSIsImFjY3VtdWxhdGVkVmFsdWVTdGFydCIsImFjY3VtdWxhdGVkVmFsdWVFbmQiLCJuZXdDYWNoZSIsIk1pcnJvclRleHRNb2RlbCIsImVvbCIsInZlcnNpb25JZCIsIl91cmkiLCJfZW9sIiwiX3ZlcnNpb25JZCIsImRpc3Bvc2UiLCJnZXRUZXh0Iiwib25FdmVudHMiLCJfbGluZVN0YXJ0cyIsIl9hY2NlcHREZWxldGVSYW5nZSIsIl9hY2NlcHRJbnNlcnRUZXh0IiwidGV4dCIsIl9lbnN1cmVMaW5lU3RhcnRzIiwiZW9sTGVuZ3RoIiwibGluZXNMZW5ndGgiLCJsaW5lU3RhcnRWYWx1ZXMiLCJfc2V0TGluZVRleHQiLCJsaW5lSW5kZXgiLCJpbnNlcnRUZXh0IiwiaW5zZXJ0TGluZXMiLCJuZXdMZW5ndGhzIiwiY2hhcmFjdGVyQ2xhc3NpZmllcl9DaGFyYWN0ZXJDbGFzc2lmaWVyIiwiQ2hhcmFjdGVyQ2xhc3NpZmllciIsIl9kZWZhdWx0VmFsdWUiLCJfYXNjaWlNYXAiLCJfY3JlYXRlQXNjaWlNYXAiLCJfbWFwIiwiTWFwIiwiYXNjaWlNYXAiLCJjaGFyQ29kZSIsImxpbmtDb21wdXRlcl9TdGF0ZU1hY2hpbmUiLCJDaGFyYWN0ZXJTZXQiLCJhZGQiLCJoYXMiLCJTdGF0ZU1hY2hpbmUiLCJlZGdlcyIsIm1heENoYXJDb2RlIiwibWF4U3RhdGUiLCJfYSIsInN0YXRlcyIsIl9iIiwiX3N0YXRlcyIsIl9tYXhDaGFyQ29kZSIsIm5leHRTdGF0ZSIsImN1cnJlbnRTdGF0ZSIsIl9zdGF0ZU1hY2hpbmUiLCJfY2xhc3NpZmllciIsIkxpbmtDb21wdXRlciIsIl9jcmVhdGVMaW5rIiwiY2xhc3NpZmllciIsImxpbmUiLCJsaW5rQmVnaW5JbmRleCIsImxpbmtFbmRJbmRleCIsImxhc3RJbmNsdWRlZENoYXJJbmRleCIsImNoYXJDb2RlQmVmb3JlTGluayIsImxhc3RDaGFyQ29kZUluTGluayIsInVybCIsImNvbXB1dGVMaW5rcyIsIm1vZGVsIiwic3RhdGVNYWNoaW5lIiwiZ2V0Q2xhc3NpZmllciIsImxpbmVDb3VudCIsImdldExpbmVDb3VudCIsImdldExpbmVDb250ZW50IiwiaiIsImxpbmtCZWdpbkNoQ29kZSIsImhhc09wZW5QYXJlbnMiLCJoYXNPcGVuU3F1YXJlQnJhY2tldCIsImhhc09wZW5DdXJseUJyYWNrZXQiLCJyZXNldFN0YXRlTWFjaGluZSIsImNoQ2xhc3MiLCJCYXNpY0lucGxhY2VSZXBsYWNlIiwiX2RlZmF1bHRWYWx1ZVNldCIsIm5hdmlnYXRlVmFsdWVTZXQiLCJyYW5nZTEiLCJ0ZXh0MSIsInJhbmdlMiIsInRleHQyIiwidXAiLCJkb05hdmlnYXRlVmFsdWVTZXQiLCJudW1iZXJSZXN1bHQiLCJudW1iZXJSZXBsYWNlIiwidGV4dFJlcGxhY2UiLCJwcmVjaXNpb24iLCJwb3ciLCJsYXN0SW5kZXhPZiIsIm4xIiwibjIiLCJwYXJzZUZsb2F0IiwiaXNOYU4iLCJ2YWx1ZVNldHNSZXBsYWNlIiwidmFsdWVTZXRzIiwidmFsdWVTZXRSZXBsYWNlIiwidmFsdWVTZXQiLCJJTlNUQU5DRSIsIlVTVUFMX1dPUkRfU0VQQVJBVE9SUyIsIkRFRkFVTFRfV09SRF9SRUdFWFAiLCJhbGxvd0luV29yZHMiLCJzb3VyY2UiLCJSZWdFeHAiLCJjcmVhdGVXb3JkUmVnRXhwIiwib3V0c3RhbmRpbmdQcm9taXNlRXJyb3JzIiwid2luanNfYmFzZSIsIm9uVW5leHBlY3RlZEVycm9yIiwiY29uc29sZSIsImxvZyIsImVycm9ySGFuZGxlciIsIkVycm9ySGFuZGxlciIsInVuZXhwZWN0ZWRFcnJvckhhbmRsZXIiLCJvblVuZXhwZWN0ZWRFeHRlcm5hbEVycm9yIiwiaXNQcm9taXNlQ2FuY2VsZWRFcnJvciIsInRyYW5zZm9ybUVycm9yRm9yU2VyaWFsaXphdGlvbiIsIiRpc0Vycm9yIiwic3RhY2t0cmFjZSIsImxpZmVjeWNsZV9kaXNwb3NlIiwiZmlyc3QiLCJyZXN0IiwiX2kiLCJFdmVudCIsIkRpc3Bvc2FibGUiLCJfdG9EaXNwb3NlIiwiX3JlZ2lzdGVyIiwiTm9uZSIsImZyZWV6ZSIsIk5vZGUiLCJJbW1vcnRhbFJlZmVyZW5jZSIsIkxpbmtlZExpc3QiLCJfZmlyc3QiLCJ1bnNoaWZ0IiwiaW5zZXJ0IiwiYXRUaGVFbmQiLCJuZXdOb2RlIiwib2xkTGFzdCIsIl9sYXN0IiwicHJldiIsIm5leHQiLCJvbGRGaXJzdCIsImNhbmRpZGF0ZSIsImFuY2hvciIsIml0ZXJhdG9yIiwibm9kZSIsIl9kaXNwb3NhYmxlIiwiZXZlbnRfRW1pdHRlciIsIkVtaXR0ZXIiLCJfb3B0aW9ucyIsIl9ldmVudCIsInRoaXNBcmdzIiwiZGlzcG9zYWJsZXMiLCJmaXJzdExpc3RlbmVyIiwib25GaXJzdExpc3RlbmVyQWRkIiwicmVtb3ZlIiwib25GaXJzdExpc3RlbmVyRGlkQWRkIiwib25MaXN0ZW5lckRpZEFkZCIsIl9ub29wIiwiX2Rpc3Bvc2VkIiwib25MYXN0TGlzdGVuZXJSZW1vdmUiLCJmaXJlIiwiZXZlbnQiLCJfZGVsaXZlcnlRdWV1ZSIsIml0ZXIiLCJldmVudF8xIiwiRXZlbnRNdWx0aXBsZXhlciIsImhhc0xpc3RlbmVycyIsImV2ZW50cyIsImVtaXR0ZXIiLCJob29rIiwiZm4iLCJ0b0Rpc3Bvc2FibGUiLCJkaWRDYWxsIiwidW5ob29rIiwiRXZlbnRCdWZmZXJlciIsImJ1ZmZlcnMiLCJ3cmFwRXZlbnQiLCJidWZmZXIiLCJidWZmZXJFdmVudHMiLCJwb3AiLCJmbHVzaCIsIkNoYWluYWJsZUV2ZW50IiwibWFwRXZlbnQiLCJmaWx0ZXIiLCJmaWx0ZXJFdmVudCIsIlJlbGF5IiwiZGlzcG9zYWJsZSIsIktleUNvZGVVdGlscyIsIktleUNvZGVTdHJNYXAiLCJfa2V5Q29kZVRvU3RyIiwiX3N0clRvS2V5Q29kZSIsImtleUNvZGUiLCJrZXlDb2RlVG9TdHIiLCJzdHJUb0tleUNvZGUiLCJ1aU1hcCIsInVzZXJTZXR0aW5nc1VTTWFwIiwidXNlclNldHRpbmdzR2VuZXJhbE1hcCIsInVpTGFiZWwiLCJ1c1VzZXJTZXR0aW5nc0xhYmVsIiwiZ2VuZXJhbFVzZXJTZXR0aW5nc0xhYmVsIiwiZnJvbVN0cmluZyIsInRvVXNlclNldHRpbmdzVVMiLCJ0b1VzZXJTZXR0aW5nc0dlbmVyYWwiLCJmcm9tVXNlclNldHRpbmdzIiwiU2ltcGxlS2V5YmluZGluZyIsImN0cmxLZXkiLCJzaGlmdEtleSIsImFsdEtleSIsIm1ldGFLZXkiLCJpc01vZGlmaWVyS2V5IiwiaXNEdXBsaWNhdGVNb2RpZmllckNhc2UiLCJTZWxlY3Rpb25EaXJlY3Rpb24iLCJzZWxlY3Rpb25fZXh0ZW5kcyIsImNhbmNlbGxhdGlvbl9DYW5jZWxsYXRpb25Ub2tlbiIsInNlbGVjdGlvbl9TZWxlY3Rpb24iLCJTZWxlY3Rpb24iLCJzZWxlY3Rpb25TdGFydExpbmVOdW1iZXIiLCJzZWxlY3Rpb25TdGFydENvbHVtbiIsInBvc2l0aW9uTGluZU51bWJlciIsInBvc2l0aW9uQ29sdW1uIiwiZXF1YWxzU2VsZWN0aW9uIiwic2VsZWN0aW9uc0VxdWFsIiwiZ2V0RGlyZWN0aW9uIiwiTFRSIiwiUlRMIiwiZ2V0UG9zaXRpb24iLCJsaWZ0U2VsZWN0aW9uIiwic2VsIiwic2VsZWN0aW9uc0FyckVxdWFsIiwiaXNJU2VsZWN0aW9uIiwiY3JlYXRlV2l0aERpcmVjdGlvbiIsImRpcmVjdGlvbiIsInNob3J0Y3V0RXZlbnQiLCJoYW5kbGUiLCJDYW5jZWxsYXRpb25Ub2tlbiIsImlzQ2FuY2VsbGF0aW9uUmVxdWVzdGVkIiwib25DYW5jZWxsYXRpb25SZXF1ZXN0ZWQiLCJDYW5jZWxsZWQiLCJNYXJrZXJUYWciLCJNYXJrZXJTZXZlcml0eSIsImNhbmNlbGxhdGlvbl9NdXRhYmxlVG9rZW4iLCJNdXRhYmxlVG9rZW4iLCJfaXNDYW5jZWxsZWQiLCJfZW1pdHRlciIsIkNhbmNlbGxhdGlvblRva2VuU291cmNlIiwiX3Rva2VuIiwiVG9rZW4iLCJvZmZzZXQiLCJLZXlDb2RlIiwic3RhbmRhbG9uZUJhc2VfS2V5TW9kIiwiS2V5TW9kIiwiY2hvcmQiLCJmaXJzdFBhcnQiLCJzZWNvbmRQYXJ0IiwiS2V5Q2hvcmQiLCJDdHJsQ21kIiwiU2hpZnQiLCJBbHQiLCJXaW5DdHJsIiwiZWRpdG9yU2ltcGxlV29ya2VyX2V4dGVuZHMiLCJlZGl0b3JTaW1wbGVXb3JrZXJfTWlycm9yTW9kZWwiLCJNaXJyb3JNb2RlbCIsImdldFZhbHVlIiwiZ2V0TGluZXNDb250ZW50IiwiZ2V0V29yZEF0UG9zaXRpb24iLCJ3b3JkRGVmaW5pdGlvbiIsIndvcmRBdFRleHQiLCJ0ZXh0T2Zmc2V0IiwibGFzdEluZGV4Iiwid29yZCIsImdldFdvcmRBdFBvc1Nsb3ciLCJnZXRXb3JkQXRQb3NGYXN0IiwiZ2V0V29yZEF0VGV4dCIsImZsYWdzIiwiaWdub3JlQ2FzZSIsIm11bHRpbGluZSIsImVuc3VyZVZhbGlkV29yZERlZmluaXRpb24iLCJnZXRXb3JkVW50aWxQb3NpdGlvbiIsIndvcmRBdFBvc2l0aW9uIiwiY3JlYXRlV29yZEl0ZXJhdG9yIiwibGluZVRleHQiLCJ3b3JkUmFuZ2VzSWR4Iiwid29yZFJhbmdlcyIsIl93b3JkZW5pemUiLCJjb250ZW50IiwiZ2V0VmFsdWVJblJhbmdlIiwiX3ZhbGlkYXRlUmFuZ2UiLCJsaW5lRW5kaW5nIiwic3RhcnRMaW5lSW5kZXgiLCJlbmRMaW5lSW5kZXgiLCJyZXN1bHRMaW5lcyIsIm9mZnNldEF0IiwiX3ZhbGlkYXRlUG9zaXRpb24iLCJwb3NpdGlvbkF0Iiwib3V0IiwibGluZUxlbmd0aCIsImhhc0NoYW5nZWQiLCJtYXhDaGFyYWN0ZXIiLCJlZGl0b3JTaW1wbGVXb3JrZXJfRWRpdG9yU2ltcGxlV29ya2VySW1wbCIsIkVkaXRvclNpbXBsZVdvcmtlckltcGwiLCJmb3JlaWduTW9kdWxlRmFjdG9yeSIsIl9tb2RlbHMiLCJfZ2V0TW9kZWwiLCJfZ2V0TW9kZWxzIiwiYWNjZXB0TmV3TW9kZWwiLCJFT0wiLCJhY2NlcHRNb2RlbENoYW5nZWQiLCJzdHJVUkwiLCJhY2NlcHRSZW1vdmVkTW9kZWwiLCJCYXNlRWRpdG9yU2ltcGxlV29ya2VyIiwiX2ZvcmVpZ25Nb2R1bGVGYWN0b3J5IiwiX2ZvcmVpZ25Nb2R1bGUiLCJvcmlnaW5hbFVybCIsIm1vZGlmaWVkVXJsIiwiaWdub3JlVHJpbVdoaXRlc3BhY2UiLCJkaWZmQ29tcHV0ZXIiLCJjb21wdXRlTW9yZU1pbmltYWxFZGl0cyIsIm1vZGVsVXJsIiwiZWRpdHMiLCJsYXN0RW9sIiwiZWRpdHNfMSIsIl9kaWZmTGltaXQiLCJlZGl0T2Zmc2V0IiwiY2hhbmdlc18xIiwibmV3RWRpdCIsInRleHR1YWxTdWdnZXN0Iiwid29yZERlZiIsIndvcmREZWZGbGFncyIsInN1Z2dlc3Rpb25zIiwid29yZERlZlJlZ0V4cCIsImN1cnJlbnRXb3JkIiwic2VlbiIsIl9zdWdnZXN0aW9uc0xpbWl0IiwibGFiZWwiLCJub0F1dG9BY2NlcHQiLCJvdmVyd3JpdGVCZWZvcmUiLCJzZWxlY3Rpb25UZXh0Iiwid29yZFJhbmdlIiwibG9hZEZvcmVpZ25Nb2R1bGUiLCJjcmVhdGVEYXRhIiwiY3R4IiwiZ2V0TWlycm9yTW9kZWxzIiwibWV0aG9kcyIsInByb3AiLCJmbXIiLCJtZXRob2QiLCJpbXBvcnRTY3JpcHRzIiwibW9uYWNvIiwiZWRpdG9yIiwibGFuZ3VhZ2VzIiwiVXJpIiwiYXN5bmNfZXh0ZW5kcyIsIlRocm90dGxlciIsImFjdGl2ZVByb21pc2UiLCJxdWV1ZWRQcm9taXNlIiwicXVldWVkUHJvbWlzZUZhY3RvcnkiLCJwcm9taXNlRmFjdG9yeSIsIm9uQ29tcGxldGVfMSIsImVyciIsIkRlbGF5ZXIiLCJkZWZhdWx0RGVsYXkiLCJjb21wbGV0aW9uUHJvbWlzZSIsIm9uU3VjY2VzcyIsInRhc2siLCJ0cmlnZ2VyIiwiZGVsYXkiLCJhc3luY19TaGFsbG93Q2FuY2VsVGhlblByb21pc2UiLCJTaGFsbG93Q2FuY2VsVGhlblByb21pc2UiLCJvdXRlciIsImNvbXBsZXRlQ2FsbGJhY2siLCJlcnJvckNhbGxiYWNrIiwicHJvZ3Jlc3NDYWxsYmFjayIsIlRpbWVvdXRUaW1lciIsImNhbmNlbEFuZFNldCIsInJ1bm5lciIsInNldElmTm90U2V0IiwiSW50ZXJ2YWxUaW1lciIsImNsZWFySW50ZXJ2YWwiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwiUnVuT25jZVNjaGVkdWxlciIsInRpbWVvdXRUb2tlbiIsInRpbWVvdXRIYW5kbGVyIiwib25UaW1lb3V0IiwiaXNTY2hlZHVsZWQiLCJzY2hlZHVsZSIsImRvUnVuIiwic2ltcGxlV29ya2VyX2V4dGVuZHMiLCJJTklUSUFMSVpFIiwic2ltcGxlV29ya2VyX1NpbXBsZVdvcmtlclByb3RvY29sIiwiU2ltcGxlV29ya2VyUHJvdG9jb2wiLCJfd29ya2VySWQiLCJfaGFuZGxlciIsIl9sYXN0U2VudFJlcSIsIl9wZW5kaW5nUmVwbGllcyIsInNldFdvcmtlcklkIiwid29ya2VySWQiLCJzZW5kTWVzc2FnZSIsInJlcSIsInJlcGx5IiwiX3NlbmQiLCJ2c1dvcmtlciIsImhhbmRsZU1lc3NhZ2UiLCJzZXJpYWxpemVkTWVzc2FnZSIsIl9oYW5kbGVNZXNzYWdlIiwibXNnIiwic2VxIiwicmVwbHlNZXNzYWdlIiwid2FybiIsInJlcXVlc3RNZXNzYWdlIiwic3RyTXNnIiwic3RyaW5naWZ5Iiwic2ltcGxlV29ya2VyX1NpbXBsZVdvcmtlclNlcnZlciIsIlNpbXBsZVdvcmtlckNsaWVudCIsIndvcmtlckZhY3RvcnkiLCJsYXp5UHJveHlGdWxmaWxsIiwibGF6eVByb3h5UmVqZWN0IiwiX3dvcmtlciIsIl9wcm90b2NvbCIsInBvc3RNZXNzYWdlIiwiZ2V0SWQiLCJsb2FkZXJDb25maWd1cmF0aW9uIiwicmVxdWlyZSIsImdldENvbmZpZyIsInJlcXVpcmVqcyIsImNvbnRleHRzIiwiY29uZmlnIiwiX2xhenlQcm94eSIsIl9vbk1vZHVsZUxvYWRlZCIsImF2YWlsYWJsZU1ldGhvZHMiLCJwcm94eSIsImNyZWF0ZVByb3h5TWV0aG9kIiwicHJveHlNZXRob2RSZXF1ZXN0IiwiX29uRXJyb3IiLCJfcmVxdWVzdCIsImdldFByb3h5T2JqZWN0IiwiaW5mbyIsIlNpbXBsZVdvcmtlclNlcnZlciIsInBvc3RTZXJpYWxpemVkTWVzc2FnZSIsInJlcXVlc3RIYW5kbGVyIiwiX3JlcXVlc3RIYW5kbGVyIiwib25tZXNzYWdlIiwiaW5pdGlhbGl6ZSIsImxvYWRlckNvbmZpZyIsImNjIiwiZWUiLCJiYXNlVXJsIiwicGF0aHMiLCJ2cyIsImNhdGNoRXJyb3IiLCJoYW5kbGVyTW9kdWxlIiwiZm9yZWlnbk1vZHVsZSIsImVkaXRvcldvcmtlciIsInNpbXBsZVdvcmtlciJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEdBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxhQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQXJCLEVBQUFxQixJQUNBLEVBQUFFLEVBQUEsT0FBQUYsRUFDQSxLQUFBRSxHQUFBLGlCQUFBRixRQUFBRyxXQUFBLE9BQUFILEVB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RUFBQSxTQUNBQSxFQUFBLGdCQUNBQSxFQUFBLGNBQ0FBLEVBQUEsWUFDQUEsRUFBQSxZQUNBQSxFQUFBLGFBQ0FBLEVBQUEsZUFDQUEsRUFBQSxVQUNBQSxFQUFBLFdBQ0FBLEVBQUEsdUJBQ0FBLEVBQUEsbUJBQ0FBLEVBQUEseUJBQ0FBLEVBQUEsdUJBQ0FBLEVBQUEsYUFDQUEsRUFBQSxhQUNBQSxFQUFBLFFBQ0FBLEVBQUEsUUFDQUEsRUFBQSxRQUNBQSxFQUFBLFFBQ0FBLEVBQUEsUUFDQUEsRUFBQSxRQUNBQSxFQUFBLFFBQ0FBLEVBQUEsUUFDQUEsRUFBQSxRQUNBQSxFQUFBLFFBQ0FBLEVBQUEsUUFDQUEsRUFBQSxRQUNBQSxFQUFBLFFBQ0FBLEVBQUEsUUFDQUEsRUFBQSxRQUNBQSxFQUFBLFFBQ0FBLEVBQUEsUUFDQUEsRUFBQSxRQUNBQSxFQUFBLFFBQ0FBLEVBQUEsUUFDQUEsRUFBQSxRQUNBQSxFQUFBLFFBQ0FBLEVBQUEsUUFDQUEsRUFBQSxRQUNBQSxFQUFBLFFBQ0FBLEVBQUEsUUFDQUEsRUFBQSxRQUNBQSxFQUFBLFFBQ0FBLEVBQUEsUUFDQUEsRUFBQSxRQUNBQSxFQUFBLFFBQ0FBLEVBQUEsUUFDQUEsRUFBQSxRQUNBQSxFQUFBLFFBQ0FBLEVBQUEsUUFDQUEsRUFBQSxRQUNBQSxFQUFBLFdBQ0FBLEVBQUEsa0JBQ0FBLEVBQUEsU0FDQUEsRUFBQSxTQUNBQSxFQUFBLFNBQ0FBLEVBQUEsU0FDQUEsRUFBQSxTQUNBQSxFQUFBLFNBQ0FBLEVBQUEsU0FDQUEsRUFBQSxTQUNBQSxFQUFBLFNBQ0FBLEVBQUEsVUFDQUEsRUFBQSxVQUNBQSxFQUFBLFVBQ0FBLEVBQUEsVUFDQUEsRUFBQSxVQUNBQSxFQUFBLFVBQ0FBLEVBQUEsVUFDQUEsRUFBQSxVQUNBQSxFQUFBLFVBQ0FBLEVBQUEsVUFDQUEsRUFBQSxjQUNBQSxFQUFBLGlCQUNBQSxFQUFBLE9BQW9DLElBQUssU0FDekNBLEVBQUEsdUJBQ0FBLEVBQUEsd0JBQ0FBLEVBQUEsd0JBQ0FBLEVBQUEseUJBQ0FBLEVBQUEsb0JB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UUYsRUFBQUMsSUFFdkJILEVBQUFLLFFBQUEsS0FDQUwsRUFBQU0sTUFBQSxLQUNBTixFQUFBTyxJQUFBLElBQ0FQLEVBQUFRLFFBQUEsSUFDQVIsRUFWVSxJQXVCVixTQUFBRixHQUlBQSxJQUFBLHFCQUNBQSxJQUFBLHlCQUNBQSxJQUFBLGFBQ0FBLElBQUEsaUJBQ0FBLElBQUEsaUJBQ0FBLElBQUEsZUFDQUEsSUFBQSxhQUNBQSxJQUFBLDJCQUNBQSxJQUFBLHVCQUNBQSxJQUFBLG1CQUNBQSxJQUFBLGtCQUNBQSxJQUFBLG9CQUNBQSxJQUFBLHdCQUNBQSxJQUFBLGNBQ0FBLElBQUEsZ0JBQ0FBLElBQUEsMEJBQ0FBLElBQUEsc0JBQ0FBLElBQUEsNEJBQ0FBLElBQUEsMEJBQ0FBLElBQUEsb0JBQ0FBLElBQUEsb0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsa0JBQ0FBLElBQUEsZ0JBQ0FBLElBQUEsOEJBQ0FBLElBQUEsWUFDQUEsSUFBQSxZQUNBQSxJQUFBLFlBQ0FBLElBQUEsWUFDQUEsSUFBQSxZQUNBQSxJQUFBLFlBQ0FBLElBQUEsWUFDQUEsSUFBQSxZQUNBQSxJQUFBLFlBQ0FBLElBQUEsY0FDQUEsSUFBQSxjQUNBQSxJQUFBLGNBQ0FBLElBQUEsY0FDQUEsSUFBQSxjQUNBQSxJQUFBLGNBQ0FBLElBQUEsY0FDQUEsSUFBQSxjQUNBQSxJQUFBLGNBQ0FBLElBQUEsY0FDQUEsSUFBQSxzQkFDQUEsSUFBQSw0QkFLQUEsSUFBQSxnQ0FLQUEsSUFBQSx3QkFLQUEsSUFBQSx3QkFLQUEsSUFBQSx3QkFLQUEsSUFBQSxvQkFLQUEsSUFBQSx3QkFLQUEsSUFBQSw4QkFLQUEsSUFBQSxvREFLQUEsSUFBQSxnQ0FLQUEsSUFBQSxzREFLQUEsSUFBQSx3QkFJQUEsSUFBQSxrQkFJQUEsSUFBQSxzQkFDQUEsSUFBQSx3QkFDQUEsSUFBQSx3QkFDQUEsSUFBQSx3QkFDQUEsSUFBQSx3QkFDQUEsSUFBQSx3QkFDQUEsSUFBQSx3QkFDQUEsSUFBQSx3QkFDQUEsSUFBQSx5QkFDQUEsSUFBQSx5QkFDQUEsSUFBQSx5QkFDQUEsSUFBQSx1Q0FDQUEsSUFBQSw2QkFDQUEsSUFBQSx5Q0FDQUEsSUFBQSx1Q0FDQUEsSUFBQSxxQ0FDQUEsSUFBQSxtQ0FJQUEsSUFBQSw2Q0FDQUEsSUFBQSx1QkFDQUEsSUFBQSx1QkFLQUEsSUFBQSwyQkE3S0EsQ0E4S0NBLGFFak9ELElBQUlXLEdBQXlCLFdBQzdCLElBQUE1b0IsRUFBQXBYLE9BQUFxWCxpQkFDVUMsd0JBQWdCdlQsT0FBQSxTQUFBbkUsRUFBQTJYLEdBQXNDM1gsRUFBQTBYLFVBQUFDLElBQ2hFLFNBQUEzWCxFQUFBMlgsR0FBeUIsUUFBQW5XLEtBQUFtVyxJQUFBcFcsZUFBQUMsS0FBQXhCLEVBQUF3QixHQUFBbVcsRUFBQW5XLEtBQ3pCLGdCQUFBeEIsRUFBQTJYLEdBRUEsU0FBQUMsSUFBdUI1USxLQUFBYixZQUFBbkcsRUFEdkJ3WCxFQUFBeFgsRUFBQTJYLEdBRUEzWCxFQUFBc0IsVUFBQSxPQUFBcVcsRUFBQXZYLE9BQUFZLE9BQUEyVyxJQUFBQyxFQUFBdFcsVUFBQXFXLEVBQUFyVyxVQUFBLElBQUFzVyxJQVA2QixHQXlCekJ5b0IsR0FBVyxTQUFBNWxCLEdBRWYsU0FBQTZsQixJQUNBLGNBQUE3bEIsS0FBQWpZLE1BQUF3RSxLQUFBTixZQUFBTSxLQXdMQSxPQTFMSW81QixHQUFTRSxFQUFBN2xCLEdBSWJyYSxPQUFBQyxlQUFBaWdDLEVBQUFoL0IsVUFBQSxPQUNBZixJQUFBLFdBQ0EsT0FBQXlHLEtBQUF1cEIsTUFFQWp3QixZQUFBLEVBQ0FvRSxjQUFBLElBRUF0RSxPQUFBQyxlQUFBaWdDLEVBQUFoL0IsVUFBQSxXQUNBZixJQUFBLFdBQ0EsT0FBQXlHLEtBQUF5cEIsWUFFQW53QixZQUFBLEVBQ0FvRSxjQUFBLElBRUF0RSxPQUFBQyxlQUFBaWdDLEVBQUFoL0IsVUFBQSxPQUNBZixJQUFBLFdBQ0EsT0FBQXlHLEtBQUF3cEIsTUFFQWx3QixZQUFBLEVBQ0FvRSxjQUFBLElBRUE0N0IsRUFBQWgvQixVQUFBaS9CLFNBQUEsV0FDQSxPQUFBdjVCLEtBQUEycEIsV0FFQTJQLEVBQUFoL0IsVUFBQWsvQixnQkFBQSxXQUNBLE9BQUF4NUIsS0FBQXloQixPQUFBdGYsTUFBQSxJQUVBbTNCLEVBQUFoL0IsVUFBQTZ5QixhQUFBLFdBQ0EsT0FBQW50QixLQUFBeWhCLE9BQUFya0IsUUFFQWs4QixFQUFBaC9CLFVBQUE4eUIsZUFBQSxTQUFBcFksR0FDQSxPQUFBaFYsS0FBQXloQixPQUFBek0sRUFBQSxJQUVBc2tCLEVBQUFoL0IsVUFBQW0vQixrQkFBQSxTQUFBbGpCLEVBQUFtakIsR0FDQSxJQUFBQyxFWHNCTyxTQUFBMWtCLEVBQUF5a0IsRUFBQTFQLEVBQUE0UCxHQUdQRixFQUFBRyxVQUFBLEVBQ0EsSUFBQXhuQixFQUFBcW5CLEVBQUFwbkIsS0FBQTBYLEdBQ0EsSUFBQTNYLEVBQ0EsWUFHQSxJQUFBVCxFQUFBUyxFQUFBLEdBQUE3RSxRQUFBLFFBaENBLFNBQUF5SCxFQUFBeWtCLEVBQUExUCxFQUFBNFAsR0FJQSxJQUVBdm5CLEVBRkE2QixFQUFBZSxFQUFBLEVBQUEya0IsRUFHQSxJQUZBRixFQUFBRyxVQUFBLEVBRUF4bkIsRUFBQXFuQixFQUFBcG5CLEtBQUEwWCxJQUFBLENBQ0EsR0FBQTNYLEVBQUErTixNQUFBbE0sRUFFQSxZQUVBLEdBQUF3bEIsRUFBQUcsV0FBQTNsQixFQUVBLE9BQ0E0bEIsS0FBQXpuQixFQUFBLEdBQ0E0RCxZQUFBMmpCLEVBQUEsRUFBQXZuQixFQUFBK04sTUFDQWpLLFVBQUF5akIsRUFBQSxFQUFBRixFQUFBRyxXQUlBLFlBYUFFLENBQUE5a0IsRUFBQXlrQixFQUFBMVAsRUFBQTRQLEdBdkRBLFNBQUEza0IsRUFBQXlrQixFQUFBMVAsRUFBQTRQLEdBRUEsSUFPQXZuQixFQVBBNkIsRUFBQWUsRUFBQSxFQUFBMmtCLEVBQ0E5aEIsRUFBQWtTLEVBQUEwRSxZQUFBLElBQUF4YSxFQUFBLEtBQ0E2RCxFQUFBaVMsRUFBQXhjLFFBQUEsSUFBQTBHLEdBTUEsS0FMQSxJQUFBNkQsSUFDQUEsRUFBQWlTLEVBQUE1c0IsUUFFQXM4QixFQUFBRyxVQUFBL2hCLEVBRUF6RixFQUFBcW5CLEVBQUFwbkIsS0FBQTBYLElBQ0EsR0FBQTNYLEVBQUErTixPQUFBbE0sR0FBQXdsQixFQUFBRyxXQUFBM2xCLEVBQ0EsT0FDQTRsQixLQUFBem5CLEVBQUEsR0FDQTRELFlBQUEyakIsRUFBQSxFQUFBdm5CLEVBQUErTixNQUNBakssVUFBQXlqQixFQUFBLEVBQUFGLEVBQUFHLFdBSUEsWUFzQ0FHLENBQUEva0IsRUFBQXlrQixFQUFBMVAsRUFBQTRQLEdBS0EsT0FEQUYsRUFBQUcsVUFBQSxFQUNBam9CLEVXeEN5QnFvQixDQUFhMWpCLEVBQUF0QixPWDFDL0IsU0FBQXlrQixHQUNQLElBQUFuK0IsRUFBQTh6QixFQUNBLEdBQUFxSyxnQkFBQWxLLE9BQ0EsR0FBQWtLLEVBQUFoL0IsT0FXQWEsRUFBQW0rQixNQVhBLENBQ0EsSUFBQVEsRUFBQSxJQUNBUixFQUFBUyxhQUNBRCxHQUFBLEtBRUFSLEVBQUFVLFlBQ0FGLEdBQUEsS0FFQTMrQixFQUFBLElBQUFpMEIsT0FBQWtLLEVBQUFuSyxPQUFBMkssR0FPQSxPQURBMytCLEVBQUFzK0IsVUFBQSxFQUNBdCtCLEVXd0J3RDgrQixDQUF5QlgsR0FBQTE1QixLQUFBeWhCLE9BQUFsTCxFQUFBdkIsV0FBQSxNQUNqRixPQUFBMmtCLEVBQ0EsSUFBdUI3akIsRUFBS1MsRUFBQXZCLFdBQUEya0IsRUFBQTFqQixZQUFBTSxFQUFBdkIsV0FBQTJrQixFQUFBeGpCLFdBRTVCLE1BRUFtakIsRUFBQWgvQixVQUFBZ2dDLHFCQUFBLFNBQUEvakIsRUFBQW1qQixHQUNBLElBQUFhLEVBQUF2NkIsS0FBQXk1QixrQkFBQWxqQixFQUFBbWpCLEdBQ0EsT0FBQWEsR0FRQVQsS0FBQTk1QixLQUFBeWhCLE9BQUFsTCxFQUFBdkIsV0FBQSxHQUFBckMsVUFBQTRuQixFQUFBdGtCLFlBQUEsRUFBQU0sRUFBQXRCLE9BQUEsR0FDQWdCLFlBQUFza0IsRUFBQXRrQixZQUNBRSxVQUFBSSxFQUFBdEIsU0FSQTZrQixLQUFBLEdBQ0E3akIsWUFBQU0sRUFBQXRCLE9BQ0FrQixVQUFBSSxFQUFBdEIsU0FTQXFrQixFQUFBaC9CLFVBQUFrZ0MsbUJBQUEsU0FBQWQsR0FDQSxJQU1BZSxFQU5BL21CLEVBQUExVCxLQUNBNlYsR0FDQTdRLE1BQUEsRUFDQXJMLE1BQUEsSUFFQXFiLEVBQUEsRUFFQTBsQixFQUFBLEVBQ0FDLEtBQ0EvSSxFQUFBLFdBQ0EsR0FBQThJLEVBQUFDLEVBQUF2OUIsT0FDQXlZLEVBQUE3USxNQUFBLEVBQ0E2USxFQUFBbGMsTUFBQThnQyxFQUFBOW5CLFVBQUFnb0IsRUFBQUQsR0FBQTVpQixNQUFBNmlCLEVBQUFELEdBQUEzaUIsS0FDQTJpQixHQUFBLE1BRUEsTUFBQTFsQixHQUFBdEIsRUFBQStOLE9BQUFya0IsUUFTQSxPQUpBcTlCLEVBQUEvbUIsRUFBQStOLE9BQUF6TSxHQUNBMmxCLEVBQUFqbkIsRUFBQWtuQixXQUFBSCxFQUFBZixHQUNBZ0IsRUFBQSxFQUNBMWxCLEdBQUEsRUFDQTRjLElBUkEvYixFQUFBN1EsTUFBQSxFQUNBNlEsRUFBQWxjLFdBQUE0RCxFQVNBLE9BQUFzWSxHQUVBLE9BQWdCK2IsU0FFaEIwSCxFQUFBaC9CLFVBQUFzZ0MsV0FBQSxTQUFBQyxFQUFBbkIsR0FDQSxJQUNBcm5CLEVBREE5VyxLQUdBLElBREFtK0IsRUFBQUcsVUFBQSxHQUNBeG5CLEVBQUFxbkIsRUFBQXBuQixLQUFBdW9CLEtBQ0EsSUFBQXhvQixFQUFBLEdBQUFqVixRQUlBN0IsRUFBQTJELE1BQXlCNFksTUFBQXpGLEVBQUErTixNQUFBckksSUFBQTFGLEVBQUErTixNQUFBL04sRUFBQSxHQUFBalYsU0FFekIsT0FBQTdCLEdBRUErOUIsRUFBQWgvQixVQUFBd2dDLGdCQUFBLFNBQUF6a0IsR0FFQSxJQURBQSxFQUFBclcsS0FBQSs2QixlQUFBMWtCLElBQ0FMLGtCQUFBSyxFQUFBSCxjQUNBLE9BQUFsVyxLQUFBeWhCLE9BQUFwTCxFQUFBTCxnQkFBQSxHQUFBckQsVUFBQTBELEVBQUFKLFlBQUEsRUFBQUksRUFBQUYsVUFBQSxHQUVBLElBQUE2a0IsRUFBQWg3QixLQUFBd3BCLEtBQ0F5UixFQUFBNWtCLEVBQUFMLGdCQUFBLEVBQ0FrbEIsRUFBQTdrQixFQUFBSCxjQUFBLEVBQ0FpbEIsS0FDQUEsRUFBQWo4QixLQUFBYyxLQUFBeWhCLE9BQUF3WixHQUFBdG9CLFVBQUEwRCxFQUFBSixZQUFBLElBQ0EsUUFBQXZkLEVBQUF1aUMsRUFBQSxFQUF3Q3ZpQyxFQUFBd2lDLEVBQWtCeGlDLElBQzFEeWlDLEVBQUFqOEIsS0FBQWMsS0FBQXloQixPQUFBL29CLElBR0EsT0FEQXlpQyxFQUFBajhCLEtBQUFjLEtBQUF5aEIsT0FBQXlaLEdBQUF2b0IsVUFBQSxFQUFBMEQsRUFBQUYsVUFBQSxJQUNBZ2xCLEVBQUE1d0IsS0FBQXl3QixJQUVBMUIsRUFBQWgvQixVQUFBOGdDLFNBQUEsU0FBQTdrQixHQUdBLE9BRkFBLEVBQUF2VyxLQUFBcTdCLGtCQUFBOWtCLEdBQ0F2VyxLQUFBaXFCLG9CQUNBanFCLEtBQUE2cEIsWUFBQTdCLG9CQUFBelIsRUFBQXZCLFdBQUEsSUFBQXVCLEVBQUF0QixPQUFBLElBRUFxa0IsRUFBQWgvQixVQUFBZ2hDLFdBQUEsU0FBQTlDLEdBQ0FBLEVBQUE3aEIsS0FBQXdSLE1BQUFxUSxHQUNBQSxFQUFBN2hCLEtBQUFFLElBQUEsRUFBQTJoQixHQUNBeDRCLEtBQUFpcUIsb0JBQ0EsSUFBQXNSLEVBQUF2N0IsS0FBQTZwQixZQUFBNUIsV0FBQXVRLEdBQ0FnRCxFQUFBeDdCLEtBQUF5aEIsT0FBQThaLEVBQUFuYixPQUFBaGpCLE9BRUEsT0FDQTRYLFdBQUEsRUFBQXVtQixFQUFBbmIsTUFDQW5MLE9BQUEsRUFBQTBCLEtBQUFDLElBQUEya0IsRUFBQTNVLFVBQUE0VSxLQUdBbEMsRUFBQWgvQixVQUFBeWdDLGVBQUEsU0FBQTFrQixHQUNBLElBQUF5QixFQUFBOVgsS0FBQXE3QixtQkFBNENybUIsV0FBQXFCLEVBQUFMLGdCQUFBZixPQUFBb0IsRUFBQUosY0FDNUM4QixFQUFBL1gsS0FBQXE3QixtQkFBMENybUIsV0FBQXFCLEVBQUFILGNBQUFqQixPQUFBb0IsRUFBQUYsWUFDMUMsT0FBQTJCLEVBQUE5QyxhQUFBcUIsRUFBQUwsaUJBQ0E4QixFQUFBN0MsU0FBQW9CLEVBQUFKLGFBQ0E4QixFQUFBL0MsYUFBQXFCLEVBQUFILGVBQ0E2QixFQUFBOUMsU0FBQW9CLEVBQUFGLFdBRUFILGdCQUFBOEIsRUFBQTlDLFdBQ0FpQixZQUFBNkIsRUFBQTdDLE9BQ0FpQixjQUFBNkIsRUFBQS9DLFdBQ0FtQixVQUFBNEIsRUFBQTlDLFFBR0FvQixHQUVBaWpCLEVBQUFoL0IsVUFBQStnQyxrQkFBQSxTQUFBOWtCLEdBQ0EsSUFBYXhCLEVBQVFhLFlBQUFXLEdBQ3JCLFVBQUF6VyxNQUFBLGdCQUVBLElBQUFrVixFQUFBdUIsRUFBQXZCLFdBQUFDLEVBQUFzQixFQUFBdEIsT0FDQXdtQixHQUFBLEVBQ0EsR0FBQXptQixFQUFBLEVBQ0FBLEVBQUEsRUFDQUMsRUFBQSxFQUNBd21CLEdBQUEsT0FFQSxHQUFBem1CLEVBQUFoVixLQUFBeWhCLE9BQUFya0IsT0FDQTRYLEVBQUFoVixLQUFBeWhCLE9BQUFya0IsT0FDQTZYLEVBQUFqVixLQUFBeWhCLE9BQUF6TSxFQUFBLEdBQUE1WCxPQUFBLEVBQ0FxK0IsR0FBQSxNQUVBLENBQ0EsSUFBQUMsRUFBQTE3QixLQUFBeWhCLE9BQUF6TSxFQUFBLEdBQUE1WCxPQUFBLEVBQ0E2WCxFQUFBLEdBQ0FBLEVBQUEsRUFDQXdtQixHQUFBLEdBRUF4bUIsRUFBQXltQixJQUNBem1CLEVBQUF5bUIsRUFDQUQsR0FBQSxHQUdBLE9BQUFBLEdBSW9Cem1CLGFBQUFDLFVBSHBCc0IsR0FNQStpQixFQTNMZSxDQTRMYjdRLEdBc01Fa1QsR0FBc0IsU0FBQWxvQixHQUUxQixTQUFBbW9CLEVBQUFDLEdBQ0EsSUFBQW5vQixFQUFBRCxFQUFBNWEsS0FBQW1ILEtBQUE2N0IsSUFBQTc3QixLQUVBLE9BREEwVCxFQUFBb29CLFFBQUExaUMsT0FBQVksT0FBQSxNQUNBMFosRUE4QkEsT0FsQ0kwbEIsR0FBU3dDLEVBQUFub0IsR0FNYm1vQixFQUFBdGhDLFVBQUFvdkIsUUFBQSxXQUNBMXBCLEtBQUE4N0IsUUFBQTFpQyxPQUFBWSxPQUFBLE9BRUE0aEMsRUFBQXRoQyxVQUFBeWhDLFVBQUEsU0FBQXRuQixHQUNBLE9BQUF6VSxLQUFBODdCLFFBQUFybkIsSUFFQW1uQixFQUFBdGhDLFVBQUEwaEMsV0FBQSxXQUNBLElBQUF0b0IsRUFBQTFULEtBQ0FnRSxLQUVBLE9BREE1SyxPQUFBNkQsS0FBQStDLEtBQUE4N0IsU0FBQXIrQixRQUFBLFNBQUF4RCxHQUEwRCxPQUFBK0osRUFBQTlFLEtBQUF3VSxFQUFBb29CLFFBQUE3aEMsTUFDMUQrSixHQUVBNDNCLEVBQUF0aEMsVUFBQTJoQyxlQUFBLFNBQUE5b0IsR0FDQW5ULEtBQUE4N0IsUUFBQTNvQixFQUFBMFosS0FBQSxJQUFxQ3dNLEdBQVk3bEIsRUFBR3ZHLE1BQUFrRyxFQUFBMFosS0FBQTFaLEVBQUFnTyxNQUFBaE8sRUFBQStvQixJQUFBL29CLEVBQUFtVyxZQUVwRHNTLEVBQUF0aEMsVUFBQTZoQyxtQkFBQSxTQUFBQyxFQUFBOXpCLEdBQ0F0SSxLQUFBODdCLFFBQUFNLElBR0FwOEIsS0FBQTg3QixRQUFBTSxHQUNBeFMsU0FBQXRoQixJQUVBc3pCLEVBQUF0aEMsVUFBQStoQyxtQkFBQSxTQUFBRCxHQUNBcDhCLEtBQUE4N0IsUUFBQU0sV0FHQXA4QixLQUFBODdCLFFBQUFNLElBRUFSLEVBbkMwQixDQWxNQSxXQUMxQixTQUFBVSxFQUFBVCxHQUNBNzdCLEtBQUF1OEIsc0JBQUFWLEVBQ0E3N0IsS0FBQXc4QixlQUFBLEtBeUxBLE9BdExBRixFQUFBaGlDLFVBQUF5bUIsWUFBQSxTQUFBMGIsRUFBQUMsRUFBQUMsR0FDQSxJQUFBcGpCLEVBQUF2WixLQUFBKzdCLFVBQUFVLEdBQ0FqakIsRUFBQXhaLEtBQUErN0IsVUFBQVcsR0FDQSxJQUFBbmpCLElBQUFDLEVBQ0EsWUFFQSxJQUFBc0wsRUFBQXZMLEVBQUFpZ0Isa0JBQ0F6VSxFQUFBdkwsRUFBQWdnQixrQkFDQW9ELEVBQUEsSUFBK0IvWCxFQUFZQyxFQUFBQyxHQUMzQ1YsMEJBQUEsRUFDQUMsOEJBQUEsRUFDQWhDLDJCQUFBcWEsRUFDQTFYLHNCQUFBLElBRUEsT0FBZTBLLEVBQUEsRUFBUXRsQixHQUFBdXlCLEVBQUE3YixnQkFFdkJ1YixFQUFBaGlDLFVBQUF1aUMsd0JBQUEsU0FBQUMsRUFBQUMsR0FDQSxJQUFBaFEsRUFBQS9zQixLQUFBKzdCLFVBQUFlLEdBQ0EsSUFBQS9QLEVBQ0EsT0FBbUI0QyxFQUFBLEVBQVF0bEIsR0FBQTB5QixHQUkzQixJQUZBLElBQ0FDLEVBREF6aEMsS0FFQW0xQixFQUFBLEVBQUF1TSxFQUFBRixFQUF5Q3JNLEVBQUF1TSxFQUFBNy9CLE9BQXFCc3pCLElBQUEsQ0FDOUQsSUFBQS9FLEVBQUFzUixFQUFBdk0sR0FBQXJhLEVBQUFzVixFQUFBdFYsTUFBQTJULEVBQUEyQixFQUFBM0IsS0FBQVgsRUFBQXNDLEVBQUF0QyxJQUlBLEdBSEEsaUJBQUFBLElBQ0EyVCxFQUFBM1QsR0FFQWhULEVBQUEsQ0FJQSxJQUFBa0QsRUFBQXdULEVBQUErTixnQkFBQXprQixHQUVBLEdBQUFrRCxLQURBeVEsSUFBQXZYLFFBQUEsY0FBQXNhLEVBQUExRCxNQU1BLEdBQUExUyxLQUFBRSxJQUFBbVQsRUFBQTVzQixPQUFBbWMsRUFBQW5jLFFBQUFrL0IsRUFBQVksV0FDQTNoQyxFQUFBMkQsTUFBNkJtWCxRQUFBMlQsY0FNN0IsSUFGQSxJQUFBek4sRUFBMEJqRCxFQUFVQyxFQUFBeVEsR0FBQSxHQUNwQ21ULEVBQUFwUSxFQUFBcU8sU0FBNEN0bEIsRUFBS0gsS0FBQVUsR0FBQW9CLG9CQUNqRG9VLEVBQUEsRUFBQXVSLEVBQUE3Z0IsRUFBaURzUCxFQUFBdVIsRUFBQWhnQyxPQUF1Qnl1QixJQUFBLENBQ3hFLElBQUExWixFQUFBaXJCLEVBQUF2UixHQUNBL1QsRUFBQWlWLEVBQUF1TyxXQUFBNkIsRUFBQWhyQixFQUFBMEcsZUFDQWQsRUFBQWdWLEVBQUF1TyxXQUFBNkIsRUFBQWhyQixFQUFBMEcsY0FBQTFHLEVBQUEyRyxnQkFDQXVrQixHQUNBclQsT0FBQTFWLE9BQUFuQyxFQUFBNEcsY0FBQTVHLEVBQUE2RyxnQkFDQTNDLE9BQTRCTCxnQkFBQThCLEVBQUE5QyxXQUFBaUIsWUFBQTZCLEVBQUE3QyxPQUFBaUIsY0FBQTZCLEVBQUEvQyxXQUFBbUIsVUFBQTRCLEVBQUE5QyxTQUU1QjhYLEVBQUErTixnQkFBQXVDLEVBQUFobkIsU0FBQWduQixFQUFBclQsTUFDQXp1QixFQUFBMkQsS0FBQW0rQixLQU9BLE1BSEEsaUJBQUFMLEdBQ0F6aEMsRUFBQTJELE1BQXlCbXFCLElBQUEyVCxFQUFBaFQsVUFBQXpzQixFQUFBOFksV0FBQTlZLElBRVZveUIsRUFBQSxFQUFRdGxCLEdBQUE5TyxJQUd2QitnQyxFQUFBaGlDLFVBQUF3eUIsYUFBQSxTQUFBZ1EsR0FDQSxJQUFBL1AsRUFBQS9zQixLQUFBKzdCLFVBQUFlLEdBQ0EsT0FBQS9QLEVBR2U0QyxFQUFBLEVBQVF0bEIsR2IxRWhCLFNBQUEwaUIsR0FDUCxPQUFBQSxHQUFBLG1CQUFBQSxFQUFBSSxjQUFBLG1CQUFBSixFQUFBSyxlQUlBaEIsRUFBQVUsYUFBQUMsTWFxRTJCRCxDQUFZQyxJQUZ2QyxNQUlBdVAsRUFBQWhpQyxVQUFBZ2pDLGVBQUEsU0FBQVIsRUFBQXZtQixFQUFBZ25CLEVBQUFDLEdBQ0EsSUFBQXpRLEVBQUEvc0IsS0FBQSs3QixVQUFBZSxHQUNBLEdBQUEvUCxFQUFBLENBQ0EsSUFBQTBRLEtBQ0FDLEVBQUEsSUFBQWxPLE9BQUErTixFQUFBQyxHQUNBRyxFQUFBNVEsRUFBQXVOLHFCQUFBL2pCLEVBQUFtbkIsR0FBQTVELEtBQ0E4RCxFQUFBeGtDLE9BQUFZLE9BQUEsTUFDQTRqQyxFQUFBRCxJQUFBLEVBQ0EsUUFBQXZLLEVBQUFyRyxFQUFBeU4sbUJBQUFrRCxHQUFBcDFCLEVBQUE4cUIsRUFBQXhCLFFBQXFGdHBCLEVBQUF0RCxNQUFBeTRCLEVBQUFyZ0MsUUFBQWsvQixFQUFBdUIsa0JBQTJFdjFCLEVBQUE4cUIsRUFBQXhCLE9BQUEsQ0FDaEssSUFBQWtJLEVBQUF4eEIsRUFBQTNPLE1BQ0Fpa0MsRUFBQTlELEtBR0E4RCxFQUFBOUQsSUFBQSxFQUNBaEwsTUFBQXRVLE9BQUFzZixLQUdBMkQsRUFBQXYrQixNQUNBd0IsS0FBQSxPQUNBbzlCLE1BQUFoRSxFQUNBdlAsV0FBQXVQLEVBQ0FpRSxjQUFBLEVBQ0FDLGdCQUFBTCxFQUFBdmdDLFVBR0EsT0FBbUJ1eUIsRUFBQSxFQUFRdGxCLElBQUtvekIsa0JBS2hDbkIsRUFBQWhpQyxVQUFBd3pCLGlCQUFBLFNBQUFnUCxFQUFBem1CLEVBQUE4WCxFQUFBb1AsRUFBQUMsR0FDQSxJQUFBelEsRUFBQS9zQixLQUFBKzdCLFVBQUFlLEdBQ0EsSUFBQS9QLEVBQ0EsWUFFQSxJQUFBMlEsRUFBQSxJQUFBbE8sT0FBQStOLEVBQUFDLEdBQ0FubkIsRUFBQUosY0FBQUksRUFBQUYsWUFDQUUsR0FDQUwsZ0JBQUFLLEVBQUFMLGdCQUNBQyxZQUFBSSxFQUFBSixZQUNBQyxjQUFBRyxFQUFBSCxjQUNBQyxVQUFBRSxFQUFBRixVQUFBLElBR0EsSUFBQThuQixFQUFBbFIsRUFBQStOLGdCQUFBemtCLEdBQ0E2bkIsRUFBQW5SLEVBQUEwTSxtQkFBaUR6a0IsV0FBQXFCLEVBQUFMLGdCQUFBZixPQUFBb0IsRUFBQUosYUFBK0R5bkIsR0FDaEg1RCxFQUFBLEtBQ0EsT0FBQW9FLElBQ0FwRSxFQUFBL00sRUFBQStOLGdCQUFBb0QsSUFFQSxJQUFBM2lDLEVBQXFCcXlCLEVBQW1CdUIsU0FBQXJCLGlCQUFBelgsRUFBQTRuQixFQUFBQyxFQUFBcEUsRUFBQTNMLEdBQ3hDLE9BQWV3QixFQUFBLEVBQVF0bEIsR0FBQTlPLElBR3ZCK2dDLEVBQUFoaUMsVUFBQTZqQyxrQkFBQSxTQUFBNWxDLEVBQUE2bEMsR0FDQSxJQUFBMXFCLEVBQUExVCxLQUNBcStCLEdBQ0FDLGdCQUFBLFdBQ0EsT0FBQTVxQixFQUFBc29CLGVBR0EsR0FBQWg4QixLQUFBdThCLHNCQUFBLENBQ0F2OEIsS0FBQXc4QixlQUFBeDhCLEtBQUF1OEIsc0JBQUE4QixFQUFBRCxHQUVBLElBQUFHLEtBQ0EsUUFBQUMsS0FBQXgrQixLQUFBdzhCLGVBQ0EsbUJBQUF4OEIsS0FBQXc4QixlQUFBZ0MsSUFDQUQsRUFBQXIvQixLQUFBcy9CLEdBR0EsT0FBbUI3TyxFQUFBLEVBQVF0bEIsR0FBQWswQixHQW9CM0IsT0FBZTVPLEVBQUEsRUFBUWprQixVQUFBLElBQUE1TCxNQUFBLHNCQUl2Qnc4QixFQUFBaGlDLFVBQUFta0MsSUFBQSxTQUFBQyxFQUFBM3ZCLEdBQ0EsSUFBQS9PLEtBQUF3OEIsZ0JBQUEsbUJBQUF4OEIsS0FBQXc4QixlQUFBa0MsR0FDQSxPQUFtQi9PLEVBQUEsRUFBUWprQixVQUFBLElBQUE1TCxNQUFBLHFDQUFBNCtCLElBRTNCLElBQ0EsT0FBbUIvTyxFQUFBLEVBQVF0bEIsR0FBQXJLLEtBQUF3OEIsZUFBQWtDLEdBQUFsakMsTUFBQXdFLEtBQUF3OEIsZUFBQXp0QixJQUUzQixNQUFBekcsR0FDQSxPQUFtQnFuQixFQUFBLEVBQVFqa0IsVUFBQXBELEtBSzNCZzBCLEVBQUFZLFdBQUEsSUFFQVosRUFBQXVCLGtCQUFBLElBQ0F2QixFQTVMMEIsSUErTzFCLG1CQUFBcUMsZ0JBRUkveEIsRUFBQSxFQUFPZ3lCLFFGdE9YQyxZQUFBdGhDLEVBQ0F1aEMsZUFBQXZoQyxFQUNBODZCLHdCQUFpQ0EsR0FDakNqRyxRQUFpQkQsR0FDakJzRyxXQUNBRSxPQUFnQkQsR0FDaEIzakIsU0FBa0JBLEVBQ2xCZ0IsTUFBZUQsRUFDZjBnQixVQUFtQkQsR0FDbkJILG1CQUE0QkEsR0FDNUI0QixrQkFDQUQsYUFDQTN1QixRQUFpQnVtQixFQUFBLEVBQ2pCb1AsSUFBYXZyQixFQUNiK2tCLE1BQWVBLEtHbFBmLElBQUl5RyxHQUF5QixXQUM3QixJQUFBeHVCLEVBQUFwWCxPQUFBcVgsaUJBQ1VDLHdCQUFnQnZULE9BQUEsU0FBQW5FLEVBQUEyWCxHQUFzQzNYLEVBQUEwWCxVQUFBQyxJQUNoRSxTQUFBM1gsRUFBQTJYLEdBQXlCLFFBQUFuVyxLQUFBbVcsSUFBQXBXLGVBQUFDLEtBQUF4QixFQUFBd0IsR0FBQW1XLEVBQUFuVyxLQUN6QixnQkFBQXhCLEVBQUEyWCxHQUVBLFNBQUFDLElBQXVCNVEsS0FBQWIsWUFBQW5HLEVBRHZCd1gsRUFBQXhYLEVBQUEyWCxHQUVBM1gsRUFBQXNCLFVBQUEsT0FBQXFXLEVBQUF2WCxPQUFBWSxPQUFBMlcsSUFBQUMsRUFBQXRXLFVBQUFxVyxFQUFBclcsVUFBQSxJQUFBc1csSUFQNkIsSUE4SGhCLFdBQ2IsU0FBQXF1QixJQUNBai9CLEtBQUFrL0IsY0FBQSxLQUNBbC9CLEtBQUFtL0IsY0FBQSxLQUNBbi9CLEtBQUFvL0IscUJBQUEsS0FFQUgsRUFBQTNrQyxVQUFBbU0sTUFBQSxTQUFBNDRCLEdBQ0EsSUFBQTNyQixFQUFBMVQsS0FDQSxHQUFBQSxLQUFBay9CLGNBQUEsQ0FFQSxHQURBbC9CLEtBQUFvL0IscUJBQUFDLEdBQ0FyL0IsS0FBQW0vQixjQUFBLENBQ0EsSUFBQUcsRUFBQSxXQUNBNXJCLEVBQUF5ckIsY0FBQSxLQUNBLElBQUE1akMsRUFBQW1ZLEVBQUFqTixNQUFBaU4sRUFBQTByQixzQkFFQSxPQURBMXJCLEVBQUEwckIscUJBQUEsS0FDQTdqQyxHQUVBeUUsS0FBQW0vQixjQUFBLElBQXlDeFAsRUFBQSxFQUFRLFNBQUE1MkIsRUFBQXVQLEVBQUE5TixHQUNqRGtaLEVBQUF3ckIsY0FBQWo2QixLQUFBcTZCLElBQUE5a0MsR0FBQXdLLEtBQUFqTSxJQUNpQixXQUNqQjJhLEVBQUF3ckIsY0FBQW42QixXQUdBLFdBQXVCNHFCLEVBQUEsRUFBUSxTQUFBNTJCLEVBQUF1UCxFQUFBOU4sR0FDL0JrWixFQUFBeXJCLGNBQUFsNkIsS0FBQWxNLEVBQUF1UCxFQUFBOU4sSUFDYSxjQUtiLE9BREF3RixLQUFBay9CLGNBQUFHLElBQ0EsSUFBbUIxUCxFQUFBLEVBQVEsU0FBQTUyQixFQUFBdVAsRUFBQTlOLEdBQzNCa1osRUFBQXdyQixjQUFBbDZCLEtBQUEsU0FBQXpKLEdBQ0FtWSxFQUFBd3JCLGNBQUEsS0FDQW5tQyxFQUFBd0MsSUFDYSxTQUFBZ2tDLEdBQ2I3ckIsRUFBQXdyQixjQUFBLEtBQ0E1MkIsRUFBQWkzQixJQUNhL2tDLElBQ0osV0FDVGtaLEVBQUF3ckIsY0FBQW42QixhQXZDYSxHQW9FRixXQUNYLFNBQUF5NkIsRUFBQUMsR0FDQXovQixLQUFBeS9CLGVBQ0F6L0IsS0FBQWtMLFFBQUEsS0FDQWxMLEtBQUEwL0Isa0JBQUEsS0FDQTEvQixLQUFBMi9CLFVBQUEsS0FDQTMvQixLQUFBNC9CLEtBQUEsS0FFQUosRUFBQWxsQyxVQUFBdWxDLFFBQUEsU0FBQUQsRUFBQUUsR0FDQSxJQUFBcHNCLEVBQUExVCxLQXFCQSxZQXBCQSxJQUFBOC9CLElBQStCQSxFQUFBOS9CLEtBQUF5L0IsY0FDL0J6L0IsS0FBQTQvQixPQUNBNS9CLEtBQUF1TCxnQkFDQXZMLEtBQUEwL0Isb0JBQ0ExL0IsS0FBQTAvQixrQkFBQSxJQUF5Qy9QLEVBQUEsRUFBUSxTQUFBNTJCLEdBQ2pEMmEsRUFBQWlzQixVQUFBNW1DLEdBQ2EsY0FFQWtNLEtBQUEsV0FDYnlPLEVBQUFnc0Isa0JBQUEsS0FDQWhzQixFQUFBaXNCLFVBQUEsS0FDQSxJQUFBQyxFQUFBbHNCLEVBQUFrc0IsS0FFQSxPQURBbHNCLEVBQUFrc0IsS0FBQSxLQUNBQSxPQUdBNS9CLEtBQUFrTCxRQUFBNU8sV0FBQSxXQUNBb1gsRUFBQXhJLFFBQUEsS0FDQXdJLEVBQUFpc0IsVUFBQSxPQUNTRyxHQUNUOS9CLEtBQUEwL0IsbUJBRUFGLEVBQUFsbEMsVUFBQXlLLE9BQUEsV0FDQS9FLEtBQUF1TCxnQkFDQXZMLEtBQUEwL0Isb0JBQ0ExL0IsS0FBQTAvQixrQkFBQTM2QixTQUNBL0UsS0FBQTAvQixrQkFBQSxPQUdBRixFQUFBbGxDLFVBQUFpUixjQUFBLFdBQ0EsT0FBQXZMLEtBQUFrTCxVQUNBSSxhQUFBdEwsS0FBQWtMLFNBQ0FsTCxLQUFBa0wsUUFBQSxPQTFDVyxHQXBFWCxJQW9ISTYwQixHQUF3QixTQUFBdHNCLEdBRTVCLFNBQUF1c0IsRUFBQUMsR0FDQSxJQUFBdnNCLEVBQ0F3c0IsRUFBQUMsRUFBQUMsRUFXQSxPQVZBMXNCLEVBQUFELEVBQUE1YSxLQUFBbUgsS0FBQSxTQUFBakgsRUFBQXVQLEVBQUE5TixHQUNBMGxDLEVBQUFubkMsRUFDQW9uQyxFQUFBNzNCLEVBQ0E4M0IsRUFBQTVsQyxHQUNTLFdBR1QybEMsRUFBMEIvMUIsU0FDakJwSyxLQUNUaWdDLEVBQUFoN0IsS0FBQWk3QixFQUFBQyxFQUFBQyxHQUNBMXNCLEVBRUEsT0FoQklzckIsR0FBU2dCLEVBQUF2c0IsR0FnQmJ1c0IsRUFqQjRCLENBa0IxQnJRLEVBQUEsSUFtR0YsU0FBQWxjLEdBRUEsU0FBQTRzQixJQUNBLElBQUEzc0IsRUFBQUQsRUFBQTVhLEtBQUFtSCxZQUVBLE9BREEwVCxFQUFBNGtCLFFBQUEsRUFDQTVrQixFQUpJc3JCLEdBQVNxQixFQUFBNXNCLEdBTWI0c0IsRUFBQS9sQyxVQUFBb3ZCLFFBQUEsV0FDQTFwQixLQUFBK0UsU0FDQTBPLEVBQUFuWixVQUFBb3ZCLFFBQUE3d0IsS0FBQW1ILE9BRUFxZ0MsRUFBQS9sQyxVQUFBeUssT0FBQSxZQUNBLElBQUEvRSxLQUFBczRCLFNBQ0FodEIsYUFBQXRMLEtBQUFzNEIsUUFDQXQ0QixLQUFBczRCLFFBQUEsSUFHQStILEVBQUEvbEMsVUFBQWdtQyxhQUFBLFNBQUFDLEVBQUFyMUIsR0FDQSxJQUFBd0ksRUFBQTFULEtBQ0FBLEtBQUErRSxTQUNBL0UsS0FBQXM0QixPQUFBaDhCLFdBQUEsV0FDQW9YLEVBQUE0a0IsUUFBQSxFQUNBaUksS0FDU3IxQixJQUVUbTFCLEVBQUEvbEMsVUFBQWttQyxZQUFBLFNBQUFELEVBQUFyMUIsR0FDQSxJQUFBd0ksRUFBQTFULE1BQ0EsSUFBQUEsS0FBQXM0QixTQUlBdDRCLEtBQUFzNEIsT0FBQWg4QixXQUFBLFdBQ0FvWCxFQUFBNGtCLFFBQUEsRUFDQWlJLEtBQ1NyMUIsTUFsQ1QsQ0FxQ0UwbEIsSUFFRixTQUFBbmQsR0FFQSxTQUFBZ3RCLElBQ0EsSUFBQS9zQixFQUFBRCxFQUFBNWEsS0FBQW1ILFlBRUEsT0FEQTBULEVBQUE0a0IsUUFBQSxFQUNBNWtCLEVBSklzckIsR0FBU3lCLEVBQUFodEIsR0FNYmd0QixFQUFBbm1DLFVBQUFvdkIsUUFBQSxXQUNBMXBCLEtBQUErRSxTQUNBME8sRUFBQW5aLFVBQUFvdkIsUUFBQTd3QixLQUFBbUgsT0FFQXlnQyxFQUFBbm1DLFVBQUF5SyxPQUFBLFlBQ0EsSUFBQS9FLEtBQUFzNEIsU0FDQW9JLGNBQUExZ0MsS0FBQXM0QixRQUNBdDRCLEtBQUFzNEIsUUFBQSxJQUdBbUksRUFBQW5tQyxVQUFBZ21DLGFBQUEsU0FBQUMsRUFBQUksR0FDQTNnQyxLQUFBK0UsU0FDQS9FLEtBQUFzNEIsT0FBQXNJLFlBQUEsV0FDQUwsS0FDU0ksSUFyQlQsQ0F3QkUvUCxJQUVGLFdBQ0EsU0FBQWlRLEVBQUFOLEVBQUFyMUIsR0FDQWxMLEtBQUE4Z0MsY0FBQSxFQUNBOWdDLEtBQUF1Z0MsU0FDQXZnQyxLQUFBa0wsVUFDQWxMLEtBQUErZ0MsZUFBQS9nQyxLQUFBZ2hDLFVBQUE5bUMsS0FBQThGLE1BS0E2Z0MsRUFBQXZtQyxVQUFBb3ZCLFFBQUEsV0FDQTFwQixLQUFBK0UsU0FDQS9FLEtBQUF1Z0MsT0FBQSxNQUtBTSxFQUFBdm1DLFVBQUF5SyxPQUFBLFdBQ0EvRSxLQUFBaWhDLGdCQUNBMzFCLGFBQUF0TCxLQUFBOGdDLGNBQ0E5Z0MsS0FBQThnQyxjQUFBLElBTUFELEVBQUF2bUMsVUFBQTRtQyxTQUFBLFNBQUFwQixRQUNBLElBQUFBLElBQStCQSxFQUFBOS9CLEtBQUFrTCxTQUMvQmxMLEtBQUErRSxTQUNBL0UsS0FBQThnQyxhQUFBeGtDLFdBQUEwRCxLQUFBK2dDLGVBQUFqQixJQUtBZSxFQUFBdm1DLFVBQUEybUMsWUFBQSxXQUNBLFdBQUFqaEMsS0FBQThnQyxjQUVBRCxFQUFBdm1DLFVBQUEwbUMsVUFBQSxXQUNBaGhDLEtBQUE4Z0MsY0FBQSxFQUNBOWdDLEtBQUF1Z0MsUUFDQXZnQyxLQUFBbWhDLFNBR0FOLEVBQUF2bUMsVUFBQTZtQyxNQUFBLFdBQ0FuaEMsS0FBQXVnQyxVQTVDQSxHQWpFQSxJQ3ZXSWEsR0FBeUIsV0FDN0IsSUFBQTV3QixFQUFBcFgsT0FBQXFYLGlCQUNVQyx3QkFBZ0J2VCxPQUFBLFNBQUFuRSxFQUFBMlgsR0FBc0MzWCxFQUFBMFgsVUFBQUMsSUFDaEUsU0FBQTNYLEVBQUEyWCxHQUF5QixRQUFBblcsS0FBQW1XLElBQUFwVyxlQUFBQyxLQUFBeEIsRUFBQXdCLEdBQUFtVyxFQUFBblcsS0FDekIsZ0JBQUF4QixFQUFBMlgsR0FFQSxTQUFBQyxJQUF1QjVRLEtBQUFiLFlBQUFuRyxFQUR2QndYLEVBQUF4WCxFQUFBMlgsR0FFQTNYLEVBQUFzQixVQUFBLE9BQUFxVyxFQUFBdlgsT0FBQVksT0FBQTJXLElBQUFDLEVBQUF0VyxVQUFBcVcsRUFBQXJXLFVBQUEsSUFBQXNXLElBUDZCLEdBZTdCeXdCLEdBQUEsY0FhQSxJQUFJQyxHQUFvQixXQUN4QixTQUFBQyxFQUFBbmhDLEdBQ0FKLEtBQUF3aEMsV0FBQSxFQUNBeGhDLEtBQUF5aEMsU0FBQXJoQyxFQUNBSixLQUFBMGhDLGFBQUEsRUFDQTFoQyxLQUFBMmhDLGdCQUFBdm9DLE9BQUFZLE9BQUEsTUE4RkEsT0E1RkF1bkMsRUFBQWpuQyxVQUFBc25DLFlBQUEsU0FBQUMsR0FDQTdoQyxLQUFBd2hDLFVBQUFLLEdBRUFOLEVBQUFqbkMsVUFBQXduQyxZQUFBLFNBQUFwRCxFQUFBM3ZCLEdBQ0EsSUFBQWd6QixFQUFBbHRCLFNBQUE3VSxLQUFBMGhDLGNBQ0FNLEdBQ0FqcEMsRUFBQSxLQUNBdVAsRUFBQSxNQUVBL00sRUFBQSxJQUF5Qm8wQixFQUFBLEVBQVEsU0FBQTUyQixFQUFBdVAsR0FDakMwNUIsRUFBQWpwQyxJQUNBaXBDLEVBQUExNUIsS0FDUyxjQVVULE9BUEF0SSxLQUFBMmhDLGdCQUFBSSxHQUFBQyxFQUNBaGlDLEtBQUFpaUMsT0FDQUMsU0FBQWxpQyxLQUFBd2hDLFVBQ0FPLE1BQ0FyRCxTQUNBM3ZCLFNBRUF4VCxHQUVBZ21DLEVBQUFqbkMsVUFBQTZuQyxjQUFBLFNBQUFDLEdBQ0EsSUFBQXJpQyxFQUNBLElBQ0FBLEVBQUFpTixLQUFBQyxNQUFBbTFCLEdBRUEsTUFBQTk1QixJQUdBdkksS0FBQW1pQyxZQUdBLElBQUFsaUMsS0FBQXdoQyxXQUFBemhDLEVBQUFtaUMsV0FBQWxpQyxLQUFBd2hDLFdBR0F4aEMsS0FBQXFpQyxlQUFBdGlDLEtBRUF3aEMsRUFBQWpuQyxVQUFBK25DLGVBQUEsU0FBQUMsR0FDQSxJQUFBNXVCLEVBQUExVCxLQUNBLEdBQUFzaUMsRUFBQUMsSUFBQSxDQUNBLElBQUFDLEVBQUFGLEVBQ0EsSUFBQXRpQyxLQUFBMmhDLGdCQUFBYSxFQUFBRCxLQUVBLFlBREExUyxRQUFBNFMsS0FBQSw0QkFHQSxJQUFBVCxFQUFBaGlDLEtBQUEyaEMsZ0JBQUFhLEVBQUFELEtBRUEsVUFEQXZpQyxLQUFBMmhDLGdCQUFBYSxFQUFBRCxLQUNBQyxFQUFBakQsSUFBQSxDQUNBLElBQUFBLEVBQUFpRCxFQUFBakQsSUFRQSxPQVBBaUQsRUFBQWpELElBQUFsUCxZQUNBa1AsRUFBQSxJQUFBei9CLE9BQ0E3RyxLQUFBdXBDLEVBQUFqRCxJQUFBdG1DLEtBQ0FzbUMsRUFBQXgvQixRQUFBeWlDLEVBQUFqRCxJQUFBeC9CLFFBQ0F3L0IsRUFBQXoxQixNQUFBMDRCLEVBQUFqRCxJQUFBejFCLFlBRUFrNEIsRUFBQTE1QixFQUFBaTNCLEdBR0F5QyxFQUFBanBDLEVBQUF5cEMsRUFBQTd1QixTQW5CQSxDQXNCQSxJQUFBK3VCLEVBQUFKLEVBQ0FQLEVBQUFXLEVBQUFYLElBQ0EvaEMsS0FBQXloQyxTQUFBVSxjQUFBTyxFQUFBaEUsT0FBQWdFLEVBQUEzekIsTUFDQTlKLEtBQUEsU0FBQXpMLEdBQ0FrYSxFQUFBdXVCLE9BQ0FDLFNBQUF4dUIsRUFBQTh0QixVQUNBZSxJQUFBUixFQUNBcHVCLElBQUFuYSxFQUNBK2xDLFNBQUFoaUMsS0FFUyxTQUFBK0ssR0FDVEEsRUFBQTNILGtCQUFBYixRQUVBd0ksRUFBQTNILE9BQTJCeXZCLEdBQThCOW5CLEVBQUEzSCxTQUV6RCtTLEVBQUF1dUIsT0FDQUMsU0FBQXh1QixFQUFBOHRCLFVBQ0FlLElBQUFSLEVBQ0FwdUIsU0FBQXBXLEVBQ0FnaUMsSUFBcUJuUCxHQUE4QjluQixTQUluRGk1QixFQUFBam5DLFVBQUEybkMsTUFBQSxTQUFBSyxHQUNBLElBQUFLLEVBQUEzMUIsS0FBQTQxQixVQUFBTixHQUVBdGlDLEtBQUF5aEMsU0FBQUssWUFBQWEsSUFFQXBCLEVBbkd3QixHQWlNcEJzQixJQXpGa0IsU0FBQXB2QixHQUV0QixTQUFBcXZCLEVBQUFDLEVBQUF4cUMsR0FDQSxJQUFBbWIsRUFBQUQsRUFBQTVhLEtBQUFtSCxZQUNBZ2pDLEVBQUEsS0FDQUMsRUFBQSxLQUNBdnZCLEVBQUF3dkIsUUFBQXh2QixFQUFBb2QsVUFBQWlTLEVBQUEvb0MsT0FBQSw4Q0FBQXNvQyxHQUNBNXVCLEVBQUF5dkIsVUFBQWhCLGNBQUFHLElBQ1MsU0FBQS9DLEdBR1QwRCxFQUFBMUQsTUFFQTdyQixFQUFBeXZCLFVBQUEsSUFBOEI3QixJQUM5QlEsWUFBQSxTQUFBUSxHQUNBNXVCLEVBQUF3dkIsUUFBQUUsWUFBQWQsSUFFQUgsY0FBQSxTQUFBekQsRUFBQTN2QixHQUVBLE9BQXVCNGdCLEVBQUEsRUFBUXRsQixHQUFBLFNBRy9CcUosRUFBQXl2QixVQUFBdkIsWUFBQWx1QixFQUFBd3ZCLFFBQUFHLFNBRUEsSUFBQUMsRUFBQSxVQUNBLElBQUE1bkMsS0FBQTZuQyxTQUFBLG1CQUFBN25DLEtBQUE2bkMsUUFBQUMsVUFFQUYsRUFBQTVuQyxLQUFBNm5DLFFBQUFDLGlCQUVBLElBQUE5bkMsS0FBQStuQyxZQUVBSCxFQUFBNW5DLEtBQUErbkMsVUFBQWhwQyxFQUFBaXBDLFNBQUE5K0IsRUFBQSsrQixRQUVBandCLEVBQUFrd0IsV0FBQSxJQUErQmpVLEVBQUEsRUFBUSxTQUFBNTJCLEVBQUF1UCxHQUN2QzA2QixFQUFBanFDLEVBQ0FrcUMsRUFBQTM2QixHQUNTLGNBRVRvTCxFQUFBbXdCLGdCQUFBbndCLEVBQUF5dkIsVUFBQXJCLFlBQUFULElBQ0EzdEIsRUFBQXd2QixRQUFBRyxRQUNBOXFDLEVBQ0ErcUMsSUFFQTV2QixFQUFBbXdCLGdCQUFBNStCLEtBQUEsU0FBQTYrQixHQUVBLElBREEsSUFBQUMsS0FDQXJyQyxFQUFBLEVBQTJCQSxFQUFBb3JDLEVBQUExbUMsT0FBNkIxRSxJQUN4RHFyQyxFQUFBRCxFQUFBcHJDLElBQUFzckMsRUFBQUYsRUFBQXByQyxHQUFBdXJDLEdBRUFqQixFQUFBZSxJQUNTLFNBQUF6N0IsR0FDVDI2QixFQUFBMzZCLEdBQ0FvTCxFQUFBd3dCLFNBQUEseUJBQUEzckMsRUFBQStQLEtBR0EsSUFBQTI3QixFQUFBLFNBQUF2RixFQUFBM3ZCLEdBQ0EsT0FBQTJFLEVBQUF5d0IsU0FBQXpGLEVBQUEzdkIsSUFFQWkxQixFQUFBLFNBQUF0RixFQUFBdUYsR0FDQSxrQkFDQSxJQUFBbDFCLEVBQUE1UixNQUFBN0MsVUFBQTZILE1BQUF0SixLQUFBNkcsVUFBQSxHQUNBLE9BQUF1a0MsRUFBQXZGLEVBQUEzdkIsS0FHQSxPQUFBMkUsRUE5REkwdEIsR0FBUzBCLEVBQUFydkIsR0FnRWJxdkIsRUFBQXhvQyxVQUFBOHBDLGVBQUEsV0FFQSxXQUFtQnJFLEdBQXdCLy9CLEtBQUE0akMsYUFFM0NkLEVBQUF4b0MsVUFBQTZwQyxTQUFBLFNBQUF6RixFQUFBM3ZCLEdBQ0EsSUFBQTJFLEVBQUExVCxLQUNBLFdBQW1CMnZCLEVBQUEsRUFBUSxTQUFBNTJCLEVBQUF1UCxHQUMzQm9MLEVBQUFtd0IsZ0JBQUE1K0IsS0FBQSxXQUNBeU8sRUFBQXl2QixVQUFBckIsWUFBQXBELEVBQUEzdkIsR0FBQTlKLEtBQUFsTSxFQUFBdVAsSUFDYUEsSUFDSixlQUlUdzZCLEVBQUF4b0MsVUFBQTRwQyxTQUFBLFNBQUFua0MsRUFBQTBGLEdBQ0FvcUIsUUFBQXBxQixNQUFBMUYsR0FDQTh2QixRQUFBd1UsS0FBQTUrQixJQWpGc0IsQ0FvRnBCbXJCLElBS29CLFdBQ3RCLFNBQUEwVCxFQUFBQyxFQUFBQyxHQUNBLElBQUE5d0IsRUFBQTFULEtBQ0FBLEtBQUF5a0MsZ0JBQUFELEVBQ0F4a0MsS0FBQW1qQyxVQUFBLElBQTZCN0IsSUFDN0JRLFlBQUEsU0FBQVEsR0FDQWlDLEVBQUFqQyxJQUVBSCxjQUFBLFNBQUF6RCxFQUFBM3ZCLEdBQW9ELE9BQUEyRSxFQUFBMnVCLGVBQUEzRCxFQUFBM3ZCLE1BdUVwRCxPQXBFQXUxQixFQUFBaHFDLFVBQUFvcUMsVUFBQSxTQUFBcEMsR0FDQXRpQyxLQUFBbWpDLFVBQUFoQixjQUFBRyxJQUVBZ0MsRUFBQWhxQyxVQUFBK25DLGVBQUEsU0FBQTNELEVBQUEzdkIsR0FDQSxHQUFBMnZCLElBQUEyQyxHQUNBLE9BQUFyaEMsS0FBQTJrQyxXQUFBNTFCLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLElBRUEsSUFBQS9PLEtBQUF5a0MsaUJBQUEsbUJBQUF6a0MsS0FBQXlrQyxnQkFBQS9GLEdBQ0EsT0FBbUIvTyxFQUFBLEVBQVFqa0IsVUFBQSxJQUFBNUwsTUFBQSxxQ0FBQTQrQixJQUUzQixJQUNBLE9BQW1CL08sRUFBQSxFQUFRdGxCLEdBQUFySyxLQUFBeWtDLGdCQUFBL0YsR0FBQWxqQyxNQUFBd0UsS0FBQXlrQyxnQkFBQTExQixJQUUzQixNQUFBekcsR0FDQSxPQUFtQnFuQixFQUFBLEVBQVFqa0IsVUFBQXBELEtBRzNCZzhCLEVBQUFocUMsVUFBQXFxQyxXQUFBLFNBQUE5QyxFQUFBdHBDLEVBQUFxc0MsR0FDQSxJQTBCQUMsRUFDQUMsRUEzQkFweEIsRUFBQTFULEtBRUEsR0FEQUEsS0FBQW1qQyxVQUFBdkIsWUFBQUMsR0FDQTdoQyxLQUFBeWtDLGdCQUFBLENBRUEsSUFBQWxHLEtBQ0EsUUFBQUMsS0FBQXgrQixLQUFBeWtDLGdCQUNBLG1CQUFBemtDLEtBQUF5a0MsZ0JBQUFqRyxJQUNBRCxFQUFBci9CLEtBQUFzL0IsR0FHQSxPQUFtQjdPLEVBQUEsRUFBUXRsQixHQUFBazBCLEdBRTNCcUcsU0FFQSxJQUFBQSxFQUFBRyxnQkFDQUgsRUFBQSxhQUVBLElBQUFBLEVBQUFJLFlBQ0EsSUFBQUosRUFBQUksTUFBQUMsV0FDQUwsRUFBQUksTUFBQSxHQUlBSixFQUFBTSxZQUFBLEVBQ0F4cEMsS0FBQTZuQyxRQUFBSSxPQUFBaUIsSUFJQSxJQUFBcHJDLEVBQUEsSUFBb0JtMkIsRUFBQSxFQUFRLFNBQUE1MkIsRUFBQXVQLEdBQzVCdThCLEVBQUE5ckMsRUFDQStyQyxFQUFBeDhCLElBa0JBLE9BZkE1TSxLQUFBNm5DLFNBQUFockMsR0FBQSxXQUVBLElBREEsSUFBQWdELEtBQ0FtMUIsRUFBQSxFQUE0QkEsRUFBQWh4QixVQUFBdEMsT0FBdUJzekIsSUFDbkRuMUIsRUFBQW0xQixHQUFBaHhCLFVBQUFneEIsR0FFQSxJQUFBeVUsRUFBQTVwQyxFQUFBLEdBQ0FtWSxFQUFBK3dCLGdCQUFBVSxFQUFBbnJDLFNBQ0EsSUFBQXVrQyxLQUNBLFFBQUFDLEtBQUE5cUIsRUFBQSt3QixnQkFDQSxtQkFBQS93QixFQUFBK3dCLGdCQUFBakcsSUFDQUQsRUFBQXIvQixLQUFBcy9CLEdBR0FxRyxFQUFBdEcsSUFDU3VHLEdBQ1R0ckMsR0FFQThxQyxFQS9Fc0IsSUNsT3RCaHNDLEVBQUFVLEVBQUE2QixFQUFBLCtCQUFBOHBDLEtBT0EsSUFBQWhtQyxJQUFBLEVBQ08sU0FBQWdtQyxHQUFBUyxHQUNQLElBQUF6bUMsR0FBQSxDQUdBQSxJQUFBLEVBQ0EsSUFBQTBtQyxFQUFBLElBQTJCMUosR0FBc0J5SixHQUNqREUsRUFBQSxJQUEyQnpDLEdBQWtCLFNBQUFQLEdBQzdDNW1DLEtBQUEwbkMsWUFBQWQsSUFDSytDLEdBQ0wzcEMsS0FBQWdwQyxVQUFBLFNBQUFwOEIsR0FDQWc5QixFQUFBWixVQUFBcDhCLEVBQUE2SyxRQUdBelgsS0FBQWdwQyxVQUFBLFNBQUFwOEIsR0FFQTNKLElBQ0FnbUMsR0FBQSIsImZpbGUiOiJlZGl0b3Iud29ya2VyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDQpO1xuIiwiLyoqXG4gKiBFeHRyYWN0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vd2luanMvd2luanNcbiAqIFZlcnNpb246IDQuNC4wKGVjMzI1OGE5ZjNhMzY4MDVhMTg3ODQ4OTg0ZTNiYjkzODA0NDE3OGQpXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cbiAqIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKi9cbnZhciBfX3dpbmpzX2V4cG9ydHM7XG5cbihmdW5jdGlvbigpIHtcblxudmFyIF9tb2R1bGVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTsvL3t9O1xuX21vZHVsZXNbXCJXaW5KUy9Db3JlL19XaW5KU1wiXSA9IHt9O1xuXG52YXIgX3dpbmpzID0gZnVuY3Rpb24obW9kdWxlSWQsIGRlcHMsIGZhY3RvcnkpIHtcbiAgICB2YXIgZXhwb3J0cyA9IHt9O1xuICAgIHZhciBleHBvcnRzUGFzc2VkSW4gPSBmYWxzZTtcblxuICAgIHZhciBkZXBzVmFsdWVzID0gZGVwcy5tYXAoZnVuY3Rpb24oZGVwKSB7XG4gICAgICAgIGlmIChkZXAgPT09ICdleHBvcnRzJykge1xuICAgICAgICAgICAgZXhwb3J0c1Bhc3NlZEluID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBleHBvcnRzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfbW9kdWxlc1tkZXBdO1xuICAgIH0pO1xuXG4gICAgdmFyIHJlc3VsdCA9IGZhY3RvcnkuYXBwbHkoe30sIGRlcHNWYWx1ZXMpO1xuXG4gICAgX21vZHVsZXNbbW9kdWxlSWRdID0gZXhwb3J0c1Bhc3NlZEluID8gZXhwb3J0cyA6IHJlc3VsdDtcbn07XG5cblxuX3dpbmpzKFwiV2luSlMvQ29yZS9fR2xvYmFsXCIsIFtdLCBmdW5jdGlvbiAoKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICAvLyBBcHBlYXNlIGpzaGludFxuICAgIC8qIGdsb2JhbCB3aW5kb3csIHNlbGYsIGdsb2JhbCAqL1xuXG4gICAgdmFyIGdsb2JhbE9iamVjdCA9XG4gICAgICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDpcbiAgICAgICAgdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6XG4gICAgICAgIHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDpcbiAgICAgICAge307XG4gICAgcmV0dXJuIGdsb2JhbE9iamVjdDtcbn0pO1xuXG5fd2luanMoXCJXaW5KUy9Db3JlL19CYXNlQ29yZVV0aWxzXCIsIFtcIldpbkpTL0NvcmUvX0dsb2JhbFwiXSwgZnVuY3Rpb24gYmFzZUNvcmVVdGlsc0luaXQoX0dsb2JhbCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgdmFyIGhhc1dpblJUID0gISFfR2xvYmFsLldpbmRvd3M7XG5cbiAgICBmdW5jdGlvbiBtYXJrU3VwcG9ydGVkRm9yUHJvY2Vzc2luZyhmdW5jKSB7XG4gICAgICAgIC8vLyA8c2lnbmF0dXJlIGhlbHBLZXl3b3JkPVwiV2luSlMuVXRpbGl0aWVzLm1hcmtTdXBwb3J0ZWRGb3JQcm9jZXNzaW5nXCI+XG4gICAgICAgIC8vLyA8c3VtbWFyeSBsb2NpZD1cIldpbkpTLlV0aWxpdGllcy5tYXJrU3VwcG9ydGVkRm9yUHJvY2Vzc2luZ1wiPlxuICAgICAgICAvLy8gTWFya3MgYSBmdW5jdGlvbiBhcyBiZWluZyBjb21wYXRpYmxlIHdpdGggZGVjbGFyYXRpdmUgcHJvY2Vzc2luZywgc3VjaCBhcyBXaW5KUy5VSS5wcm9jZXNzQWxsXG4gICAgICAgIC8vLyBvciBXaW5KUy5CaW5kaW5nLnByb2Nlc3NBbGwuXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XG4gICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cImZ1bmNcIiB0eXBlPVwiRnVuY3Rpb25cIiBsb2NpZD1cIldpbkpTLlV0aWxpdGllcy5tYXJrU3VwcG9ydGVkRm9yUHJvY2Vzc2luZ19wOmZ1bmNcIj5cbiAgICAgICAgLy8vIFRoZSBmdW5jdGlvbiB0byBiZSBtYXJrZWQgYXMgY29tcGF0aWJsZSB3aXRoIGRlY2xhcmF0aXZlIHByb2Nlc3NpbmcuXG4gICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAvLy8gPHJldHVybnMgdHlwZT1cIkZ1bmN0aW9uXCIgbG9jaWQ9XCJXaW5KUy5VdGlsaXRpZXMubWFya1N1cHBvcnRlZEZvclByb2Nlc3NpbmdfcmV0dXJuVmFsdWVcIj5cbiAgICAgICAgLy8vIFRoZSBpbnB1dCBmdW5jdGlvbi5cbiAgICAgICAgLy8vIDwvcmV0dXJucz5cbiAgICAgICAgLy8vIDwvc2lnbmF0dXJlPlxuICAgICAgICBmdW5jLnN1cHBvcnRlZEZvclByb2Nlc3NpbmcgPSB0cnVlO1xuICAgICAgICByZXR1cm4gZnVuYztcbiAgICB9XG5cbiAgICB2YXIgYWN0dWFsU2V0SW1tZWRpYXRlID0gbnVsbDtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGhhc1dpblJUOiBoYXNXaW5SVCxcbiAgICAgICAgbWFya1N1cHBvcnRlZEZvclByb2Nlc3Npbmc6IG1hcmtTdXBwb3J0ZWRGb3JQcm9jZXNzaW5nLFxuICAgICAgICBfc2V0SW1tZWRpYXRlOiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIC8vIEJFR0lOIG1vbmFjbyBjaGFuZ2VcbiAgICAgICAgICAgIGlmIChhY3R1YWxTZXRJbW1lZGlhdGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoX0dsb2JhbC5zZXRJbW1lZGlhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0dWFsU2V0SW1tZWRpYXRlID0gX0dsb2JhbC5zZXRJbW1lZGlhdGUuYmluZChfR2xvYmFsKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgcHJvY2Vzcy5uZXh0VGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBhY3R1YWxTZXRJbW1lZGlhdGUgPSBwcm9jZXNzLm5leHRUaWNrLmJpbmQocHJvY2Vzcyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0dWFsU2V0SW1tZWRpYXRlID0gX0dsb2JhbC5zZXRUaW1lb3V0LmJpbmQoX0dsb2JhbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWN0dWFsU2V0SW1tZWRpYXRlKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIC8vIEVORCBtb25hY28gY2hhbmdlXG4gICAgICAgIH1cbiAgICB9O1xufSk7XG5fd2luanMoXCJXaW5KUy9Db3JlL19Xcml0ZVByb2ZpbGVyTWFya1wiLCBbXCJXaW5KUy9Db3JlL19HbG9iYWxcIl0sIGZ1bmN0aW9uIHByb2ZpbGVySW5pdChfR2xvYmFsKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICByZXR1cm4gX0dsb2JhbC5tc1dyaXRlUHJvZmlsZXJNYXJrIHx8IGZ1bmN0aW9uICgpIHsgfTtcbn0pO1xuX3dpbmpzKFwiV2luSlMvQ29yZS9fQmFzZVwiLCBbXCJXaW5KUy9Db3JlL19XaW5KU1wiLFwiV2luSlMvQ29yZS9fR2xvYmFsXCIsXCJXaW5KUy9Db3JlL19CYXNlQ29yZVV0aWxzXCIsXCJXaW5KUy9Db3JlL19Xcml0ZVByb2ZpbGVyTWFya1wiXSwgZnVuY3Rpb24gYmFzZUluaXQoX1dpbkpTLCBfR2xvYmFsLCBfQmFzZUNvcmVVdGlscywgX1dyaXRlUHJvZmlsZXJNYXJrKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBmdW5jdGlvbiBpbml0aWFsaXplUHJvcGVydGllcyh0YXJnZXQsIG1lbWJlcnMsIHByZWZpeCkge1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG1lbWJlcnMpO1xuICAgICAgICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkodGFyZ2V0KTtcbiAgICAgICAgdmFyIHByb3BlcnRpZXM7XG4gICAgICAgIHZhciBpLCBsZW47XG4gICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IGtleXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgICAgdmFyIGVudW1lcmFibGUgPSBrZXkuY2hhckNvZGVBdCgwKSAhPT0gLypfKi85NTtcbiAgICAgICAgICAgIHZhciBtZW1iZXIgPSBtZW1iZXJzW2tleV07XG4gICAgICAgICAgICBpZiAobWVtYmVyICYmIHR5cGVvZiBtZW1iZXIgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1lbWJlci52YWx1ZSAhPT0gdW5kZWZpbmVkIHx8IHR5cGVvZiBtZW1iZXIuZ2V0ID09PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBtZW1iZXIuc2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZW1iZXIuZW51bWVyYWJsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZW1iZXIuZW51bWVyYWJsZSA9IGVudW1lcmFibGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZWZpeCAmJiBtZW1iZXIuc2V0TmFtZSAmJiB0eXBlb2YgbWVtYmVyLnNldE5hbWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lbWJlci5zZXROYW1lKHByZWZpeCArIFwiLlwiICsga2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzID0gcHJvcGVydGllcyB8fCB7fTtcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllc1trZXldID0gbWVtYmVyO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWVudW1lcmFibGUpIHtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzID0gcHJvcGVydGllcyB8fCB7fTtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzW2tleV0gPSB7IHZhbHVlOiBtZW1iZXIsIGVudW1lcmFibGU6IGVudW1lcmFibGUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0FycmF5KSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LmZvckVhY2goZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRba2V5XSA9IG1lbWJlcjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBtZW1iZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIGlmIChpc0FycmF5KSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LmZvckVhY2goZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BlcnRpZXMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BlcnRpZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgX3Jvb3ROYW1lc3BhY2UgPSBfV2luSlM7XG4gICAgICAgIGlmICghX3Jvb3ROYW1lc3BhY2UuTmFtZXNwYWNlKSB7XG4gICAgICAgICAgICBfcm9vdE5hbWVzcGFjZS5OYW1lc3BhY2UgPSBPYmplY3QuY3JlYXRlKE9iamVjdC5wcm90b3R5cGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlTmFtZXNwYWNlKHBhcmVudE5hbWVzcGFjZSwgbmFtZSkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnROYW1lc3BhY2UgPSBwYXJlbnROYW1lc3BhY2UgfHwge307XG4gICAgICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgICAgICAgIHZhciBuYW1lc3BhY2VGcmFnbWVudHMgPSBuYW1lLnNwbGl0KFwiLlwiKTtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudE5hbWVzcGFjZSA9PT0gX0dsb2JhbCAmJiBuYW1lc3BhY2VGcmFnbWVudHNbMF0gPT09IFwiV2luSlNcIikge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50TmFtZXNwYWNlID0gX1dpbkpTO1xuICAgICAgICAgICAgICAgICAgICBuYW1lc3BhY2VGcmFnbWVudHMuc3BsaWNlKDAsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbmFtZXNwYWNlRnJhZ21lbnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuYW1lc3BhY2VOYW1lID0gbmFtZXNwYWNlRnJhZ21lbnRzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnROYW1lc3BhY2VbbmFtZXNwYWNlTmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdXJyZW50TmFtZXNwYWNlLCBuYW1lc3BhY2VOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgdmFsdWU6IHt9LCB3cml0YWJsZTogZmFsc2UsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnROYW1lc3BhY2UgPSBjdXJyZW50TmFtZXNwYWNlW25hbWVzcGFjZU5hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50TmFtZXNwYWNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZGVmaW5lV2l0aFBhcmVudChwYXJlbnROYW1lc3BhY2UsIG5hbWUsIG1lbWJlcnMpIHtcbiAgICAgICAgICAgIC8vLyA8c2lnbmF0dXJlIGhlbHBLZXl3b3JkPVwiV2luSlMuTmFtZXNwYWNlLmRlZmluZVdpdGhQYXJlbnRcIj5cbiAgICAgICAgICAgIC8vLyA8c3VtbWFyeSBsb2NpZD1cIldpbkpTLk5hbWVzcGFjZS5kZWZpbmVXaXRoUGFyZW50XCI+XG4gICAgICAgICAgICAvLy8gRGVmaW5lcyBhIG5ldyBuYW1lc3BhY2Ugd2l0aCB0aGUgc3BlY2lmaWVkIG5hbWUgdW5kZXIgdGhlIHNwZWNpZmllZCBwYXJlbnQgbmFtZXNwYWNlLlxuICAgICAgICAgICAgLy8vIDwvc3VtbWFyeT5cbiAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cInBhcmVudE5hbWVzcGFjZVwiIHR5cGU9XCJPYmplY3RcIiBsb2NpZD1cIldpbkpTLk5hbWVzcGFjZS5kZWZpbmVXaXRoUGFyZW50X3A6cGFyZW50TmFtZXNwYWNlXCI+XG4gICAgICAgICAgICAvLy8gVGhlIHBhcmVudCBuYW1lc3BhY2UuXG4gICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cIm5hbWVcIiB0eXBlPVwiU3RyaW5nXCIgbG9jaWQ9XCJXaW5KUy5OYW1lc3BhY2UuZGVmaW5lV2l0aFBhcmVudF9wOm5hbWVcIj5cbiAgICAgICAgICAgIC8vLyBUaGUgbmFtZSBvZiB0aGUgbmV3IG5hbWVzcGFjZS5cbiAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwibWVtYmVyc1wiIHR5cGU9XCJPYmplY3RcIiBsb2NpZD1cIldpbkpTLk5hbWVzcGFjZS5kZWZpbmVXaXRoUGFyZW50X3A6bWVtYmVyc1wiPlxuICAgICAgICAgICAgLy8vIFRoZSBtZW1iZXJzIG9mIHRoZSBuZXcgbmFtZXNwYWNlLlxuICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAvLy8gPHJldHVybnMgdHlwZT1cIk9iamVjdFwiIGxvY2lkPVwiV2luSlMuTmFtZXNwYWNlLmRlZmluZVdpdGhQYXJlbnRfcmV0dXJuVmFsdWVcIj5cbiAgICAgICAgICAgIC8vLyBUaGUgbmV3bHktZGVmaW5lZCBuYW1lc3BhY2UuXG4gICAgICAgICAgICAvLy8gPC9yZXR1cm5zPlxuICAgICAgICAgICAgLy8vIDwvc2lnbmF0dXJlPlxuICAgICAgICAgICAgdmFyIGN1cnJlbnROYW1lc3BhY2UgPSBjcmVhdGVOYW1lc3BhY2UocGFyZW50TmFtZXNwYWNlLCBuYW1lKTtcblxuICAgICAgICAgICAgaWYgKG1lbWJlcnMpIHtcbiAgICAgICAgICAgICAgICBpbml0aWFsaXplUHJvcGVydGllcyhjdXJyZW50TmFtZXNwYWNlLCBtZW1iZXJzLCBuYW1lIHx8IFwiPEFOT05ZTU9VUz5cIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50TmFtZXNwYWNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZGVmaW5lKG5hbWUsIG1lbWJlcnMpIHtcbiAgICAgICAgICAgIC8vLyA8c2lnbmF0dXJlIGhlbHBLZXl3b3JkPVwiV2luSlMuTmFtZXNwYWNlLmRlZmluZVwiPlxuICAgICAgICAgICAgLy8vIDxzdW1tYXJ5IGxvY2lkPVwiV2luSlMuTmFtZXNwYWNlLmRlZmluZVwiPlxuICAgICAgICAgICAgLy8vIERlZmluZXMgYSBuZXcgbmFtZXNwYWNlIHdpdGggdGhlIHNwZWNpZmllZCBuYW1lLlxuICAgICAgICAgICAgLy8vIDwvc3VtbWFyeT5cbiAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cIm5hbWVcIiB0eXBlPVwiU3RyaW5nXCIgbG9jaWQ9XCJXaW5KUy5OYW1lc3BhY2UuZGVmaW5lX3A6bmFtZVwiPlxuICAgICAgICAgICAgLy8vIFRoZSBuYW1lIG9mIHRoZSBuYW1lc3BhY2UuIFRoaXMgY291bGQgYmUgYSBkb3Qtc2VwYXJhdGVkIG5hbWUgZm9yIG5lc3RlZCBuYW1lc3BhY2VzLlxuICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJtZW1iZXJzXCIgdHlwZT1cIk9iamVjdFwiIGxvY2lkPVwiV2luSlMuTmFtZXNwYWNlLmRlZmluZV9wOm1lbWJlcnNcIj5cbiAgICAgICAgICAgIC8vLyBUaGUgbWVtYmVycyBvZiB0aGUgbmV3IG5hbWVzcGFjZS5cbiAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgLy8vIDxyZXR1cm5zIHR5cGU9XCJPYmplY3RcIiBsb2NpZD1cIldpbkpTLk5hbWVzcGFjZS5kZWZpbmVfcmV0dXJuVmFsdWVcIj5cbiAgICAgICAgICAgIC8vLyBUaGUgbmV3bHktZGVmaW5lZCBuYW1lc3BhY2UuXG4gICAgICAgICAgICAvLy8gPC9yZXR1cm5zPlxuICAgICAgICAgICAgLy8vIDwvc2lnbmF0dXJlPlxuICAgICAgICAgICAgcmV0dXJuIGRlZmluZVdpdGhQYXJlbnQoX0dsb2JhbCwgbmFtZSwgbWVtYmVycyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgTGF6eVN0YXRlcyA9IHtcbiAgICAgICAgICAgIHVuaW5pdGlhbGl6ZWQ6IDEsXG4gICAgICAgICAgICB3b3JraW5nOiAyLFxuICAgICAgICAgICAgaW5pdGlhbGl6ZWQ6IDMsXG4gICAgICAgIH07XG5cbiAgICAgICAgZnVuY3Rpb24gbGF6eShmKSB7XG4gICAgICAgICAgICB2YXIgbmFtZTtcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IExhenlTdGF0ZXMudW5pbml0aWFsaXplZDtcbiAgICAgICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHNldE5hbWU6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBuYW1lID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChzdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBMYXp5U3RhdGVzLmluaXRpYWxpemVkOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTGF6eVN0YXRlcy51bmluaXRpYWxpemVkOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gTGF6eVN0YXRlcy53b3JraW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9Xcml0ZVByb2ZpbGVyTWFyayhcIldpbkpTLk5hbWVzcGFjZS5fbGF6eTpcIiArIG5hbWUgKyBcIixTdGFydFRNXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBmKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX1dyaXRlUHJvZmlsZXJNYXJrKFwiV2luSlMuTmFtZXNwYWNlLl9sYXp5OlwiICsgbmFtZSArIFwiLFN0b3BUTVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBMYXp5U3RhdGVzLnVuaW5pdGlhbGl6ZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGYgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlID0gTGF6eVN0YXRlcy5pbml0aWFsaXplZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIExhenlTdGF0ZXMud29ya2luZzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBcIklsbGVnYWw6IHJlZW50cmFuY3kgb24gaW5pdGlhbGl6YXRpb25cIjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBcIklsbGVnYWxcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChzdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBMYXp5U3RhdGVzLndvcmtpbmc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgXCJJbGxlZ2FsOiByZWVudHJhbmN5IG9uIGluaXRpYWxpemF0aW9uXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBMYXp5U3RhdGVzLmluaXRpYWxpemVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBoZWxwZXIgZm9yIGRlZmluaW5nIEFNRCBtb2R1bGUgbWVtYmVyc1xuICAgICAgICBmdW5jdGlvbiBtb2R1bGVEZWZpbmUoZXhwb3J0cywgbmFtZSwgbWVtYmVycykge1xuICAgICAgICAgICAgdmFyIHRhcmdldCA9IFtleHBvcnRzXTtcbiAgICAgICAgICAgIHZhciBwdWJsaWNOUyA9IG51bGw7XG4gICAgICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgICAgICAgIHB1YmxpY05TID0gY3JlYXRlTmFtZXNwYWNlKF9HbG9iYWwsIG5hbWUpO1xuICAgICAgICAgICAgICAgIHRhcmdldC5wdXNoKHB1YmxpY05TKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluaXRpYWxpemVQcm9wZXJ0aWVzKHRhcmdldCwgbWVtYmVycywgbmFtZSB8fCBcIjxBTk9OWU1PVVM+XCIpO1xuICAgICAgICAgICAgcmV0dXJuIHB1YmxpY05TO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRXN0YWJsaXNoIG1lbWJlcnMgb2YgdGhlIFwiV2luSlMuTmFtZXNwYWNlXCIgbmFtZXNwYWNlXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKF9yb290TmFtZXNwYWNlLk5hbWVzcGFjZSwge1xuXG4gICAgICAgICAgICBkZWZpbmVXaXRoUGFyZW50OiB7IHZhbHVlOiBkZWZpbmVXaXRoUGFyZW50LCB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0sXG5cbiAgICAgICAgICAgIGRlZmluZTogeyB2YWx1ZTogZGVmaW5lLCB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0sXG5cbiAgICAgICAgICAgIF9sYXp5OiB7IHZhbHVlOiBsYXp5LCB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0sXG5cbiAgICAgICAgICAgIF9tb2R1bGVEZWZpbmU6IHsgdmFsdWU6IG1vZHVsZURlZmluZSwgd3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9XG5cbiAgICAgICAgfSk7XG5cbiAgICB9KSgpO1xuXG4gICAgKGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBmdW5jdGlvbiBkZWZpbmUoY29uc3RydWN0b3IsIGluc3RhbmNlTWVtYmVycywgc3RhdGljTWVtYmVycykge1xuICAgICAgICAgICAgLy8vIDxzaWduYXR1cmUgaGVscEtleXdvcmQ9XCJXaW5KUy5DbGFzcy5kZWZpbmVcIj5cbiAgICAgICAgICAgIC8vLyA8c3VtbWFyeSBsb2NpZD1cIldpbkpTLkNsYXNzLmRlZmluZVwiPlxuICAgICAgICAgICAgLy8vIERlZmluZXMgYSBjbGFzcyB1c2luZyB0aGUgZ2l2ZW4gY29uc3RydWN0b3IgYW5kIHRoZSBzcGVjaWZpZWQgaW5zdGFuY2UgbWVtYmVycy5cbiAgICAgICAgICAgIC8vLyA8L3N1bW1hcnk+XG4gICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJjb25zdHJ1Y3RvclwiIHR5cGU9XCJGdW5jdGlvblwiIGxvY2lkPVwiV2luSlMuQ2xhc3MuZGVmaW5lX3A6Y29uc3RydWN0b3JcIj5cbiAgICAgICAgICAgIC8vLyBBIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHRoYXQgaXMgdXNlZCB0byBpbnN0YW50aWF0ZSB0aGlzIGNsYXNzLlxuICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJpbnN0YW5jZU1lbWJlcnNcIiB0eXBlPVwiT2JqZWN0XCIgbG9jaWQ9XCJXaW5KUy5DbGFzcy5kZWZpbmVfcDppbnN0YW5jZU1lbWJlcnNcIj5cbiAgICAgICAgICAgIC8vLyBUaGUgc2V0IG9mIGluc3RhbmNlIGZpZWxkcywgcHJvcGVydGllcywgYW5kIG1ldGhvZHMgbWFkZSBhdmFpbGFibGUgb24gdGhlIGNsYXNzLlxuICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJzdGF0aWNNZW1iZXJzXCIgdHlwZT1cIk9iamVjdFwiIGxvY2lkPVwiV2luSlMuQ2xhc3MuZGVmaW5lX3A6c3RhdGljTWVtYmVyc1wiPlxuICAgICAgICAgICAgLy8vIFRoZSBzZXQgb2Ygc3RhdGljIGZpZWxkcywgcHJvcGVydGllcywgYW5kIG1ldGhvZHMgbWFkZSBhdmFpbGFibGUgb24gdGhlIGNsYXNzLlxuICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAvLy8gPHJldHVybnMgdHlwZT1cIkZ1bmN0aW9uXCIgbG9jaWQ9XCJXaW5KUy5DbGFzcy5kZWZpbmVfcmV0dXJuVmFsdWVcIj5cbiAgICAgICAgICAgIC8vLyBUaGUgbmV3bHktZGVmaW5lZCBjbGFzcy5cbiAgICAgICAgICAgIC8vLyA8L3JldHVybnM+XG4gICAgICAgICAgICAvLy8gPC9zaWduYXR1cmU+XG4gICAgICAgICAgICBjb25zdHJ1Y3RvciA9IGNvbnN0cnVjdG9yIHx8IGZ1bmN0aW9uICgpIHsgfTtcbiAgICAgICAgICAgIF9CYXNlQ29yZVV0aWxzLm1hcmtTdXBwb3J0ZWRGb3JQcm9jZXNzaW5nKGNvbnN0cnVjdG9yKTtcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZU1lbWJlcnMpIHtcbiAgICAgICAgICAgICAgICBpbml0aWFsaXplUHJvcGVydGllcyhjb25zdHJ1Y3Rvci5wcm90b3R5cGUsIGluc3RhbmNlTWVtYmVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RhdGljTWVtYmVycykge1xuICAgICAgICAgICAgICAgIGluaXRpYWxpemVQcm9wZXJ0aWVzKGNvbnN0cnVjdG9yLCBzdGF0aWNNZW1iZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb25zdHJ1Y3RvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGRlcml2ZShiYXNlQ2xhc3MsIGNvbnN0cnVjdG9yLCBpbnN0YW5jZU1lbWJlcnMsIHN0YXRpY01lbWJlcnMpIHtcbiAgICAgICAgICAgIC8vLyA8c2lnbmF0dXJlIGhlbHBLZXl3b3JkPVwiV2luSlMuQ2xhc3MuZGVyaXZlXCI+XG4gICAgICAgICAgICAvLy8gPHN1bW1hcnkgbG9jaWQ9XCJXaW5KUy5DbGFzcy5kZXJpdmVcIj5cbiAgICAgICAgICAgIC8vLyBDcmVhdGVzIGEgc3ViLWNsYXNzIGJhc2VkIG9uIHRoZSBzdXBwbGllZCBiYXNlQ2xhc3MgcGFyYW1ldGVyLCB1c2luZyBwcm90b3R5cGFsIGluaGVyaXRhbmNlLlxuICAgICAgICAgICAgLy8vIDwvc3VtbWFyeT5cbiAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cImJhc2VDbGFzc1wiIHR5cGU9XCJGdW5jdGlvblwiIGxvY2lkPVwiV2luSlMuQ2xhc3MuZGVyaXZlX3A6YmFzZUNsYXNzXCI+XG4gICAgICAgICAgICAvLy8gVGhlIGNsYXNzIHRvIGluaGVyaXQgZnJvbS5cbiAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwiY29uc3RydWN0b3JcIiB0eXBlPVwiRnVuY3Rpb25cIiBsb2NpZD1cIldpbkpTLkNsYXNzLmRlcml2ZV9wOmNvbnN0cnVjdG9yXCI+XG4gICAgICAgICAgICAvLy8gQSBjb25zdHJ1Y3RvciBmdW5jdGlvbiB0aGF0IGlzIHVzZWQgdG8gaW5zdGFudGlhdGUgdGhpcyBjbGFzcy5cbiAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwiaW5zdGFuY2VNZW1iZXJzXCIgdHlwZT1cIk9iamVjdFwiIGxvY2lkPVwiV2luSlMuQ2xhc3MuZGVyaXZlX3A6aW5zdGFuY2VNZW1iZXJzXCI+XG4gICAgICAgICAgICAvLy8gVGhlIHNldCBvZiBpbnN0YW5jZSBmaWVsZHMsIHByb3BlcnRpZXMsIGFuZCBtZXRob2RzIHRvIGJlIG1hZGUgYXZhaWxhYmxlIG9uIHRoZSBjbGFzcy5cbiAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwic3RhdGljTWVtYmVyc1wiIHR5cGU9XCJPYmplY3RcIiBsb2NpZD1cIldpbkpTLkNsYXNzLmRlcml2ZV9wOnN0YXRpY01lbWJlcnNcIj5cbiAgICAgICAgICAgIC8vLyBUaGUgc2V0IG9mIHN0YXRpYyBmaWVsZHMsIHByb3BlcnRpZXMsIGFuZCBtZXRob2RzIHRvIGJlIG1hZGUgYXZhaWxhYmxlIG9uIHRoZSBjbGFzcy5cbiAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgLy8vIDxyZXR1cm5zIHR5cGU9XCJGdW5jdGlvblwiIGxvY2lkPVwiV2luSlMuQ2xhc3MuZGVyaXZlX3JldHVyblZhbHVlXCI+XG4gICAgICAgICAgICAvLy8gVGhlIG5ld2x5LWRlZmluZWQgY2xhc3MuXG4gICAgICAgICAgICAvLy8gPC9yZXR1cm5zPlxuICAgICAgICAgICAgLy8vIDwvc2lnbmF0dXJlPlxuICAgICAgICAgICAgaWYgKGJhc2VDbGFzcykge1xuICAgICAgICAgICAgICAgIGNvbnN0cnVjdG9yID0gY29uc3RydWN0b3IgfHwgZnVuY3Rpb24gKCkgeyB9O1xuICAgICAgICAgICAgICAgIHZhciBiYXNlUHJvdG90eXBlID0gYmFzZUNsYXNzLnByb3RvdHlwZTtcbiAgICAgICAgICAgICAgICBjb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGJhc2VQcm90b3R5cGUpO1xuICAgICAgICAgICAgICAgIF9CYXNlQ29yZVV0aWxzLm1hcmtTdXBwb3J0ZWRGb3JQcm9jZXNzaW5nKGNvbnN0cnVjdG9yKTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29uc3RydWN0b3IucHJvdG90eXBlLCBcImNvbnN0cnVjdG9yXCIsIHsgdmFsdWU6IGNvbnN0cnVjdG9yLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZU1lbWJlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGl6ZVByb3BlcnRpZXMoY29uc3RydWN0b3IucHJvdG90eXBlLCBpbnN0YW5jZU1lbWJlcnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc3RhdGljTWVtYmVycykge1xuICAgICAgICAgICAgICAgICAgICBpbml0aWFsaXplUHJvcGVydGllcyhjb25zdHJ1Y3Rvciwgc3RhdGljTWVtYmVycyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjb25zdHJ1Y3RvcjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZmluZShjb25zdHJ1Y3RvciwgaW5zdGFuY2VNZW1iZXJzLCBzdGF0aWNNZW1iZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG1peChjb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgLy8vIDxzaWduYXR1cmUgaGVscEtleXdvcmQ9XCJXaW5KUy5DbGFzcy5taXhcIj5cbiAgICAgICAgICAgIC8vLyA8c3VtbWFyeSBsb2NpZD1cIldpbkpTLkNsYXNzLm1peFwiPlxuICAgICAgICAgICAgLy8vIERlZmluZXMgYSBjbGFzcyB1c2luZyB0aGUgZ2l2ZW4gY29uc3RydWN0b3IgYW5kIHRoZSB1bmlvbiBvZiB0aGUgc2V0IG9mIGluc3RhbmNlIG1lbWJlcnNcbiAgICAgICAgICAgIC8vLyBzcGVjaWZpZWQgYnkgYWxsIHRoZSBtaXhpbiBvYmplY3RzLiBUaGUgbWl4aW4gcGFyYW1ldGVyIGxpc3QgaXMgb2YgdmFyaWFibGUgbGVuZ3RoLlxuICAgICAgICAgICAgLy8vIDwvc3VtbWFyeT5cbiAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cImNvbnN0cnVjdG9yXCIgbG9jaWQ9XCJXaW5KUy5DbGFzcy5taXhfcDpjb25zdHJ1Y3RvclwiPlxuICAgICAgICAgICAgLy8vIEEgY29uc3RydWN0b3IgZnVuY3Rpb24gdGhhdCBpcyB1c2VkIHRvIGluc3RhbnRpYXRlIHRoaXMgY2xhc3MuXG4gICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgIC8vLyA8cmV0dXJucyB0eXBlPVwiRnVuY3Rpb25cIiBsb2NpZD1cIldpbkpTLkNsYXNzLm1peF9yZXR1cm5WYWx1ZVwiPlxuICAgICAgICAgICAgLy8vIFRoZSBuZXdseS1kZWZpbmVkIGNsYXNzLlxuICAgICAgICAgICAgLy8vIDwvcmV0dXJucz5cbiAgICAgICAgICAgIC8vLyA8L3NpZ25hdHVyZT5cbiAgICAgICAgICAgIGNvbnN0cnVjdG9yID0gY29uc3RydWN0b3IgfHwgZnVuY3Rpb24gKCkgeyB9O1xuICAgICAgICAgICAgdmFyIGksIGxlbjtcbiAgICAgICAgICAgIGZvciAoaSA9IDEsIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGluaXRpYWxpemVQcm9wZXJ0aWVzKGNvbnN0cnVjdG9yLnByb3RvdHlwZSwgYXJndW1lbnRzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb25zdHJ1Y3RvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEVzdGFibGlzaCBtZW1iZXJzIG9mIFwiV2luSlMuQ2xhc3NcIiBuYW1lc3BhY2VcbiAgICAgICAgX1dpbkpTLk5hbWVzcGFjZS5kZWZpbmUoXCJXaW5KUy5DbGFzc1wiLCB7XG4gICAgICAgICAgICBkZWZpbmU6IGRlZmluZSxcbiAgICAgICAgICAgIGRlcml2ZTogZGVyaXZlLFxuICAgICAgICAgICAgbWl4OiBtaXhcbiAgICAgICAgfSk7XG5cbiAgICB9KSgpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgTmFtZXNwYWNlOiBfV2luSlMuTmFtZXNwYWNlLFxuICAgICAgICBDbGFzczogX1dpbkpTLkNsYXNzXG4gICAgfTtcblxufSk7XG5fd2luanMoXCJXaW5KUy9Db3JlL19FcnJvckZyb21OYW1lXCIsIFtcIldpbkpTL0NvcmUvX0Jhc2VcIl0sIGZ1bmN0aW9uIGVycm9yc0luaXQoX0Jhc2UpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIHZhciBFcnJvckZyb21OYW1lID0gX0Jhc2UuQ2xhc3MuZGVyaXZlKEVycm9yLCBmdW5jdGlvbiAobmFtZSwgbWVzc2FnZSkge1xuICAgICAgICAvLy8gPHNpZ25hdHVyZSBoZWxwS2V5d29yZD1cIldpbkpTLkVycm9yRnJvbU5hbWVcIj5cbiAgICAgICAgLy8vIDxzdW1tYXJ5IGxvY2lkPVwiV2luSlMuRXJyb3JGcm9tTmFtZVwiPlxuICAgICAgICAvLy8gQ3JlYXRlcyBhbiBFcnJvciBvYmplY3Qgd2l0aCB0aGUgc3BlY2lmaWVkIG5hbWUgYW5kIG1lc3NhZ2UgcHJvcGVydGllcy5cbiAgICAgICAgLy8vIDwvc3VtbWFyeT5cbiAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwibmFtZVwiIHR5cGU9XCJTdHJpbmdcIiBsb2NpZD1cIldpbkpTLkVycm9yRnJvbU5hbWVfcDpuYW1lXCI+VGhlIG5hbWUgb2YgdGhpcyBlcnJvci4gVGhlIG5hbWUgaXMgbWVhbnQgdG8gYmUgY29uc3VtZWQgcHJvZ3JhbW1hdGljYWxseSBhbmQgc2hvdWxkIG5vdCBiZSBsb2NhbGl6ZWQuPC9wYXJhbT5cbiAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwibWVzc2FnZVwiIHR5cGU9XCJTdHJpbmdcIiBvcHRpb25hbD1cInRydWVcIiBsb2NpZD1cIldpbkpTLkVycm9yRnJvbU5hbWVfcDptZXNzYWdlXCI+VGhlIG1lc3NhZ2UgZm9yIHRoaXMgZXJyb3IuIFRoZSBtZXNzYWdlIGlzIG1lYW50IHRvIGJlIGNvbnN1bWVkIGJ5IGh1bWFucyBhbmQgc2hvdWxkIGJlIGxvY2FsaXplZC48L3BhcmFtPlxuICAgICAgICAvLy8gPHJldHVybnMgdHlwZT1cIkVycm9yXCIgbG9jaWQ9XCJXaW5KUy5FcnJvckZyb21OYW1lX3JldHVyblZhbHVlXCI+RXJyb3IgaW5zdGFuY2Ugd2l0aCAubmFtZSBhbmQgLm1lc3NhZ2UgcHJvcGVydGllcyBwb3B1bGF0ZWQ8L3JldHVybnM+XG4gICAgICAgIC8vLyA8L3NpZ25hdHVyZT5cbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZSB8fCBuYW1lO1xuICAgIH0sIHtcbiAgICAgICAgLyogZW1wdHkgKi9cbiAgICB9LCB7XG4gICAgICAgIHN1cHBvcnRlZEZvclByb2Nlc3Npbmc6IGZhbHNlLFxuICAgIH0pO1xuXG4gICAgX0Jhc2UuTmFtZXNwYWNlLmRlZmluZShcIldpbkpTXCIsIHtcbiAgICAgICAgLy8gRXJyb3JGcm9tTmFtZSBlc3RhYmxpc2hlcyBhIHNpbXBsZSBwYXR0ZXJuIGZvciByZXR1cm5pbmcgZXJyb3IgY29kZXMuXG4gICAgICAgIC8vXG4gICAgICAgIEVycm9yRnJvbU5hbWU6IEVycm9yRnJvbU5hbWVcbiAgICB9KTtcblxuICAgIHJldHVybiBFcnJvckZyb21OYW1lO1xuXG59KTtcblxuXG5fd2luanMoXCJXaW5KUy9Db3JlL19FdmVudHNcIiwgW1wiZXhwb3J0c1wiLFwiV2luSlMvQ29yZS9fQmFzZVwiXSwgZnVuY3Rpb24gZXZlbnRzSW5pdChleHBvcnRzLCBfQmFzZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG5cbiAgICBmdW5jdGlvbiBjcmVhdGVFdmVudFByb3BlcnR5KG5hbWUpIHtcbiAgICAgICAgdmFyIGV2ZW50UHJvcFN0YXRlTmFtZSA9IFwiX29uXCIgKyBuYW1lICsgXCJzdGF0ZVwiO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSB0aGlzW2V2ZW50UHJvcFN0YXRlTmFtZV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlICYmIHN0YXRlLnVzZXJIYW5kbGVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSB0aGlzW2V2ZW50UHJvcFN0YXRlTmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSB7IHdyYXBwZXI6IGZ1bmN0aW9uIChldnQpIHsgcmV0dXJuIHN0YXRlLnVzZXJIYW5kbGVyKGV2dCk7IH0sIHVzZXJIYW5kbGVyOiBoYW5kbGVyIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgZXZlbnRQcm9wU3RhdGVOYW1lLCB7IHZhbHVlOiBzdGF0ZSwgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOnRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBzdGF0ZS53cmFwcGVyLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3RhdGUudXNlckhhbmRsZXIgPSBoYW5kbGVyO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIHN0YXRlLndyYXBwZXIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1tldmVudFByb3BTdGF0ZU5hbWVdID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUV2ZW50UHJvcGVydGllcygpIHtcbiAgICAgICAgLy8vIDxzaWduYXR1cmUgaGVscEtleXdvcmQ9XCJXaW5KUy5VdGlsaXRpZXMuY3JlYXRlRXZlbnRQcm9wZXJ0aWVzXCI+XG4gICAgICAgIC8vLyA8c3VtbWFyeSBsb2NpZD1cIldpbkpTLlV0aWxpdGllcy5jcmVhdGVFdmVudFByb3BlcnRpZXNcIj5cbiAgICAgICAgLy8vIENyZWF0ZXMgYW4gb2JqZWN0IHRoYXQgaGFzIG9uZSBwcm9wZXJ0eSBmb3IgZWFjaCBuYW1lIHBhc3NlZCB0byB0aGUgZnVuY3Rpb24uXG4gICAgICAgIC8vLyA8L3N1bW1hcnk+XG4gICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cImV2ZW50c1wiIGxvY2lkPVwiV2luSlMuVXRpbGl0aWVzLmNyZWF0ZUV2ZW50UHJvcGVydGllc19wOmV2ZW50c1wiPlxuICAgICAgICAvLy8gQSB2YXJpYWJsZSBsaXN0IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgLy8vIDxyZXR1cm5zIHR5cGU9XCJPYmplY3RcIiBsb2NpZD1cIldpbkpTLlV0aWxpdGllcy5jcmVhdGVFdmVudFByb3BlcnRpZXNfcmV0dXJuVmFsdWVcIj5cbiAgICAgICAgLy8vIFRoZSBvYmplY3Qgd2l0aCB0aGUgc3BlY2lmaWVkIHByb3BlcnRpZXMuIFRoZSBuYW1lcyBvZiB0aGUgcHJvcGVydGllcyBhcmUgcHJlZml4ZWQgd2l0aCAnb24nLlxuICAgICAgICAvLy8gPC9yZXR1cm5zPlxuICAgICAgICAvLy8gPC9zaWduYXR1cmU+XG4gICAgICAgIHZhciBwcm9wcyA9IHt9O1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIHByb3BzW1wib25cIiArIG5hbWVdID0gY3JlYXRlRXZlbnRQcm9wZXJ0eShuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJvcHM7XG4gICAgfVxuXG4gICAgdmFyIEV2ZW50TWl4aW5FdmVudCA9IF9CYXNlLkNsYXNzLmRlZmluZShcbiAgICAgICAgZnVuY3Rpb24gRXZlbnRNaXhpbkV2ZW50X2N0b3IodHlwZSwgZGV0YWlsLCB0YXJnZXQpIHtcbiAgICAgICAgICAgIHRoaXMuZGV0YWlsID0gZGV0YWlsO1xuICAgICAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgICAgICB0aGlzLnRpbWVTdGFtcCA9IERhdGUubm93KCk7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBidWJibGVzOiB7IHZhbHVlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH0sXG4gICAgICAgICAgICBjYW5jZWxhYmxlOiB7IHZhbHVlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlIH0sXG4gICAgICAgICAgICBjdXJyZW50VGFyZ2V0OiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLnRhcmdldDsgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRlZmF1bHRQcmV2ZW50ZWQ6IHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX3ByZXZlbnREZWZhdWx0Q2FsbGVkOyB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHJ1c3RlZDogeyB2YWx1ZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSB9LFxuICAgICAgICAgICAgZXZlbnRQaGFzZTogeyB2YWx1ZTogMCwgd3JpdGFibGU6IGZhbHNlIH0sXG4gICAgICAgICAgICB0YXJnZXQ6IG51bGwsXG4gICAgICAgICAgICB0aW1lU3RhbXA6IG51bGwsXG4gICAgICAgICAgICB0eXBlOiBudWxsLFxuXG4gICAgICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3ByZXZlbnREZWZhdWx0Q2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb25DYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBzdXBwb3J0ZWRGb3JQcm9jZXNzaW5nOiBmYWxzZSxcbiAgICAgICAgfVxuICAgICk7XG5cbiAgICB2YXIgZXZlbnRNaXhpbiA9IHtcbiAgICAgICAgX2xpc3RlbmVyczogbnVsbCxcblxuICAgICAgICBhZGRFdmVudExpc3RlbmVyOiBmdW5jdGlvbiAodHlwZSwgbGlzdGVuZXIsIHVzZUNhcHR1cmUpIHtcbiAgICAgICAgICAgIC8vLyA8c2lnbmF0dXJlIGhlbHBLZXl3b3JkPVwiV2luSlMuVXRpbGl0aWVzLmV2ZW50TWl4aW4uYWRkRXZlbnRMaXN0ZW5lclwiPlxuICAgICAgICAgICAgLy8vIDxzdW1tYXJ5IGxvY2lkPVwiV2luSlMuVXRpbGl0aWVzLmV2ZW50TWl4aW4uYWRkRXZlbnRMaXN0ZW5lclwiPlxuICAgICAgICAgICAgLy8vIEFkZHMgYW4gZXZlbnQgbGlzdGVuZXIgdG8gdGhlIGNvbnRyb2wuXG4gICAgICAgICAgICAvLy8gPC9zdW1tYXJ5PlxuICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwidHlwZVwiIGxvY2lkPVwiV2luSlMuVXRpbGl0aWVzLmV2ZW50TWl4aW4uYWRkRXZlbnRMaXN0ZW5lcl9wOnR5cGVcIj5cbiAgICAgICAgICAgIC8vLyBUaGUgdHlwZSAobmFtZSkgb2YgdGhlIGV2ZW50LlxuICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJsaXN0ZW5lclwiIGxvY2lkPVwiV2luSlMuVXRpbGl0aWVzLmV2ZW50TWl4aW4uYWRkRXZlbnRMaXN0ZW5lcl9wOmxpc3RlbmVyXCI+XG4gICAgICAgICAgICAvLy8gVGhlIGxpc3RlbmVyIHRvIGludm9rZSB3aGVuIHRoZSBldmVudCBpcyByYWlzZWQuXG4gICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cInVzZUNhcHR1cmVcIiBsb2NpZD1cIldpbkpTLlV0aWxpdGllcy5ldmVudE1peGluLmFkZEV2ZW50TGlzdGVuZXJfcDp1c2VDYXB0dXJlXCI+XG4gICAgICAgICAgICAvLy8gaWYgdHJ1ZSBpbml0aWF0ZXMgY2FwdHVyZSwgb3RoZXJ3aXNlIGZhbHNlLlxuICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAvLy8gPC9zaWduYXR1cmU+XG4gICAgICAgICAgICB1c2VDYXB0dXJlID0gdXNlQ2FwdHVyZSB8fCBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2xpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycyB8fCB7fTtcbiAgICAgICAgICAgIHZhciBldmVudExpc3RlbmVycyA9ICh0aGlzLl9saXN0ZW5lcnNbdHlwZV0gPSB0aGlzLl9saXN0ZW5lcnNbdHlwZV0gfHwgW10pO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGV2ZW50TGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGwgPSBldmVudExpc3RlbmVyc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAobC51c2VDYXB0dXJlID09PSB1c2VDYXB0dXJlICYmIGwubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBldmVudExpc3RlbmVycy5wdXNoKHsgbGlzdGVuZXI6IGxpc3RlbmVyLCB1c2VDYXB0dXJlOiB1c2VDYXB0dXJlIH0pO1xuICAgICAgICB9LFxuICAgICAgICBkaXNwYXRjaEV2ZW50OiBmdW5jdGlvbiAodHlwZSwgZGV0YWlscykge1xuICAgICAgICAgICAgLy8vIDxzaWduYXR1cmUgaGVscEtleXdvcmQ9XCJXaW5KUy5VdGlsaXRpZXMuZXZlbnRNaXhpbi5kaXNwYXRjaEV2ZW50XCI+XG4gICAgICAgICAgICAvLy8gPHN1bW1hcnkgbG9jaWQ9XCJXaW5KUy5VdGlsaXRpZXMuZXZlbnRNaXhpbi5kaXNwYXRjaEV2ZW50XCI+XG4gICAgICAgICAgICAvLy8gUmFpc2VzIGFuIGV2ZW50IG9mIHRoZSBzcGVjaWZpZWQgdHlwZSBhbmQgd2l0aCB0aGUgc3BlY2lmaWVkIGFkZGl0aW9uYWwgcHJvcGVydGllcy5cbiAgICAgICAgICAgIC8vLyA8L3N1bW1hcnk+XG4gICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJ0eXBlXCIgbG9jaWQ9XCJXaW5KUy5VdGlsaXRpZXMuZXZlbnRNaXhpbi5kaXNwYXRjaEV2ZW50X3A6dHlwZVwiPlxuICAgICAgICAgICAgLy8vIFRoZSB0eXBlIChuYW1lKSBvZiB0aGUgZXZlbnQuXG4gICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cImRldGFpbHNcIiBsb2NpZD1cIldpbkpTLlV0aWxpdGllcy5ldmVudE1peGluLmRpc3BhdGNoRXZlbnRfcDpkZXRhaWxzXCI+XG4gICAgICAgICAgICAvLy8gVGhlIHNldCBvZiBhZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYXR0YWNoZWQgdG8gdGhlIGV2ZW50IG9iamVjdCB3aGVuIHRoZSBldmVudCBpcyByYWlzZWQuXG4gICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgIC8vLyA8cmV0dXJucyB0eXBlPVwiQm9vbGVhblwiIGxvY2lkPVwiV2luSlMuVXRpbGl0aWVzLmV2ZW50TWl4aW4uZGlzcGF0Y2hFdmVudF9yZXR1cm5WYWx1ZVwiPlxuICAgICAgICAgICAgLy8vIHRydWUgaWYgcHJldmVudERlZmF1bHQgd2FzIGNhbGxlZCBvbiB0aGUgZXZlbnQuXG4gICAgICAgICAgICAvLy8gPC9yZXR1cm5zPlxuICAgICAgICAgICAgLy8vIDwvc2lnbmF0dXJlPlxuICAgICAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycyAmJiB0aGlzLl9saXN0ZW5lcnNbdHlwZV07XG4gICAgICAgICAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50VmFsdWUgPSBuZXcgRXZlbnRNaXhpbkV2ZW50KHR5cGUsIGRldGFpbHMsIHRoaXMpO1xuICAgICAgICAgICAgICAgIC8vIE5lZWQgdG8gY29weSB0aGUgYXJyYXkgdG8gcHJvdGVjdCBhZ2FpbnN0IHBlb3BsZSB1bnJlZ2lzdGVyaW5nIHdoaWxlIHdlIGFyZSBkaXNwYXRjaGluZ1xuICAgICAgICAgICAgICAgIGxpc3RlbmVycyA9IGxpc3RlbmVycy5zbGljZSgwLCBsaXN0ZW5lcnMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbiAmJiAhZXZlbnRWYWx1ZS5fc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uQ2FsbGVkOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzW2ldLmxpc3RlbmVyKGV2ZW50VmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnRWYWx1ZS5kZWZhdWx0UHJldmVudGVkIHx8IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyOiBmdW5jdGlvbiAodHlwZSwgbGlzdGVuZXIsIHVzZUNhcHR1cmUpIHtcbiAgICAgICAgICAgIC8vLyA8c2lnbmF0dXJlIGhlbHBLZXl3b3JkPVwiV2luSlMuVXRpbGl0aWVzLmV2ZW50TWl4aW4ucmVtb3ZlRXZlbnRMaXN0ZW5lclwiPlxuICAgICAgICAgICAgLy8vIDxzdW1tYXJ5IGxvY2lkPVwiV2luSlMuVXRpbGl0aWVzLmV2ZW50TWl4aW4ucmVtb3ZlRXZlbnRMaXN0ZW5lclwiPlxuICAgICAgICAgICAgLy8vIFJlbW92ZXMgYW4gZXZlbnQgbGlzdGVuZXIgZnJvbSB0aGUgY29udHJvbC5cbiAgICAgICAgICAgIC8vLyA8L3N1bW1hcnk+XG4gICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJ0eXBlXCIgbG9jaWQ9XCJXaW5KUy5VdGlsaXRpZXMuZXZlbnRNaXhpbi5yZW1vdmVFdmVudExpc3RlbmVyX3A6dHlwZVwiPlxuICAgICAgICAgICAgLy8vIFRoZSB0eXBlIChuYW1lKSBvZiB0aGUgZXZlbnQuXG4gICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cImxpc3RlbmVyXCIgbG9jaWQ9XCJXaW5KUy5VdGlsaXRpZXMuZXZlbnRNaXhpbi5yZW1vdmVFdmVudExpc3RlbmVyX3A6bGlzdGVuZXJcIj5cbiAgICAgICAgICAgIC8vLyBUaGUgbGlzdGVuZXIgdG8gcmVtb3ZlLlxuICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJ1c2VDYXB0dXJlXCIgbG9jaWQ9XCJXaW5KUy5VdGlsaXRpZXMuZXZlbnRNaXhpbi5yZW1vdmVFdmVudExpc3RlbmVyX3A6dXNlQ2FwdHVyZVwiPlxuICAgICAgICAgICAgLy8vIFNwZWNpZmllcyB3aGV0aGVyIHRvIGluaXRpYXRlIGNhcHR1cmUuXG4gICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgIC8vLyA8L3NpZ25hdHVyZT5cbiAgICAgICAgICAgIHVzZUNhcHR1cmUgPSB1c2VDYXB0dXJlIHx8IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycyAmJiB0aGlzLl9saXN0ZW5lcnNbdHlwZV07XG4gICAgICAgICAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbCA9IGxpc3RlbmVyc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGwubGlzdGVuZXIgPT09IGxpc3RlbmVyICYmIGwudXNlQ2FwdHVyZSA9PT0gdXNlQ2FwdHVyZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2xpc3RlbmVyc1t0eXBlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgd2FudCB0byByZW1vdmUgb25lIGVsZW1lbnQgZm9yIGVhY2ggY2FsbCB0byByZW1vdmVFdmVudExpc3RlbmVyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBfQmFzZS5OYW1lc3BhY2UuX21vZHVsZURlZmluZShleHBvcnRzLCBcIldpbkpTLlV0aWxpdGllc1wiLCB7XG4gICAgICAgIF9jcmVhdGVFdmVudFByb3BlcnR5OiBjcmVhdGVFdmVudFByb3BlcnR5LFxuICAgICAgICBjcmVhdGVFdmVudFByb3BlcnRpZXM6IGNyZWF0ZUV2ZW50UHJvcGVydGllcyxcbiAgICAgICAgZXZlbnRNaXhpbjogZXZlbnRNaXhpblxuICAgIH0pO1xuXG59KTtcblxuXG5fd2luanMoXCJXaW5KUy9Db3JlL19UcmFjZVwiLCBbXCJXaW5KUy9Db3JlL19HbG9iYWxcIl0sIGZ1bmN0aW9uIHRyYWNlSW5pdChfR2xvYmFsKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBmdW5jdGlvbiBub3Aodikge1xuICAgICAgICByZXR1cm4gdjtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBfdHJhY2VBc3luY09wZXJhdGlvblN0YXJ0aW5nOiAoX0dsb2JhbC5EZWJ1ZyAmJiBfR2xvYmFsLkRlYnVnLm1zVHJhY2VBc3luY09wZXJhdGlvblN0YXJ0aW5nICYmIF9HbG9iYWwuRGVidWcubXNUcmFjZUFzeW5jT3BlcmF0aW9uU3RhcnRpbmcuYmluZChfR2xvYmFsLkRlYnVnKSkgfHwgbm9wLFxuICAgICAgICBfdHJhY2VBc3luY09wZXJhdGlvbkNvbXBsZXRlZDogKF9HbG9iYWwuRGVidWcgJiYgX0dsb2JhbC5EZWJ1Zy5tc1RyYWNlQXN5bmNPcGVyYXRpb25Db21wbGV0ZWQgJiYgX0dsb2JhbC5EZWJ1Zy5tc1RyYWNlQXN5bmNPcGVyYXRpb25Db21wbGV0ZWQuYmluZChfR2xvYmFsLkRlYnVnKSkgfHwgbm9wLFxuICAgICAgICBfdHJhY2VBc3luY0NhbGxiYWNrU3RhcnRpbmc6IChfR2xvYmFsLkRlYnVnICYmIF9HbG9iYWwuRGVidWcubXNUcmFjZUFzeW5jQ2FsbGJhY2tTdGFydGluZyAmJiBfR2xvYmFsLkRlYnVnLm1zVHJhY2VBc3luY0NhbGxiYWNrU3RhcnRpbmcuYmluZChfR2xvYmFsLkRlYnVnKSkgfHwgbm9wLFxuICAgICAgICBfdHJhY2VBc3luY0NhbGxiYWNrQ29tcGxldGVkOiAoX0dsb2JhbC5EZWJ1ZyAmJiBfR2xvYmFsLkRlYnVnLm1zVHJhY2VBc3luY0NhbGxiYWNrQ29tcGxldGVkICYmIF9HbG9iYWwuRGVidWcubXNUcmFjZUFzeW5jQ2FsbGJhY2tDb21wbGV0ZWQuYmluZChfR2xvYmFsLkRlYnVnKSkgfHwgbm9wXG4gICAgfTtcbn0pO1xuX3dpbmpzKFwiV2luSlMvUHJvbWlzZS9fU3RhdGVNYWNoaW5lXCIsIFtcIldpbkpTL0NvcmUvX0dsb2JhbFwiLFwiV2luSlMvQ29yZS9fQmFzZUNvcmVVdGlsc1wiLFwiV2luSlMvQ29yZS9fQmFzZVwiLFwiV2luSlMvQ29yZS9fRXJyb3JGcm9tTmFtZVwiLFwiV2luSlMvQ29yZS9fRXZlbnRzXCIsXCJXaW5KUy9Db3JlL19UcmFjZVwiXSwgZnVuY3Rpb24gcHJvbWlzZVN0YXRlTWFjaGluZUluaXQoX0dsb2JhbCwgX0Jhc2VDb3JlVXRpbHMsIF9CYXNlLCBfRXJyb3JGcm9tTmFtZSwgX0V2ZW50cywgX1RyYWNlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBfR2xvYmFsLkRlYnVnICYmIChfR2xvYmFsLkRlYnVnLnNldE5vblVzZXJDb2RlRXhjZXB0aW9ucyA9IHRydWUpO1xuXG4gICAgdmFyIExpc3RlbmVyVHlwZSA9IF9CYXNlLkNsYXNzLm1peChfQmFzZS5DbGFzcy5kZWZpbmUobnVsbCwgeyAvKmVtcHR5Ki8gfSwgeyBzdXBwb3J0ZWRGb3JQcm9jZXNzaW5nOiBmYWxzZSB9KSwgX0V2ZW50cy5ldmVudE1peGluKTtcbiAgICB2YXIgcHJvbWlzZUV2ZW50TGlzdGVuZXJzID0gbmV3IExpc3RlbmVyVHlwZSgpO1xuICAgIC8vIG1ha2Ugc3VyZSB0aGVyZSBpcyBhIGxpc3RlbmVycyBjb2xsZWN0aW9uIHNvIHRoYXQgd2UgY2FuIGRvIGEgbW9yZSB0cml2aWFsIGNoZWNrIGJlbG93XG4gICAgcHJvbWlzZUV2ZW50TGlzdGVuZXJzLl9saXN0ZW5lcnMgPSB7fTtcbiAgICB2YXIgZXJyb3JFVCA9IFwiZXJyb3JcIjtcbiAgICB2YXIgY2FuY2VsZWROYW1lID0gXCJDYW5jZWxlZFwiO1xuICAgIHZhciB0YWdXaXRoU3RhY2sgPSBmYWxzZTtcbiAgICB2YXIgdGFnID0ge1xuICAgICAgICBwcm9taXNlOiAweDAxLFxuICAgICAgICB0aGVuUHJvbWlzZTogMHgwMixcbiAgICAgICAgZXJyb3JQcm9taXNlOiAweDA0LFxuICAgICAgICBleGNlcHRpb25Qcm9taXNlOiAweDA4LFxuICAgICAgICBjb21wbGV0ZVByb21pc2U6IDB4MTAsXG4gICAgfTtcbiAgICB0YWcuYWxsID0gdGFnLnByb21pc2UgfCB0YWcudGhlblByb21pc2UgfCB0YWcuZXJyb3JQcm9taXNlIHwgdGFnLmV4Y2VwdGlvblByb21pc2UgfCB0YWcuY29tcGxldGVQcm9taXNlO1xuXG4gICAgLy9cbiAgICAvLyBHbG9iYWwgZXJyb3IgY291bnRlciwgZm9yIGVhY2ggZXJyb3Igd2hpY2ggZW50ZXJzIHRoZSBzeXN0ZW0gd2UgaW5jcmVtZW50IHRoaXMgb25jZSBhbmQgdGhlblxuICAgIC8vIHRoZSBlcnJvciBudW1iZXIgdHJhdmVscyB3aXRoIHRoZSBlcnJvciBhcyBpdCB0cmF2ZXJzZXMgdGhlIHRyZWUgb2YgcG90ZW50aWFsIGhhbmRsZXJzLlxuICAgIC8vXG4gICAgLy8gV2hlbiBzb21lb25lIGhhcyByZWdpc3RlcmVkIHRvIGJlIHRvbGQgYWJvdXQgZXJyb3JzIChXaW5KUy5Qcm9taXNlLmNhbGxvbmVycm9yKSBwcm9taXNlc1xuICAgIC8vIHdoaWNoIGFyZSBpbiBlcnJvciB3aWxsIGdldCB0YWdnZWQgd2l0aCBhIC5fZXJyb3JJZCBmaWVsZC4gVGhpcyB0YWdnZWQgZmllbGQgaXMgdGhlXG4gICAgLy8gY29udHJhY3QgYnkgd2hpY2ggbmVzdGVkIHByb21pc2VzIHdpdGggZXJyb3JzIHdpbGwgYmUgaWRlbnRpZmllZCBhcyBjaGFpbmluZyBmb3IgdGhlXG4gICAgLy8gcHVycG9zZXMgb2YgdGhlIGNhbGxvbmVycm9yIHNlbWFudGljcy4gSWYgYSBuZXN0ZWQgcHJvbWlzZSBpbiBlcnJvciBpcyBlbmNvdW50ZXJlZCB3aXRob3V0XG4gICAgLy8gYSAuX2Vycm9ySWQgaXQgd2lsbCBiZSBhc3N1bWVkIHRvIGJlIGZvcmVpZ24gYW5kIHRyZWF0ZWQgYXMgYW4gaW50ZXJvcCBib3VuZGFyeSBhbmRcbiAgICAvLyBhIG5ldyBlcnJvciBpZCB3aWxsIGJlIG1pbnRlZC5cbiAgICAvL1xuICAgIHZhciBlcnJvcl9udW1iZXIgPSAxO1xuXG4gICAgLy9cbiAgICAvLyBUaGUgc3RhdGUgbWFjaGluZSBoYXMgYSBpbnRlcmVzdGluZyBoaWNjdXAgaW4gaXQgd2l0aCByZWdhcmRzIHRvIG5vdGlmaWNhdGlvbiwgaW4gb3JkZXJcbiAgICAvLyB0byBmbGF0dGVuIG91dCBub3RpZmljYXRpb24gYW5kIGF2b2lkIHJlY3Vyc2lvbiBmb3Igc3luY2hyb25vdXMgY29tcGxldGlvbiB3ZSBoYXZlIGFuXG4gICAgLy8gZXhwbGljaXQgc2V0IG9mICpfbm90aWZ5IHN0YXRlcyB3aGljaCBhcmUgcmVzcG9uc2libGUgZm9yIG5vdGlmeWluZyB0aGVpciBlbnRpcmUgdHJlZVxuICAgIC8vIG9mIGNoaWxkcmVuLiBUaGV5IGNhbiBkbyB0aGlzIGJlY2F1c2UgdGhleSBrbm93IHRoYXQgaW1tZWRpYXRlIGNoaWxkcmVuIGFyZSBhbHdheXNcbiAgICAvLyBUaGVuUHJvbWlzZSBpbnN0YW5jZXMgYW5kIHdlIGNhbiB0aGVyZWZvcmUgcmVhY2ggaW50byB0aGVpciBzdGF0ZSB0byBhY2Nlc3MgdGhlXG4gICAgLy8gX2xpc3RlbmVycyBjb2xsZWN0aW9uLlxuICAgIC8vXG4gICAgLy8gU28sIHdoYXQgaGFwcGVucyBpcyB0aGF0IGEgUHJvbWlzZSB3aWxsIGJlIGZ1bGZpbGxlZCB0aHJvdWdoIHRoZSBfY29tcGxldGVkIG9yIF9lcnJvclxuICAgIC8vIG1lc3NhZ2VzIGF0IHdoaWNoIHBvaW50IGl0IHdpbGwgZW50ZXIgYSAqX25vdGlmeSBzdGF0ZSBhbmQgYmUgcmVzcG9uc2libGUgZm9yIHRvIG1vdmVcbiAgICAvLyBpdHMgY2hpbGRyZW4gaW50byBhbiAoYXMgYXBwcm9wcmlhdGUpIHN1Y2Nlc3Mgb3IgZXJyb3Igc3RhdGUgYW5kIGFsc28gbm90aWZ5IHRoYXQgY2hpbGQnc1xuICAgIC8vIGxpc3RlbmVycyBvZiB0aGUgc3RhdGUgdHJhbnNpdGlvbiwgdW50aWwgbGVhZiBub3RlcyBhcmUgcmVhY2hlZC5cbiAgICAvL1xuXG4gICAgdmFyIHN0YXRlX2NyZWF0ZWQsICAgICAgICAgICAgICAvLyAtPiB3b3JraW5nXG4gICAgICAgIHN0YXRlX3dvcmtpbmcsICAgICAgICAgICAgICAvLyAtPiBlcnJvciB8IGVycm9yX25vdGlmeSB8IHN1Y2Nlc3MgfCBzdWNjZXNzX25vdGlmeSB8IGNhbmNlbGVkIHwgd2FpdGluZ1xuICAgICAgICBzdGF0ZV93YWl0aW5nLCAgICAgICAgICAgICAgLy8gLT4gZXJyb3IgfCBlcnJvcl9ub3RpZnkgfCBzdWNjZXNzIHwgc3VjY2Vzc19ub3RpZnkgfCB3YWl0aW5nX2NhbmNlbGVkXG4gICAgICAgIHN0YXRlX3dhaXRpbmdfY2FuY2VsZWQsICAgICAvLyAtPiBlcnJvciB8IGVycm9yX25vdGlmeSB8IHN1Y2Nlc3MgfCBzdWNjZXNzX25vdGlmeSB8IGNhbmNlbGluZ1xuICAgICAgICBzdGF0ZV9jYW5jZWxlZCwgICAgICAgICAgICAgLy8gLT4gZXJyb3IgfCBlcnJvcl9ub3RpZnkgfCBzdWNjZXNzIHwgc3VjY2Vzc19ub3RpZnkgfCBjYW5jZWxpbmdcbiAgICAgICAgc3RhdGVfY2FuY2VsaW5nLCAgICAgICAgICAgIC8vIC0+IGVycm9yX25vdGlmeVxuICAgICAgICBzdGF0ZV9zdWNjZXNzX25vdGlmeSwgICAgICAgLy8gLT4gc3VjY2Vzc1xuICAgICAgICBzdGF0ZV9zdWNjZXNzLCAgICAgICAgICAgICAgLy8gLT4gLlxuICAgICAgICBzdGF0ZV9lcnJvcl9ub3RpZnksICAgICAgICAgLy8gLT4gZXJyb3JcbiAgICAgICAgc3RhdGVfZXJyb3I7ICAgICAgICAgICAgICAgIC8vIC0+IC5cblxuICAgIC8vIE5vb3AgZnVuY3Rpb24sIHVzZWQgaW4gdGhlIHZhcmlvdXMgc3RhdGVzIHRvIGluZGljYXRlIHRoYXQgdGhleSBkb24ndCBzdXBwb3J0IGEgZ2l2ZW5cbiAgICAvLyBtZXNzYWdlLiBOYW1lZCB3aXRoIHRoZSBzb21ld2hhdCBjdXRlIG5hbWUgJ18nIGJlY2F1c2UgaXQgcmVhZHMgcmVhbGx5IHdlbGwgaW4gdGhlIHN0YXRlcy5cblxuICAgIGZ1bmN0aW9uIF8oKSB7IH1cblxuICAgIC8vIEluaXRpYWwgc3RhdGVcbiAgICAvL1xuICAgIHN0YXRlX2NyZWF0ZWQgPSB7XG4gICAgICAgIG5hbWU6IFwiY3JlYXRlZFwiLFxuICAgICAgICBlbnRlcjogZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICAgICAgICAgIHByb21pc2UuX3NldFN0YXRlKHN0YXRlX3dvcmtpbmcpO1xuICAgICAgICB9LFxuICAgICAgICBjYW5jZWw6IF8sXG4gICAgICAgIGRvbmU6IF8sXG4gICAgICAgIHRoZW46IF8sXG4gICAgICAgIF9jb21wbGV0ZWQ6IF8sXG4gICAgICAgIF9lcnJvcjogXyxcbiAgICAgICAgX25vdGlmeTogXyxcbiAgICAgICAgX3Byb2dyZXNzOiBfLFxuICAgICAgICBfc2V0Q29tcGxldGVWYWx1ZTogXyxcbiAgICAgICAgX3NldEVycm9yVmFsdWU6IF9cbiAgICB9O1xuXG4gICAgLy8gUmVhZHkgc3RhdGUsIHdhaXRpbmcgZm9yIGEgbWVzc2FnZSAoY29tcGxldGVkL2Vycm9yL3Byb2dyZXNzKSwgYWJsZSB0byBiZSBjYW5jZWxlZFxuICAgIC8vXG4gICAgc3RhdGVfd29ya2luZyA9IHtcbiAgICAgICAgbmFtZTogXCJ3b3JraW5nXCIsXG4gICAgICAgIGVudGVyOiBfLFxuICAgICAgICBjYW5jZWw6IGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgICAgICBwcm9taXNlLl9zZXRTdGF0ZShzdGF0ZV9jYW5jZWxlZCk7XG4gICAgICAgIH0sXG4gICAgICAgIGRvbmU6IGRvbmUsXG4gICAgICAgIHRoZW46IHRoZW4sXG4gICAgICAgIF9jb21wbGV0ZWQ6IGNvbXBsZXRlZCxcbiAgICAgICAgX2Vycm9yOiBlcnJvcixcbiAgICAgICAgX25vdGlmeTogXyxcbiAgICAgICAgX3Byb2dyZXNzOiBwcm9ncmVzcyxcbiAgICAgICAgX3NldENvbXBsZXRlVmFsdWU6IHNldENvbXBsZXRlVmFsdWUsXG4gICAgICAgIF9zZXRFcnJvclZhbHVlOiBzZXRFcnJvclZhbHVlXG4gICAgfTtcblxuICAgIC8vIFdhaXRpbmcgc3RhdGUsIGlmIGEgcHJvbWlzZSBpcyBjb21wbGV0ZWQgd2l0aCBhIHZhbHVlIHdoaWNoIGlzIGl0c2VsZiBhIHByb21pc2VcbiAgICAvLyAoaGFzIGEgdGhlbigpIG1ldGhvZCkgaXQgc2lnbnMgdXAgdG8gYmUgaW5mb3JtZWQgd2hlbiB0aGF0IGNoaWxkIHByb21pc2UgaXNcbiAgICAvLyBmdWxmaWxsZWQgYXQgd2hpY2ggcG9pbnQgaXQgd2lsbCBiZSBmdWxmaWxsZWQgd2l0aCB0aGF0IHZhbHVlLlxuICAgIC8vXG4gICAgc3RhdGVfd2FpdGluZyA9IHtcbiAgICAgICAgbmFtZTogXCJ3YWl0aW5nXCIsXG4gICAgICAgIGVudGVyOiBmdW5jdGlvbiAocHJvbWlzZSkge1xuICAgICAgICAgICAgdmFyIHdhaXRlZFVwb24gPSBwcm9taXNlLl92YWx1ZTtcbiAgICAgICAgICAgIC8vIFdlIGNhbiBzcGVjaWFsIGNhc2Ugb3VyIG93biBpbnRlcm1lZGlhdGUgcHJvbWlzZXMgd2hpY2ggYXJlIG5vdCBpbiBhXG4gICAgICAgICAgICAvLyAgdGVybWluYWwgc3RhdGUgYnkganVzdCBwdXNoaW5nIHRoaXMgcHJvbWlzZSBhcyBhIGxpc3RlbmVyIHdpdGhvdXRcbiAgICAgICAgICAgIC8vICBoYXZpbmcgdG8gY3JlYXRlIG5ldyBpbmRpcmVjdGlvbiBmdW5jdGlvbnNcbiAgICAgICAgICAgIGlmICh3YWl0ZWRVcG9uIGluc3RhbmNlb2YgVGhlblByb21pc2UgJiZcbiAgICAgICAgICAgICAgICB3YWl0ZWRVcG9uLl9zdGF0ZSAhPT0gc3RhdGVfZXJyb3IgJiZcbiAgICAgICAgICAgICAgICB3YWl0ZWRVcG9uLl9zdGF0ZSAhPT0gc3RhdGVfc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIHB1c2hMaXN0ZW5lcih3YWl0ZWRVcG9uLCB7IHByb21pc2U6IHByb21pc2UgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBlcnJvciA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAod2FpdGVkVXBvbi5fZXJyb3JJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS5fY2hhaW5lZEVycm9yKHZhbHVlLCB3YWl0ZWRVcG9uKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJlY2F1c2UgdGhpcyBpcyBhbiBpbnRlcm9wIGJvdW5kYXJ5IHdlIHdhbnQgdG8gaW5kaWNhdGUgdGhhdCB0aGlzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgZXJyb3IgaGFzIGJlZW4gaGFuZGxlZCBieSB0aGUgcHJvbWlzZSBpbmZyYXN0cnVjdHVyZSBiZWZvcmUgd2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICBiZWdpbiBhIG5ldyBoYW5kbGluZyBjaGFpbi5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsb25lcnJvcihwcm9taXNlLCB2YWx1ZSwgZGV0YWlsc0ZvckhhbmRsZWRFcnJvciwgd2FpdGVkVXBvbiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS5fZXJyb3IodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBlcnJvci5oYW5kbGVzT25FcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgd2FpdGVkVXBvbi50aGVuKFxuICAgICAgICAgICAgICAgICAgICBwcm9taXNlLl9jb21wbGV0ZWQuYmluZChwcm9taXNlKSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgICAgICAgIHByb21pc2UuX3Byb2dyZXNzLmJpbmQocHJvbWlzZSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjYW5jZWw6IGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgICAgICBwcm9taXNlLl9zZXRTdGF0ZShzdGF0ZV93YWl0aW5nX2NhbmNlbGVkKTtcbiAgICAgICAgfSxcbiAgICAgICAgZG9uZTogZG9uZSxcbiAgICAgICAgdGhlbjogdGhlbixcbiAgICAgICAgX2NvbXBsZXRlZDogY29tcGxldGVkLFxuICAgICAgICBfZXJyb3I6IGVycm9yLFxuICAgICAgICBfbm90aWZ5OiBfLFxuICAgICAgICBfcHJvZ3Jlc3M6IHByb2dyZXNzLFxuICAgICAgICBfc2V0Q29tcGxldGVWYWx1ZTogc2V0Q29tcGxldGVWYWx1ZSxcbiAgICAgICAgX3NldEVycm9yVmFsdWU6IHNldEVycm9yVmFsdWVcbiAgICB9O1xuXG4gICAgLy8gV2FpdGluZyBjYW5jZWxlZCBzdGF0ZSwgd2hlbiBhIHByb21pc2UgaGFzIGJlZW4gaW4gYSB3YWl0aW5nIHN0YXRlIGFuZCByZWNlaXZlcyBhXG4gICAgLy8gcmVxdWVzdCB0byBjYW5jZWwgaXRzIHBlbmRpbmcgd29yayBpdCB3aWxsIGZvcndhcmQgdGhhdCByZXF1ZXN0IHRvIHRoZSBjaGlsZCBwcm9taXNlXG4gICAgLy8gYW5kIHRoZW4gd2FpdHMgdG8gYmUgaW5mb3JtZWQgb2YgdGhlIHJlc3VsdC4gVGhpcyBwcm9taXNlIG1vdmVzIGl0c2VsZiBpbnRvIHRoZVxuICAgIC8vIGNhbmNlbGluZyBzdGF0ZSBidXQgdW5kZXJzdGFuZHMgdGhhdCB0aGUgY2hpbGQgcHJvbWlzZSBtYXkgaW5zdGVhZCBwdXNoIGl0IHRvIGFcbiAgICAvLyBkaWZmZXJlbnQgc3RhdGUuXG4gICAgLy9cbiAgICBzdGF0ZV93YWl0aW5nX2NhbmNlbGVkID0ge1xuICAgICAgICBuYW1lOiBcIndhaXRpbmdfY2FuY2VsZWRcIixcbiAgICAgICAgZW50ZXI6IGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgICAgICAvLyBJbml0aWF0ZSBhIHRyYW5zaXRpb24gdG8gY2FuY2VsaW5nLiBUcmlnZ2VyaW5nIGEgY2FuY2VsIG9uIHRoZSBwcm9taXNlXG4gICAgICAgICAgICAvLyB0aGF0IHdlIGFyZSB3YWl0aW5nIHVwb24gbWF5IHJlc3VsdCBpbiBhIGRpZmZlcmVudCBzdGF0ZSB0cmFuc2l0aW9uXG4gICAgICAgICAgICAvLyBiZWZvcmUgdGhlIHN0YXRlIG1hY2hpbmUgcHVtcCBydW5zIGFnYWluLlxuICAgICAgICAgICAgcHJvbWlzZS5fc2V0U3RhdGUoc3RhdGVfY2FuY2VsaW5nKTtcbiAgICAgICAgICAgIHZhciB3YWl0ZWRVcG9uID0gcHJvbWlzZS5fdmFsdWU7XG4gICAgICAgICAgICBpZiAod2FpdGVkVXBvbi5jYW5jZWwpIHtcbiAgICAgICAgICAgICAgICB3YWl0ZWRVcG9uLmNhbmNlbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjYW5jZWw6IF8sXG4gICAgICAgIGRvbmU6IGRvbmUsXG4gICAgICAgIHRoZW46IHRoZW4sXG4gICAgICAgIF9jb21wbGV0ZWQ6IGNvbXBsZXRlZCxcbiAgICAgICAgX2Vycm9yOiBlcnJvcixcbiAgICAgICAgX25vdGlmeTogXyxcbiAgICAgICAgX3Byb2dyZXNzOiBwcm9ncmVzcyxcbiAgICAgICAgX3NldENvbXBsZXRlVmFsdWU6IHNldENvbXBsZXRlVmFsdWUsXG4gICAgICAgIF9zZXRFcnJvclZhbHVlOiBzZXRFcnJvclZhbHVlXG4gICAgfTtcblxuICAgIC8vIENhbmNlbGVkIHN0YXRlLCBtb3ZlcyB0byB0aGUgY2FuY2VsaW5nIHN0YXRlIGFuZCB0aGVuIHRlbGxzIHRoZSBwcm9taXNlIHRvIGRvXG4gICAgLy8gd2hhdGV2ZXIgaXQgbWlnaHQgbmVlZCB0byBkbyBvbiBjYW5jZWxhdGlvbi5cbiAgICAvL1xuICAgIHN0YXRlX2NhbmNlbGVkID0ge1xuICAgICAgICBuYW1lOiBcImNhbmNlbGVkXCIsXG4gICAgICAgIGVudGVyOiBmdW5jdGlvbiAocHJvbWlzZSkge1xuICAgICAgICAgICAgLy8gSW5pdGlhdGUgYSB0cmFuc2l0aW9uIHRvIGNhbmNlbGluZy4gVGhlIF9jYW5jZWxBY3Rpb24gbWF5IGNoYW5nZSB0aGUgc3RhdGVcbiAgICAgICAgICAgIC8vIGJlZm9yZSB0aGUgc3RhdGUgbWFjaGluZSBwdW1wIHJ1bnMgYWdhaW4uXG4gICAgICAgICAgICBwcm9taXNlLl9zZXRTdGF0ZShzdGF0ZV9jYW5jZWxpbmcpO1xuICAgICAgICAgICAgcHJvbWlzZS5fY2FuY2VsQWN0aW9uKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNhbmNlbDogXyxcbiAgICAgICAgZG9uZTogZG9uZSxcbiAgICAgICAgdGhlbjogdGhlbixcbiAgICAgICAgX2NvbXBsZXRlZDogY29tcGxldGVkLFxuICAgICAgICBfZXJyb3I6IGVycm9yLFxuICAgICAgICBfbm90aWZ5OiBfLFxuICAgICAgICBfcHJvZ3Jlc3M6IHByb2dyZXNzLFxuICAgICAgICBfc2V0Q29tcGxldGVWYWx1ZTogc2V0Q29tcGxldGVWYWx1ZSxcbiAgICAgICAgX3NldEVycm9yVmFsdWU6IHNldEVycm9yVmFsdWVcbiAgICB9O1xuXG4gICAgLy8gQ2FuY2VsaW5nIHN0YXRlLCBjb21taXRzIHRvIHRoZSBwcm9taXNlIG1vdmluZyB0byBhbiBlcnJvciBzdGF0ZSB3aXRoIGFuIGVycm9yXG4gICAgLy8gb2JqZWN0IHdob3NlICduYW1lJyBhbmQgJ21lc3NhZ2UnIHByb3BlcnRpZXMgY29udGFpbiB0aGUgc3RyaW5nIFwiQ2FuY2VsZWRcIlxuICAgIC8vXG4gICAgc3RhdGVfY2FuY2VsaW5nID0ge1xuICAgICAgICBuYW1lOiBcImNhbmNlbGluZ1wiLFxuICAgICAgICBlbnRlcjogZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICAgICAgICAgIHZhciBlcnJvciA9IG5ldyBFcnJvcihjYW5jZWxlZE5hbWUpO1xuICAgICAgICAgICAgZXJyb3IubmFtZSA9IGVycm9yLm1lc3NhZ2U7XG4gICAgICAgICAgICBwcm9taXNlLl92YWx1ZSA9IGVycm9yO1xuICAgICAgICAgICAgcHJvbWlzZS5fc2V0U3RhdGUoc3RhdGVfZXJyb3Jfbm90aWZ5KTtcbiAgICAgICAgfSxcbiAgICAgICAgY2FuY2VsOiBfLFxuICAgICAgICBkb25lOiBfLFxuICAgICAgICB0aGVuOiBfLFxuICAgICAgICBfY29tcGxldGVkOiBfLFxuICAgICAgICBfZXJyb3I6IF8sXG4gICAgICAgIF9ub3RpZnk6IF8sXG4gICAgICAgIF9wcm9ncmVzczogXyxcbiAgICAgICAgX3NldENvbXBsZXRlVmFsdWU6IF8sXG4gICAgICAgIF9zZXRFcnJvclZhbHVlOiBfXG4gICAgfTtcblxuICAgIC8vIFN1Y2Nlc3Mgbm90aWZ5IHN0YXRlLCBtb3ZlcyBhIHByb21pc2UgdG8gdGhlIHN1Y2Nlc3Mgc3RhdGUgYW5kIG5vdGlmaWVzIGFsbCBjaGlsZHJlblxuICAgIC8vXG4gICAgc3RhdGVfc3VjY2Vzc19ub3RpZnkgPSB7XG4gICAgICAgIG5hbWU6IFwiY29tcGxldGVfbm90aWZ5XCIsXG4gICAgICAgIGVudGVyOiBmdW5jdGlvbiAocHJvbWlzZSkge1xuICAgICAgICAgICAgcHJvbWlzZS5kb25lID0gQ29tcGxldGVQcm9taXNlLnByb3RvdHlwZS5kb25lO1xuICAgICAgICAgICAgcHJvbWlzZS50aGVuID0gQ29tcGxldGVQcm9taXNlLnByb3RvdHlwZS50aGVuO1xuICAgICAgICAgICAgaWYgKHByb21pc2UuX2xpc3RlbmVycykge1xuICAgICAgICAgICAgICAgIHZhciBxdWV1ZSA9IFtwcm9taXNlXTtcbiAgICAgICAgICAgICAgICB2YXIgcDtcbiAgICAgICAgICAgICAgICB3aGlsZSAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHAgPSBxdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICBwLl9zdGF0ZS5fbm90aWZ5KHAsIHF1ZXVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcm9taXNlLl9zZXRTdGF0ZShzdGF0ZV9zdWNjZXNzKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2FuY2VsOiBfLFxuICAgICAgICBkb25lOiBudWxsLCAvKmVycm9yIHRvIGdldCBoZXJlICovXG4gICAgICAgIHRoZW46IG51bGwsIC8qZXJyb3IgdG8gZ2V0IGhlcmUgKi9cbiAgICAgICAgX2NvbXBsZXRlZDogXyxcbiAgICAgICAgX2Vycm9yOiBfLFxuICAgICAgICBfbm90aWZ5OiBub3RpZnlTdWNjZXNzLFxuICAgICAgICBfcHJvZ3Jlc3M6IF8sXG4gICAgICAgIF9zZXRDb21wbGV0ZVZhbHVlOiBfLFxuICAgICAgICBfc2V0RXJyb3JWYWx1ZTogX1xuICAgIH07XG5cbiAgICAvLyBTdWNjZXNzIHN0YXRlLCBtb3ZlcyBhIHByb21pc2UgdG8gdGhlIHN1Y2Nlc3Mgc3RhdGUgYW5kIGRvZXMgTk9UIG5vdGlmeSBhbnkgY2hpbGRyZW4uXG4gICAgLy8gU29tZSB1cHN0cmVhbSBwcm9taXNlIGlzIG93bmluZyB0aGUgbm90aWZpY2F0aW9uIHBhc3MuXG4gICAgLy9cbiAgICBzdGF0ZV9zdWNjZXNzID0ge1xuICAgICAgICBuYW1lOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgZW50ZXI6IGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgICAgICBwcm9taXNlLmRvbmUgPSBDb21wbGV0ZVByb21pc2UucHJvdG90eXBlLmRvbmU7XG4gICAgICAgICAgICBwcm9taXNlLnRoZW4gPSBDb21wbGV0ZVByb21pc2UucHJvdG90eXBlLnRoZW47XG4gICAgICAgICAgICBwcm9taXNlLl9jbGVhbnVwQWN0aW9uKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNhbmNlbDogXyxcbiAgICAgICAgZG9uZTogbnVsbCwgLyplcnJvciB0byBnZXQgaGVyZSAqL1xuICAgICAgICB0aGVuOiBudWxsLCAvKmVycm9yIHRvIGdldCBoZXJlICovXG4gICAgICAgIF9jb21wbGV0ZWQ6IF8sXG4gICAgICAgIF9lcnJvcjogXyxcbiAgICAgICAgX25vdGlmeTogbm90aWZ5U3VjY2VzcyxcbiAgICAgICAgX3Byb2dyZXNzOiBfLFxuICAgICAgICBfc2V0Q29tcGxldGVWYWx1ZTogXyxcbiAgICAgICAgX3NldEVycm9yVmFsdWU6IF9cbiAgICB9O1xuXG4gICAgLy8gRXJyb3Igbm90aWZ5IHN0YXRlLCBtb3ZlcyBhIHByb21pc2UgdG8gdGhlIGVycm9yIHN0YXRlIGFuZCBub3RpZmllcyBhbGwgY2hpbGRyZW5cbiAgICAvL1xuICAgIHN0YXRlX2Vycm9yX25vdGlmeSA9IHtcbiAgICAgICAgbmFtZTogXCJlcnJvcl9ub3RpZnlcIixcbiAgICAgICAgZW50ZXI6IGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgICAgICBwcm9taXNlLmRvbmUgPSBFcnJvclByb21pc2UucHJvdG90eXBlLmRvbmU7XG4gICAgICAgICAgICBwcm9taXNlLnRoZW4gPSBFcnJvclByb21pc2UucHJvdG90eXBlLnRoZW47XG4gICAgICAgICAgICBpZiAocHJvbWlzZS5fbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHF1ZXVlID0gW3Byb21pc2VdO1xuICAgICAgICAgICAgICAgIHZhciBwO1xuICAgICAgICAgICAgICAgIHdoaWxlIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcCA9IHF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgIHAuX3N0YXRlLl9ub3RpZnkocCwgcXVldWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByb21pc2UuX3NldFN0YXRlKHN0YXRlX2Vycm9yKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2FuY2VsOiBfLFxuICAgICAgICBkb25lOiBudWxsLCAvKmVycm9yIHRvIGdldCBoZXJlKi9cbiAgICAgICAgdGhlbjogbnVsbCwgLyplcnJvciB0byBnZXQgaGVyZSovXG4gICAgICAgIF9jb21wbGV0ZWQ6IF8sXG4gICAgICAgIF9lcnJvcjogXyxcbiAgICAgICAgX25vdGlmeTogbm90aWZ5RXJyb3IsXG4gICAgICAgIF9wcm9ncmVzczogXyxcbiAgICAgICAgX3NldENvbXBsZXRlVmFsdWU6IF8sXG4gICAgICAgIF9zZXRFcnJvclZhbHVlOiBfXG4gICAgfTtcblxuICAgIC8vIEVycm9yIHN0YXRlLCBtb3ZlcyBhIHByb21pc2UgdG8gdGhlIGVycm9yIHN0YXRlIGFuZCBkb2VzIE5PVCBub3RpZnkgYW55IGNoaWxkcmVuLlxuICAgIC8vIFNvbWUgdXBzdHJlYW0gcHJvbWlzZSBpcyBvd25pbmcgdGhlIG5vdGlmaWNhdGlvbiBwYXNzLlxuICAgIC8vXG4gICAgc3RhdGVfZXJyb3IgPSB7XG4gICAgICAgIG5hbWU6IFwiZXJyb3JcIixcbiAgICAgICAgZW50ZXI6IGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgICAgICBwcm9taXNlLmRvbmUgPSBFcnJvclByb21pc2UucHJvdG90eXBlLmRvbmU7XG4gICAgICAgICAgICBwcm9taXNlLnRoZW4gPSBFcnJvclByb21pc2UucHJvdG90eXBlLnRoZW47XG4gICAgICAgICAgICBwcm9taXNlLl9jbGVhbnVwQWN0aW9uKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNhbmNlbDogXyxcbiAgICAgICAgZG9uZTogbnVsbCwgLyplcnJvciB0byBnZXQgaGVyZSovXG4gICAgICAgIHRoZW46IG51bGwsIC8qZXJyb3IgdG8gZ2V0IGhlcmUqL1xuICAgICAgICBfY29tcGxldGVkOiBfLFxuICAgICAgICBfZXJyb3I6IF8sXG4gICAgICAgIF9ub3RpZnk6IG5vdGlmeUVycm9yLFxuICAgICAgICBfcHJvZ3Jlc3M6IF8sXG4gICAgICAgIF9zZXRDb21wbGV0ZVZhbHVlOiBfLFxuICAgICAgICBfc2V0RXJyb3JWYWx1ZTogX1xuICAgIH07XG5cbiAgICAvL1xuICAgIC8vIFRoZSBzdGF0ZW1hY2hpbmUgaW1wbGVtZW50YXRpb24gZm9sbG93cyBhIHZlcnkgcGFydGljdWxhciBwYXR0ZXJuLCB0aGUgc3RhdGVzIGFyZSBzcGVjaWZpZWRcbiAgICAvLyBhcyBzdGF0aWMgc3RhdGVsZXNzIGJhZ3Mgb2YgZnVuY3Rpb25zIHdoaWNoIGFyZSB0aGVuIGluZGlyZWN0ZWQgdGhyb3VnaCB0aGUgc3RhdGUgbWFjaGluZVxuICAgIC8vIGluc3RhbmNlIChhIFByb21pc2UpLiBBcyBzdWNoIGFsbCBvZiB0aGUgZnVuY3Rpb25zIG9uIGVhY2ggc3RhdGUgaGF2ZSB0aGUgcHJvbWlzZSBpbnN0YW5jZVxuICAgIC8vIHBhc3NlZCB0byB0aGVtIGV4cGxpY2l0bHkgYXMgYSBwYXJhbWV0ZXIgYW5kIHRoZSBQcm9taXNlIGluc3RhbmNlIG1lbWJlcnMgZG8gYSBsaXR0bGVcbiAgICAvLyBkYW5jZSB3aGVyZSB0aGV5IGluZGlyZWN0IHRocm91Z2ggdGhlIHN0YXRlIGFuZCBpbnNlcnQgdGhlbXNlbHZlcyBpbiB0aGUgYXJndW1lbnQgbGlzdC5cbiAgICAvL1xuICAgIC8vIFdlIGNvdWxkIGluc3RlYWQgY2FsbCBkaXJlY3RseSB0aHJvdWdoIHRoZSBwcm9taXNlIHN0YXRlcyBob3dldmVyIHRoZW4gZXZlcnkgY2FsbGVyXG4gICAgLy8gd291bGQgaGF2ZSB0byByZW1lbWJlciB0byBkbyB0aGluZ3MgbGlrZSBwdW1waW5nIHRoZSBzdGF0ZSBtYWNoaW5lIHRvIGNhdGNoIHN0YXRlIHRyYW5zaXRpb25zLlxuICAgIC8vXG5cbiAgICB2YXIgUHJvbWlzZVN0YXRlTWFjaGluZSA9IF9CYXNlLkNsYXNzLmRlZmluZShudWxsLCB7XG4gICAgICAgIF9saXN0ZW5lcnM6IG51bGwsXG4gICAgICAgIF9uZXh0U3RhdGU6IG51bGwsXG4gICAgICAgIF9zdGF0ZTogbnVsbCxcbiAgICAgICAgX3ZhbHVlOiBudWxsLFxuXG4gICAgICAgIGNhbmNlbDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8vIDxzaWduYXR1cmUgaGVscEtleXdvcmQ9XCJXaW5KUy5Qcm9taXNlU3RhdGVNYWNoaW5lLmNhbmNlbFwiPlxuICAgICAgICAgICAgLy8vIDxzdW1tYXJ5IGxvY2lkPVwiV2luSlMuUHJvbWlzZVN0YXRlTWFjaGluZS5jYW5jZWxcIj5cbiAgICAgICAgICAgIC8vLyBBdHRlbXB0cyB0byBjYW5jZWwgdGhlIGZ1bGZpbGxtZW50IG9mIGEgcHJvbWlzZWQgdmFsdWUuIElmIHRoZSBwcm9taXNlIGhhc24ndFxuICAgICAgICAgICAgLy8vIGFscmVhZHkgYmVlbiBmdWxmaWxsZWQgYW5kIGNhbmNlbGxhdGlvbiBpcyBzdXBwb3J0ZWQsIHRoZSBwcm9taXNlIGVudGVyc1xuICAgICAgICAgICAgLy8vIHRoZSBlcnJvciBzdGF0ZSB3aXRoIGEgdmFsdWUgb2YgRXJyb3IoXCJDYW5jZWxlZFwiKS5cbiAgICAgICAgICAgIC8vLyA8L3N1bW1hcnk+XG4gICAgICAgICAgICAvLy8gPC9zaWduYXR1cmU+XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZS5jYW5jZWwodGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9ydW4oKTtcbiAgICAgICAgfSxcbiAgICAgICAgZG9uZTogZnVuY3Rpb24gUHJvbWlzZV9kb25lKG9uQ29tcGxldGUsIG9uRXJyb3IsIG9uUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIC8vLyA8c2lnbmF0dXJlIGhlbHBLZXl3b3JkPVwiV2luSlMuUHJvbWlzZVN0YXRlTWFjaGluZS5kb25lXCI+XG4gICAgICAgICAgICAvLy8gPHN1bW1hcnkgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlU3RhdGVNYWNoaW5lLmRvbmVcIj5cbiAgICAgICAgICAgIC8vLyBBbGxvd3MgeW91IHRvIHNwZWNpZnkgdGhlIHdvcmsgdG8gYmUgZG9uZSBvbiB0aGUgZnVsZmlsbG1lbnQgb2YgdGhlIHByb21pc2VkIHZhbHVlLFxuICAgICAgICAgICAgLy8vIHRoZSBlcnJvciBoYW5kbGluZyB0byBiZSBwZXJmb3JtZWQgaWYgdGhlIHByb21pc2UgZmFpbHMgdG8gZnVsZmlsbFxuICAgICAgICAgICAgLy8vIGEgdmFsdWUsIGFuZCB0aGUgaGFuZGxpbmcgb2YgcHJvZ3Jlc3Mgbm90aWZpY2F0aW9ucyBhbG9uZyB0aGUgd2F5LlxuICAgICAgICAgICAgLy8vXG4gICAgICAgICAgICAvLy8gQWZ0ZXIgdGhlIGhhbmRsZXJzIGhhdmUgZmluaXNoZWQgZXhlY3V0aW5nLCB0aGlzIGZ1bmN0aW9uIHRocm93cyBhbnkgZXJyb3IgdGhhdCB3b3VsZCBoYXZlIGJlZW4gcmV0dXJuZWRcbiAgICAgICAgICAgIC8vLyBmcm9tIHRoZW4oKSBhcyBhIHByb21pc2UgaW4gdGhlIGVycm9yIHN0YXRlLlxuICAgICAgICAgICAgLy8vIDwvc3VtbWFyeT5cbiAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT0nb25Db21wbGV0ZScgdHlwZT0nRnVuY3Rpb24nIGxvY2lkPVwiV2luSlMuUHJvbWlzZVN0YXRlTWFjaGluZS5kb25lX3A6b25Db21wbGV0ZVwiPlxuICAgICAgICAgICAgLy8vIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgaWYgdGhlIHByb21pc2UgaXMgZnVsZmlsbGVkIHN1Y2Nlc3NmdWxseSB3aXRoIGEgdmFsdWUuXG4gICAgICAgICAgICAvLy8gVGhlIGZ1bGZpbGxlZCB2YWx1ZSBpcyBwYXNzZWQgYXMgdGhlIHNpbmdsZSBhcmd1bWVudC4gSWYgdGhlIHZhbHVlIGlzIG51bGwsXG4gICAgICAgICAgICAvLy8gdGhlIGZ1bGZpbGxlZCB2YWx1ZSBpcyByZXR1cm5lZC4gVGhlIHZhbHVlIHJldHVybmVkXG4gICAgICAgICAgICAvLy8gZnJvbSB0aGUgZnVuY3Rpb24gYmVjb21lcyB0aGUgZnVsZmlsbGVkIHZhbHVlIG9mIHRoZSBwcm9taXNlIHJldHVybmVkIGJ5XG4gICAgICAgICAgICAvLy8gdGhlbigpLiBJZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIHdoaWxlIGV4ZWN1dGluZyB0aGUgZnVuY3Rpb24sIHRoZSBwcm9taXNlIHJldHVybmVkXG4gICAgICAgICAgICAvLy8gYnkgdGhlbigpIG1vdmVzIGludG8gdGhlIGVycm9yIHN0YXRlLlxuICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9J29uRXJyb3InIHR5cGU9J0Z1bmN0aW9uJyBvcHRpb25hbD0ndHJ1ZScgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlU3RhdGVNYWNoaW5lLmRvbmVfcDpvbkVycm9yXCI+XG4gICAgICAgICAgICAvLy8gVGhlIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBpZiB0aGUgcHJvbWlzZSBpcyBmdWxmaWxsZWQgd2l0aCBhbiBlcnJvci4gVGhlIGVycm9yXG4gICAgICAgICAgICAvLy8gaXMgcGFzc2VkIGFzIHRoZSBzaW5nbGUgYXJndW1lbnQuIElmIGl0IGlzIG51bGwsIHRoZSBlcnJvciBpcyBmb3J3YXJkZWQuXG4gICAgICAgICAgICAvLy8gVGhlIHZhbHVlIHJldHVybmVkIGZyb20gdGhlIGZ1bmN0aW9uIGlzIHRoZSBmdWxmaWxsZWQgdmFsdWUgb2YgdGhlIHByb21pc2UgcmV0dXJuZWQgYnkgdGhlbigpLlxuICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9J29uUHJvZ3Jlc3MnIHR5cGU9J0Z1bmN0aW9uJyBvcHRpb25hbD0ndHJ1ZScgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlU3RhdGVNYWNoaW5lLmRvbmVfcDpvblByb2dyZXNzXCI+XG4gICAgICAgICAgICAvLy8gdGhlIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBpZiB0aGUgcHJvbWlzZSByZXBvcnRzIHByb2dyZXNzLiBEYXRhIGFib3V0IHRoZSBwcm9ncmVzc1xuICAgICAgICAgICAgLy8vIGlzIHBhc3NlZCBhcyB0aGUgc2luZ2xlIGFyZ3VtZW50LiBQcm9taXNlcyBhcmUgbm90IHJlcXVpcmVkIHRvIHN1cHBvcnRcbiAgICAgICAgICAgIC8vLyBwcm9ncmVzcy5cbiAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgLy8vIDwvc2lnbmF0dXJlPlxuICAgICAgICAgICAgdGhpcy5fc3RhdGUuZG9uZSh0aGlzLCBvbkNvbXBsZXRlLCBvbkVycm9yLCBvblByb2dyZXNzKTtcbiAgICAgICAgfSxcbiAgICAgICAgdGhlbjogZnVuY3Rpb24gUHJvbWlzZV90aGVuKG9uQ29tcGxldGUsIG9uRXJyb3IsIG9uUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIC8vLyA8c2lnbmF0dXJlIGhlbHBLZXl3b3JkPVwiV2luSlMuUHJvbWlzZVN0YXRlTWFjaGluZS50aGVuXCI+XG4gICAgICAgICAgICAvLy8gPHN1bW1hcnkgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlU3RhdGVNYWNoaW5lLnRoZW5cIj5cbiAgICAgICAgICAgIC8vLyBBbGxvd3MgeW91IHRvIHNwZWNpZnkgdGhlIHdvcmsgdG8gYmUgZG9uZSBvbiB0aGUgZnVsZmlsbG1lbnQgb2YgdGhlIHByb21pc2VkIHZhbHVlLFxuICAgICAgICAgICAgLy8vIHRoZSBlcnJvciBoYW5kbGluZyB0byBiZSBwZXJmb3JtZWQgaWYgdGhlIHByb21pc2UgZmFpbHMgdG8gZnVsZmlsbFxuICAgICAgICAgICAgLy8vIGEgdmFsdWUsIGFuZCB0aGUgaGFuZGxpbmcgb2YgcHJvZ3Jlc3Mgbm90aWZpY2F0aW9ucyBhbG9uZyB0aGUgd2F5LlxuICAgICAgICAgICAgLy8vIDwvc3VtbWFyeT5cbiAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT0nb25Db21wbGV0ZScgdHlwZT0nRnVuY3Rpb24nIGxvY2lkPVwiV2luSlMuUHJvbWlzZVN0YXRlTWFjaGluZS50aGVuX3A6b25Db21wbGV0ZVwiPlxuICAgICAgICAgICAgLy8vIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgaWYgdGhlIHByb21pc2UgaXMgZnVsZmlsbGVkIHN1Y2Nlc3NmdWxseSB3aXRoIGEgdmFsdWUuXG4gICAgICAgICAgICAvLy8gVGhlIHZhbHVlIGlzIHBhc3NlZCBhcyB0aGUgc2luZ2xlIGFyZ3VtZW50LiBJZiB0aGUgdmFsdWUgaXMgbnVsbCwgdGhlIHZhbHVlIGlzIHJldHVybmVkLlxuICAgICAgICAgICAgLy8vIFRoZSB2YWx1ZSByZXR1cm5lZCBmcm9tIHRoZSBmdW5jdGlvbiBiZWNvbWVzIHRoZSBmdWxmaWxsZWQgdmFsdWUgb2YgdGhlIHByb21pc2UgcmV0dXJuZWQgYnlcbiAgICAgICAgICAgIC8vLyB0aGVuKCkuIElmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gd2hpbGUgdGhpcyBmdW5jdGlvbiBpcyBiZWluZyBleGVjdXRlZCwgdGhlIHByb21pc2UgcmV0dXJuZWRcbiAgICAgICAgICAgIC8vLyBieSB0aGVuKCkgbW92ZXMgaW50byB0aGUgZXJyb3Igc3RhdGUuXG4gICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT0nb25FcnJvcicgdHlwZT0nRnVuY3Rpb24nIG9wdGlvbmFsPSd0cnVlJyBsb2NpZD1cIldpbkpTLlByb21pc2VTdGF0ZU1hY2hpbmUudGhlbl9wOm9uRXJyb3JcIj5cbiAgICAgICAgICAgIC8vLyBUaGUgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGlmIHRoZSBwcm9taXNlIGlzIGZ1bGZpbGxlZCB3aXRoIGFuIGVycm9yLiBUaGUgZXJyb3JcbiAgICAgICAgICAgIC8vLyBpcyBwYXNzZWQgYXMgdGhlIHNpbmdsZSBhcmd1bWVudC4gSWYgaXQgaXMgbnVsbCwgdGhlIGVycm9yIGlzIGZvcndhcmRlZC5cbiAgICAgICAgICAgIC8vLyBUaGUgdmFsdWUgcmV0dXJuZWQgZnJvbSB0aGUgZnVuY3Rpb24gYmVjb21lcyB0aGUgZnVsZmlsbGVkIHZhbHVlIG9mIHRoZSBwcm9taXNlIHJldHVybmVkIGJ5IHRoZW4oKS5cbiAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPSdvblByb2dyZXNzJyB0eXBlPSdGdW5jdGlvbicgb3B0aW9uYWw9J3RydWUnIGxvY2lkPVwiV2luSlMuUHJvbWlzZVN0YXRlTWFjaGluZS50aGVuX3A6b25Qcm9ncmVzc1wiPlxuICAgICAgICAgICAgLy8vIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgaWYgdGhlIHByb21pc2UgcmVwb3J0cyBwcm9ncmVzcy4gRGF0YSBhYm91dCB0aGUgcHJvZ3Jlc3NcbiAgICAgICAgICAgIC8vLyBpcyBwYXNzZWQgYXMgdGhlIHNpbmdsZSBhcmd1bWVudC4gUHJvbWlzZXMgYXJlIG5vdCByZXF1aXJlZCB0byBzdXBwb3J0XG4gICAgICAgICAgICAvLy8gcHJvZ3Jlc3MuXG4gICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgIC8vLyA8cmV0dXJucyB0eXBlPVwiV2luSlMuUHJvbWlzZVwiIGxvY2lkPVwiV2luSlMuUHJvbWlzZVN0YXRlTWFjaGluZS50aGVuX3JldHVyblZhbHVlXCI+XG4gICAgICAgICAgICAvLy8gVGhlIHByb21pc2Ugd2hvc2UgdmFsdWUgaXMgdGhlIHJlc3VsdCBvZiBleGVjdXRpbmcgdGhlIGNvbXBsZXRlIG9yXG4gICAgICAgICAgICAvLy8gZXJyb3IgZnVuY3Rpb24uXG4gICAgICAgICAgICAvLy8gPC9yZXR1cm5zPlxuICAgICAgICAgICAgLy8vIDwvc2lnbmF0dXJlPlxuICAgICAgICAgICAgLy8gQkVHSU4gbW9uYWNvIGNoYW5nZVxuICAgICAgICAgICAgaWYgKHRoaXMudGhlbiAhPT0gUHJvbWlzZV90aGVuKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aGVuKG9uQ29tcGxldGUsIG9uRXJyb3IsIG9uUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEVORCBtb25hY28gY2hhbmdlXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGUudGhlbih0aGlzLCBvbkNvbXBsZXRlLCBvbkVycm9yLCBvblByb2dyZXNzKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfY2hhaW5lZEVycm9yOiBmdW5jdGlvbiAodmFsdWUsIGNvbnRleHQpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLl9zdGF0ZS5fZXJyb3IodGhpcywgdmFsdWUsIGRldGFpbHNGb3JDaGFpbmVkRXJyb3IsIGNvbnRleHQpO1xuICAgICAgICAgICAgdGhpcy5fcnVuKCk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LFxuICAgICAgICBfY29tcGxldGVkOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLl9zdGF0ZS5fY29tcGxldGVkKHRoaXMsIHZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMuX3J1bigpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSxcbiAgICAgICAgX2Vycm9yOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLl9zdGF0ZS5fZXJyb3IodGhpcywgdmFsdWUsIGRldGFpbHNGb3JFcnJvcik7XG4gICAgICAgICAgICB0aGlzLl9ydW4oKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sXG4gICAgICAgIF9wcm9ncmVzczogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZS5fcHJvZ3Jlc3ModGhpcywgdmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBfc2V0U3RhdGU6IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5fbmV4dFN0YXRlID0gc3RhdGU7XG4gICAgICAgIH0sXG4gICAgICAgIF9zZXRDb21wbGV0ZVZhbHVlOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlLl9zZXRDb21wbGV0ZVZhbHVlKHRoaXMsIHZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMuX3J1bigpO1xuICAgICAgICB9LFxuICAgICAgICBfc2V0Q2hhaW5lZEVycm9yVmFsdWU6IGZ1bmN0aW9uICh2YWx1ZSwgY29udGV4dCkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuX3N0YXRlLl9zZXRFcnJvclZhbHVlKHRoaXMsIHZhbHVlLCBkZXRhaWxzRm9yQ2hhaW5lZEVycm9yLCBjb250ZXh0KTtcbiAgICAgICAgICAgIHRoaXMuX3J1bigpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSxcbiAgICAgICAgX3NldEV4Y2VwdGlvblZhbHVlOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLl9zdGF0ZS5fc2V0RXJyb3JWYWx1ZSh0aGlzLCB2YWx1ZSwgZGV0YWlsc0ZvckV4Y2VwdGlvbik7XG4gICAgICAgICAgICB0aGlzLl9ydW4oKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sXG4gICAgICAgIF9ydW46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLl9uZXh0U3RhdGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IHRoaXMuX25leHRTdGF0ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9uZXh0U3RhdGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXRlLmVudGVyKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBzdXBwb3J0ZWRGb3JQcm9jZXNzaW5nOiBmYWxzZVxuICAgIH0pO1xuXG4gICAgLy9cbiAgICAvLyBJbXBsZW1lbnRhdGlvbnMgb2Ygc2hhcmVkIHN0YXRlIG1hY2hpbmUgY29kZS5cbiAgICAvL1xuXG4gICAgZnVuY3Rpb24gY29tcGxldGVkKHByb21pc2UsIHZhbHVlKSB7XG4gICAgICAgIHZhciB0YXJnZXRTdGF0ZTtcbiAgICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgdmFsdWUudGhlbiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0YXJnZXRTdGF0ZSA9IHN0YXRlX3dhaXRpbmc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0YXJnZXRTdGF0ZSA9IHN0YXRlX3N1Y2Nlc3Nfbm90aWZ5O1xuICAgICAgICB9XG4gICAgICAgIHByb21pc2UuX3ZhbHVlID0gdmFsdWU7XG4gICAgICAgIHByb21pc2UuX3NldFN0YXRlKHRhcmdldFN0YXRlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlRXJyb3JEZXRhaWxzKGV4Y2VwdGlvbiwgZXJyb3IsIHByb21pc2UsIGlkLCBwYXJlbnQsIGhhbmRsZXIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGV4Y2VwdGlvbjogZXhjZXB0aW9uLFxuICAgICAgICAgICAgZXJyb3I6IGVycm9yLFxuICAgICAgICAgICAgcHJvbWlzZTogcHJvbWlzZSxcbiAgICAgICAgICAgIGhhbmRsZXI6IGhhbmRsZXIsXG4gICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICBwYXJlbnQ6IHBhcmVudFxuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXRhaWxzRm9ySGFuZGxlZEVycm9yKHByb21pc2UsIGVycm9yVmFsdWUsIGNvbnRleHQsIGhhbmRsZXIpIHtcbiAgICAgICAgdmFyIGV4Y2VwdGlvbiA9IGNvbnRleHQuX2lzRXhjZXB0aW9uO1xuICAgICAgICB2YXIgZXJyb3JJZCA9IGNvbnRleHQuX2Vycm9ySWQ7XG4gICAgICAgIHJldHVybiBjcmVhdGVFcnJvckRldGFpbHMoXG4gICAgICAgICAgICBleGNlcHRpb24gPyBlcnJvclZhbHVlIDogbnVsbCxcbiAgICAgICAgICAgIGV4Y2VwdGlvbiA/IG51bGwgOiBlcnJvclZhbHVlLFxuICAgICAgICAgICAgcHJvbWlzZSxcbiAgICAgICAgICAgIGVycm9ySWQsXG4gICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgaGFuZGxlclxuICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXRhaWxzRm9yQ2hhaW5lZEVycm9yKHByb21pc2UsIGVycm9yVmFsdWUsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGV4Y2VwdGlvbiA9IGNvbnRleHQuX2lzRXhjZXB0aW9uO1xuICAgICAgICB2YXIgZXJyb3JJZCA9IGNvbnRleHQuX2Vycm9ySWQ7XG4gICAgICAgIHNldEVycm9ySW5mbyhwcm9taXNlLCBlcnJvcklkLCBleGNlcHRpb24pO1xuICAgICAgICByZXR1cm4gY3JlYXRlRXJyb3JEZXRhaWxzKFxuICAgICAgICAgICAgZXhjZXB0aW9uID8gZXJyb3JWYWx1ZSA6IG51bGwsXG4gICAgICAgICAgICBleGNlcHRpb24gPyBudWxsIDogZXJyb3JWYWx1ZSxcbiAgICAgICAgICAgIHByb21pc2UsXG4gICAgICAgICAgICBlcnJvcklkLFxuICAgICAgICAgICAgY29udGV4dFxuICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXRhaWxzRm9yRXJyb3IocHJvbWlzZSwgZXJyb3JWYWx1ZSkge1xuICAgICAgICB2YXIgZXJyb3JJZCA9ICsrZXJyb3JfbnVtYmVyO1xuICAgICAgICBzZXRFcnJvckluZm8ocHJvbWlzZSwgZXJyb3JJZCk7XG4gICAgICAgIHJldHVybiBjcmVhdGVFcnJvckRldGFpbHMoXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgZXJyb3JWYWx1ZSxcbiAgICAgICAgICAgIHByb21pc2UsXG4gICAgICAgICAgICBlcnJvcklkXG4gICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRldGFpbHNGb3JFeGNlcHRpb24ocHJvbWlzZSwgZXhjZXB0aW9uVmFsdWUpIHtcbiAgICAgICAgdmFyIGVycm9ySWQgPSArK2Vycm9yX251bWJlcjtcbiAgICAgICAgc2V0RXJyb3JJbmZvKHByb21pc2UsIGVycm9ySWQsIHRydWUpO1xuICAgICAgICByZXR1cm4gY3JlYXRlRXJyb3JEZXRhaWxzKFxuICAgICAgICAgICAgZXhjZXB0aW9uVmFsdWUsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgcHJvbWlzZSxcbiAgICAgICAgICAgIGVycm9ySWRcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZG9uZShwcm9taXNlLCBvbkNvbXBsZXRlLCBvbkVycm9yLCBvblByb2dyZXNzKSB7XG4gICAgICAgIHZhciBhc3luY09wSUQgPSBfVHJhY2UuX3RyYWNlQXN5bmNPcGVyYXRpb25TdGFydGluZyhcIldpbkpTLlByb21pc2UuZG9uZVwiKTtcbiAgICAgICAgcHVzaExpc3RlbmVyKHByb21pc2UsIHsgYzogb25Db21wbGV0ZSwgZTogb25FcnJvciwgcDogb25Qcm9ncmVzcywgYXN5bmNPcElEOiBhc3luY09wSUQgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVycm9yKHByb21pc2UsIHZhbHVlLCBvbmVycm9yRGV0YWlscywgY29udGV4dCkge1xuICAgICAgICBwcm9taXNlLl92YWx1ZSA9IHZhbHVlO1xuICAgICAgICBjYWxsb25lcnJvcihwcm9taXNlLCB2YWx1ZSwgb25lcnJvckRldGFpbHMsIGNvbnRleHQpO1xuICAgICAgICBwcm9taXNlLl9zZXRTdGF0ZShzdGF0ZV9lcnJvcl9ub3RpZnkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBub3RpZnlTdWNjZXNzKHByb21pc2UsIHF1ZXVlKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHByb21pc2UuX3ZhbHVlO1xuICAgICAgICB2YXIgbGlzdGVuZXJzID0gcHJvbWlzZS5fbGlzdGVuZXJzO1xuICAgICAgICBpZiAoIWxpc3RlbmVycykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHByb21pc2UuX2xpc3RlbmVycyA9IG51bGw7XG4gICAgICAgIHZhciBpLCBsZW47XG4gICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IEFycmF5LmlzQXJyYXkobGlzdGVuZXJzKSA/IGxpc3RlbmVycy5sZW5ndGggOiAxOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBsaXN0ZW5lciA9IGxlbiA9PT0gMSA/IGxpc3RlbmVycyA6IGxpc3RlbmVyc1tpXTtcbiAgICAgICAgICAgIHZhciBvbkNvbXBsZXRlID0gbGlzdGVuZXIuYztcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSBsaXN0ZW5lci5wcm9taXNlO1xuXG4gICAgICAgICAgICBfVHJhY2UuX3RyYWNlQXN5bmNPcGVyYXRpb25Db21wbGV0ZWQobGlzdGVuZXIuYXN5bmNPcElELCBfR2xvYmFsLkRlYnVnICYmIF9HbG9iYWwuRGVidWcuTVNfQVNZTkNfT1BfU1RBVFVTX1NVQ0NFU1MpO1xuXG4gICAgICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgX1RyYWNlLl90cmFjZUFzeW5jQ2FsbGJhY2tTdGFydGluZyhsaXN0ZW5lci5hc3luY09wSUQpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5fc2V0Q29tcGxldGVWYWx1ZShvbkNvbXBsZXRlID8gb25Db21wbGV0ZSh2YWx1ZSkgOiB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0Ll9zZXRFeGNlcHRpb25WYWx1ZShleCk7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgX1RyYWNlLl90cmFjZUFzeW5jQ2FsbGJhY2tDb21wbGV0ZWQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldC5fc3RhdGUgIT09IHN0YXRlX3dhaXRpbmcgJiYgdGFyZ2V0Ll9saXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgcXVldWUucHVzaCh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgQ29tcGxldGVQcm9taXNlLnByb3RvdHlwZS5kb25lLmNhbGwocHJvbWlzZSwgb25Db21wbGV0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gbm90aWZ5RXJyb3IocHJvbWlzZSwgcXVldWUpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gcHJvbWlzZS5fdmFsdWU7XG4gICAgICAgIHZhciBsaXN0ZW5lcnMgPSBwcm9taXNlLl9saXN0ZW5lcnM7XG4gICAgICAgIGlmICghbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcHJvbWlzZS5fbGlzdGVuZXJzID0gbnVsbDtcbiAgICAgICAgdmFyIGksIGxlbjtcbiAgICAgICAgZm9yIChpID0gMCwgbGVuID0gQXJyYXkuaXNBcnJheShsaXN0ZW5lcnMpID8gbGlzdGVuZXJzLmxlbmd0aCA6IDE7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIGxpc3RlbmVyID0gbGVuID09PSAxID8gbGlzdGVuZXJzIDogbGlzdGVuZXJzW2ldO1xuICAgICAgICAgICAgdmFyIG9uRXJyb3IgPSBsaXN0ZW5lci5lO1xuICAgICAgICAgICAgdmFyIHRhcmdldCA9IGxpc3RlbmVyLnByb21pc2U7XG5cbiAgICAgICAgICAgIHZhciBlcnJvcklEID0gX0dsb2JhbC5EZWJ1ZyAmJiAodmFsdWUgJiYgdmFsdWUubmFtZSA9PT0gY2FuY2VsZWROYW1lID8gX0dsb2JhbC5EZWJ1Zy5NU19BU1lOQ19PUF9TVEFUVVNfQ0FOQ0VMRUQgOiBfR2xvYmFsLkRlYnVnLk1TX0FTWU5DX09QX1NUQVRVU19FUlJPUik7XG4gICAgICAgICAgICBfVHJhY2UuX3RyYWNlQXN5bmNPcGVyYXRpb25Db21wbGV0ZWQobGlzdGVuZXIuYXN5bmNPcElELCBlcnJvcklEKTtcblxuICAgICAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgICAgIHZhciBhc3luY0NhbGxiYWNrU3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfVHJhY2UuX3RyYWNlQXN5bmNDYWxsYmFja1N0YXJ0aW5nKGxpc3RlbmVyLmFzeW5jT3BJRCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhc3luY0NhbGxiYWNrU3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9uRXJyb3IuaGFuZGxlc09uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsb25lcnJvcih0YXJnZXQsIHZhbHVlLCBkZXRhaWxzRm9ySGFuZGxlZEVycm9yLCBwcm9taXNlLCBvbkVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5fc2V0Q29tcGxldGVWYWx1ZShvbkVycm9yKHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQuX3NldENoYWluZWRFcnJvclZhbHVlKHZhbHVlLCBwcm9taXNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5fc2V0RXhjZXB0aW9uVmFsdWUoZXgpO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhc3luY0NhbGxiYWNrU3RhcnRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX1RyYWNlLl90cmFjZUFzeW5jQ2FsbGJhY2tDb21wbGV0ZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0Ll9zdGF0ZSAhPT0gc3RhdGVfd2FpdGluZyAmJiB0YXJnZXQuX2xpc3RlbmVycykge1xuICAgICAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBFcnJvclByb21pc2UucHJvdG90eXBlLmRvbmUuY2FsbChwcm9taXNlLCBudWxsLCBvbkVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjYWxsb25lcnJvcihwcm9taXNlLCB2YWx1ZSwgb25lcnJvckRldGFpbHNHZW5lcmF0b3IsIGNvbnRleHQsIGhhbmRsZXIpIHtcbiAgICAgICAgaWYgKHByb21pc2VFdmVudExpc3RlbmVycy5fbGlzdGVuZXJzW2Vycm9yRVRdKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBFcnJvciAmJiB2YWx1ZS5tZXNzYWdlID09PSBjYW5jZWxlZE5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcm9taXNlRXZlbnRMaXN0ZW5lcnMuZGlzcGF0Y2hFdmVudChlcnJvckVULCBvbmVycm9yRGV0YWlsc0dlbmVyYXRvcihwcm9taXNlLCB2YWx1ZSwgY29udGV4dCwgaGFuZGxlcikpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByb2dyZXNzKHByb21pc2UsIHZhbHVlKSB7XG4gICAgICAgIHZhciBsaXN0ZW5lcnMgPSBwcm9taXNlLl9saXN0ZW5lcnM7XG4gICAgICAgIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIHZhciBpLCBsZW47XG4gICAgICAgICAgICBmb3IgKGkgPSAwLCBsZW4gPSBBcnJheS5pc0FycmF5KGxpc3RlbmVycykgPyBsaXN0ZW5lcnMubGVuZ3RoIDogMTsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxpc3RlbmVyID0gbGVuID09PSAxID8gbGlzdGVuZXJzIDogbGlzdGVuZXJzW2ldO1xuICAgICAgICAgICAgICAgIHZhciBvblByb2dyZXNzID0gbGlzdGVuZXIucDtcbiAgICAgICAgICAgICAgICBpZiAob25Qcm9ncmVzcykge1xuICAgICAgICAgICAgICAgICAgICB0cnkgeyBvblByb2dyZXNzKHZhbHVlKTsgfSBjYXRjaCAoZXgpIHsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIShsaXN0ZW5lci5jIHx8IGxpc3RlbmVyLmUpICYmIGxpc3RlbmVyLnByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIucHJvbWlzZS5fcHJvZ3Jlc3ModmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBwdXNoTGlzdGVuZXIocHJvbWlzZSwgbGlzdGVuZXIpIHtcbiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHByb21pc2UuX2xpc3RlbmVycztcbiAgICAgICAgaWYgKGxpc3RlbmVycykge1xuICAgICAgICAgICAgLy8gV2UgbWF5IGhhdmUgZWl0aGVyIGEgc2luZ2xlIGxpc3RlbmVyICh3aGljaCB3aWxsIG5ldmVyIGJlIHdyYXBwZWQgaW4gYW4gYXJyYXkpXG4gICAgICAgICAgICAvLyBvciAyKyBsaXN0ZW5lcnMgKHdoaWNoIHdpbGwgYmUgd3JhcHBlZCkuIFNpbmNlIHdlIGFyZSBub3cgYWRkaW5nIG9uZSBtb3JlIGxpc3RlbmVyXG4gICAgICAgICAgICAvLyB3ZSBtYXkgaGF2ZSB0byB3cmFwIHRoZSBzaW5nbGUgbGlzdGVuZXIgYmVmb3JlIGFkZGluZyB0aGUgc2Vjb25kLlxuICAgICAgICAgICAgbGlzdGVuZXJzID0gQXJyYXkuaXNBcnJheShsaXN0ZW5lcnMpID8gbGlzdGVuZXJzIDogW2xpc3RlbmVyc107XG4gICAgICAgICAgICBsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcjtcbiAgICAgICAgfVxuICAgICAgICBwcm9taXNlLl9saXN0ZW5lcnMgPSBsaXN0ZW5lcnM7XG4gICAgfVxuICAgIC8vIFRoZSBkaWZmZXJlbmNlIGJld2VlbiBzZXRDb21wbGV0ZVZhbHVlKCkvc2V0RXJyb3JWYWx1ZSgpIGFuZCBjb21wbGV0ZSgpL2Vycm9yKCkgaXMgdGhhdCBzZXRYWFhWYWx1ZSgpIG1vdmVzXG4gICAgLy8gYSBwcm9taXNlIGRpcmVjdGx5IHRvIHRoZSBzdWNjZXNzL2Vycm9yIHN0YXRlIHdpdGhvdXQgc3RhcnRpbmcgYW5vdGhlciBub3RpZmljYXRpb24gcGFzcyAoYmVjYXVzZSBvbmVcbiAgICAvLyBpcyBhbHJlYWR5IG9uZ29pbmcpLlxuICAgIGZ1bmN0aW9uIHNldEVycm9ySW5mbyhwcm9taXNlLCBlcnJvcklkLCBpc0V4Y2VwdGlvbikge1xuICAgICAgICBwcm9taXNlLl9pc0V4Y2VwdGlvbiA9IGlzRXhjZXB0aW9uIHx8IGZhbHNlO1xuICAgICAgICBwcm9taXNlLl9lcnJvcklkID0gZXJyb3JJZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0RXJyb3JWYWx1ZShwcm9taXNlLCB2YWx1ZSwgb25lcnJvckRldGFpbHMsIGNvbnRleHQpIHtcbiAgICAgICAgcHJvbWlzZS5fdmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgY2FsbG9uZXJyb3IocHJvbWlzZSwgdmFsdWUsIG9uZXJyb3JEZXRhaWxzLCBjb250ZXh0KTtcbiAgICAgICAgcHJvbWlzZS5fc2V0U3RhdGUoc3RhdGVfZXJyb3IpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzZXRDb21wbGV0ZVZhbHVlKHByb21pc2UsIHZhbHVlKSB7XG4gICAgICAgIHZhciB0YXJnZXRTdGF0ZTtcbiAgICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgdmFsdWUudGhlbiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICB0YXJnZXRTdGF0ZSA9IHN0YXRlX3dhaXRpbmc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0YXJnZXRTdGF0ZSA9IHN0YXRlX3N1Y2Nlc3M7XG4gICAgICAgIH1cbiAgICAgICAgcHJvbWlzZS5fdmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgcHJvbWlzZS5fc2V0U3RhdGUodGFyZ2V0U3RhdGUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0aGVuKHByb21pc2UsIG9uQ29tcGxldGUsIG9uRXJyb3IsIG9uUHJvZ3Jlc3MpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBUaGVuUHJvbWlzZShwcm9taXNlKTtcbiAgICAgICAgdmFyIGFzeW5jT3BJRCA9IF9UcmFjZS5fdHJhY2VBc3luY09wZXJhdGlvblN0YXJ0aW5nKFwiV2luSlMuUHJvbWlzZS50aGVuXCIpO1xuICAgICAgICBwdXNoTGlzdGVuZXIocHJvbWlzZSwgeyBwcm9taXNlOiByZXN1bHQsIGM6IG9uQ29tcGxldGUsIGU6IG9uRXJyb3IsIHA6IG9uUHJvZ3Jlc3MsIGFzeW5jT3BJRDogYXN5bmNPcElEIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8vXG4gICAgLy8gSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gZGV0YWlsIHByb21pc2UsIFRoZW5Qcm9taXNlIGlzIGNyZWF0ZWQgd2hlbiBhIHByb21pc2UgbmVlZHNcbiAgICAvLyB0byBiZSByZXR1cm5lZCBmcm9tIGEgdGhlbigpIG1ldGhvZC5cbiAgICAvL1xuICAgIHZhciBUaGVuUHJvbWlzZSA9IF9CYXNlLkNsYXNzLmRlcml2ZShQcm9taXNlU3RhdGVNYWNoaW5lLFxuICAgICAgICBmdW5jdGlvbiAoY3JlYXRvcikge1xuXG4gICAgICAgICAgICBpZiAodGFnV2l0aFN0YWNrICYmICh0YWdXaXRoU3RhY2sgPT09IHRydWUgfHwgKHRhZ1dpdGhTdGFjayAmIHRhZy50aGVuUHJvbWlzZSkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhY2sgPSBQcm9taXNlLl9nZXRTdGFjaygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9jcmVhdG9yID0gY3JlYXRvcjtcbiAgICAgICAgICAgIHRoaXMuX3NldFN0YXRlKHN0YXRlX2NyZWF0ZWQpO1xuICAgICAgICAgICAgdGhpcy5fcnVuKCk7XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIF9jcmVhdG9yOiBudWxsLFxuXG4gICAgICAgICAgICBfY2FuY2VsQWN0aW9uOiBmdW5jdGlvbiAoKSB7IGlmICh0aGlzLl9jcmVhdG9yKSB7IHRoaXMuX2NyZWF0b3IuY2FuY2VsKCk7IH0gfSxcbiAgICAgICAgICAgIF9jbGVhbnVwQWN0aW9uOiBmdW5jdGlvbiAoKSB7IHRoaXMuX2NyZWF0b3IgPSBudWxsOyB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHN1cHBvcnRlZEZvclByb2Nlc3Npbmc6IGZhbHNlXG4gICAgICAgIH1cbiAgICApO1xuXG4gICAgLy9cbiAgICAvLyBTbGltIHByb21pc2UgaW1wbGVtZW50YXRpb25zIGZvciBhbHJlYWR5IGNvbXBsZXRlZCBwcm9taXNlcywgdGhlc2UgYXJlIGNyZWF0ZWRcbiAgICAvLyB1bmRlciB0aGUgaG9vZCBvbiBzeW5jaHJvbm91cyBjb21wbGV0aW9uIHBhdGhzIGFzIHdlbGwgYXMgYnkgV2luSlMuUHJvbWlzZS53cmFwXG4gICAgLy8gYW5kIFdpbkpTLlByb21pc2Uud3JhcEVycm9yLlxuICAgIC8vXG5cbiAgICB2YXIgRXJyb3JQcm9taXNlID0gX0Jhc2UuQ2xhc3MuZGVmaW5lKFxuICAgICAgICBmdW5jdGlvbiBFcnJvclByb21pc2VfY3Rvcih2YWx1ZSkge1xuXG4gICAgICAgICAgICBpZiAodGFnV2l0aFN0YWNrICYmICh0YWdXaXRoU3RhY2sgPT09IHRydWUgfHwgKHRhZ1dpdGhTdGFjayAmIHRhZy5lcnJvclByb21pc2UpKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YWNrID0gUHJvbWlzZS5fZ2V0U3RhY2soKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIGNhbGxvbmVycm9yKHRoaXMsIHZhbHVlLCBkZXRhaWxzRm9yRXJyb3IpO1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICBjYW5jZWw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAvLy8gPHNpZ25hdHVyZSBoZWxwS2V5d29yZD1cIldpbkpTLlByb21pc2VTdGF0ZU1hY2hpbmUuY2FuY2VsXCI+XG4gICAgICAgICAgICAgICAgLy8vIDxzdW1tYXJ5IGxvY2lkPVwiV2luSlMuUHJvbWlzZVN0YXRlTWFjaGluZS5jYW5jZWxcIj5cbiAgICAgICAgICAgICAgICAvLy8gQXR0ZW1wdHMgdG8gY2FuY2VsIHRoZSBmdWxmaWxsbWVudCBvZiBhIHByb21pc2VkIHZhbHVlLiBJZiB0aGUgcHJvbWlzZSBoYXNuJ3RcbiAgICAgICAgICAgICAgICAvLy8gYWxyZWFkeSBiZWVuIGZ1bGZpbGxlZCBhbmQgY2FuY2VsbGF0aW9uIGlzIHN1cHBvcnRlZCwgdGhlIHByb21pc2UgZW50ZXJzXG4gICAgICAgICAgICAgICAgLy8vIHRoZSBlcnJvciBzdGF0ZSB3aXRoIGEgdmFsdWUgb2YgRXJyb3IoXCJDYW5jZWxlZFwiKS5cbiAgICAgICAgICAgICAgICAvLy8gPC9zdW1tYXJ5PlxuICAgICAgICAgICAgICAgIC8vLyA8L3NpZ25hdHVyZT5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkb25lOiBmdW5jdGlvbiBFcnJvclByb21pc2VfZG9uZSh1bnVzZWQsIG9uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAvLy8gPHNpZ25hdHVyZSBoZWxwS2V5d29yZD1cIldpbkpTLlByb21pc2VTdGF0ZU1hY2hpbmUuZG9uZVwiPlxuICAgICAgICAgICAgICAgIC8vLyA8c3VtbWFyeSBsb2NpZD1cIldpbkpTLlByb21pc2VTdGF0ZU1hY2hpbmUuZG9uZVwiPlxuICAgICAgICAgICAgICAgIC8vLyBBbGxvd3MgeW91IHRvIHNwZWNpZnkgdGhlIHdvcmsgdG8gYmUgZG9uZSBvbiB0aGUgZnVsZmlsbG1lbnQgb2YgdGhlIHByb21pc2VkIHZhbHVlLFxuICAgICAgICAgICAgICAgIC8vLyB0aGUgZXJyb3IgaGFuZGxpbmcgdG8gYmUgcGVyZm9ybWVkIGlmIHRoZSBwcm9taXNlIGZhaWxzIHRvIGZ1bGZpbGxcbiAgICAgICAgICAgICAgICAvLy8gYSB2YWx1ZSwgYW5kIHRoZSBoYW5kbGluZyBvZiBwcm9ncmVzcyBub3RpZmljYXRpb25zIGFsb25nIHRoZSB3YXkuXG4gICAgICAgICAgICAgICAgLy8vXG4gICAgICAgICAgICAgICAgLy8vIEFmdGVyIHRoZSBoYW5kbGVycyBoYXZlIGZpbmlzaGVkIGV4ZWN1dGluZywgdGhpcyBmdW5jdGlvbiB0aHJvd3MgYW55IGVycm9yIHRoYXQgd291bGQgaGF2ZSBiZWVuIHJldHVybmVkXG4gICAgICAgICAgICAgICAgLy8vIGZyb20gdGhlbigpIGFzIGEgcHJvbWlzZSBpbiB0aGUgZXJyb3Igc3RhdGUuXG4gICAgICAgICAgICAgICAgLy8vIDwvc3VtbWFyeT5cbiAgICAgICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9J29uQ29tcGxldGUnIHR5cGU9J0Z1bmN0aW9uJyBsb2NpZD1cIldpbkpTLlByb21pc2VTdGF0ZU1hY2hpbmUuZG9uZV9wOm9uQ29tcGxldGVcIj5cbiAgICAgICAgICAgICAgICAvLy8gVGhlIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBpZiB0aGUgcHJvbWlzZSBpcyBmdWxmaWxsZWQgc3VjY2Vzc2Z1bGx5IHdpdGggYSB2YWx1ZS5cbiAgICAgICAgICAgICAgICAvLy8gVGhlIGZ1bGZpbGxlZCB2YWx1ZSBpcyBwYXNzZWQgYXMgdGhlIHNpbmdsZSBhcmd1bWVudC4gSWYgdGhlIHZhbHVlIGlzIG51bGwsXG4gICAgICAgICAgICAgICAgLy8vIHRoZSBmdWxmaWxsZWQgdmFsdWUgaXMgcmV0dXJuZWQuIFRoZSB2YWx1ZSByZXR1cm5lZFxuICAgICAgICAgICAgICAgIC8vLyBmcm9tIHRoZSBmdW5jdGlvbiBiZWNvbWVzIHRoZSBmdWxmaWxsZWQgdmFsdWUgb2YgdGhlIHByb21pc2UgcmV0dXJuZWQgYnlcbiAgICAgICAgICAgICAgICAvLy8gdGhlbigpLiBJZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIHdoaWxlIGV4ZWN1dGluZyB0aGUgZnVuY3Rpb24sIHRoZSBwcm9taXNlIHJldHVybmVkXG4gICAgICAgICAgICAgICAgLy8vIGJ5IHRoZW4oKSBtb3ZlcyBpbnRvIHRoZSBlcnJvciBzdGF0ZS5cbiAgICAgICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9J29uRXJyb3InIHR5cGU9J0Z1bmN0aW9uJyBvcHRpb25hbD0ndHJ1ZScgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlU3RhdGVNYWNoaW5lLmRvbmVfcDpvbkVycm9yXCI+XG4gICAgICAgICAgICAgICAgLy8vIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgaWYgdGhlIHByb21pc2UgaXMgZnVsZmlsbGVkIHdpdGggYW4gZXJyb3IuIFRoZSBlcnJvclxuICAgICAgICAgICAgICAgIC8vLyBpcyBwYXNzZWQgYXMgdGhlIHNpbmdsZSBhcmd1bWVudC4gSWYgaXQgaXMgbnVsbCwgdGhlIGVycm9yIGlzIGZvcndhcmRlZC5cbiAgICAgICAgICAgICAgICAvLy8gVGhlIHZhbHVlIHJldHVybmVkIGZyb20gdGhlIGZ1bmN0aW9uIGlzIHRoZSBmdWxmaWxsZWQgdmFsdWUgb2YgdGhlIHByb21pc2UgcmV0dXJuZWQgYnkgdGhlbigpLlxuICAgICAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT0nb25Qcm9ncmVzcycgdHlwZT0nRnVuY3Rpb24nIG9wdGlvbmFsPSd0cnVlJyBsb2NpZD1cIldpbkpTLlByb21pc2VTdGF0ZU1hY2hpbmUuZG9uZV9wOm9uUHJvZ3Jlc3NcIj5cbiAgICAgICAgICAgICAgICAvLy8gdGhlIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBpZiB0aGUgcHJvbWlzZSByZXBvcnRzIHByb2dyZXNzLiBEYXRhIGFib3V0IHRoZSBwcm9ncmVzc1xuICAgICAgICAgICAgICAgIC8vLyBpcyBwYXNzZWQgYXMgdGhlIHNpbmdsZSBhcmd1bWVudC4gUHJvbWlzZXMgYXJlIG5vdCByZXF1aXJlZCB0byBzdXBwb3J0XG4gICAgICAgICAgICAgICAgLy8vIHByb2dyZXNzLlxuICAgICAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgICAgIC8vLyA8L3NpZ25hdHVyZT5cbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLl92YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAob25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvbkVycm9yLmhhbmRsZXNPbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbG9uZXJyb3IobnVsbCwgdmFsdWUsIGRldGFpbHNGb3JIYW5kbGVkRXJyb3IsIHRoaXMsIG9uRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG9uRXJyb3IodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiByZXN1bHQuZG9uZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgYSBwcm9taXNlIGlzIHJldHVybmVkIHdlIG5lZWQgdG8gd2FpdCBvbiBpdC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuZG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBleDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBFcnJvciAmJiB2YWx1ZS5tZXNzYWdlID09PSBjYW5jZWxlZE5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3VwcHJlc3MgY2FuY2VsXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZm9yY2UgdGhlIGV4Y2VwdGlvbiB0byBiZSB0aHJvd24gYXN5bmNyb25vdXNseSB0byBhdm9pZCBhbnkgdHJ5L2NhdGNoIGJsb2Nrc1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgUHJvbWlzZS5fZG9uZUhhbmRsZXIodmFsdWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRoZW46IGZ1bmN0aW9uIEVycm9yUHJvbWlzZV90aGVuKHVudXNlZCwgb25FcnJvcikge1xuICAgICAgICAgICAgICAgIC8vLyA8c2lnbmF0dXJlIGhlbHBLZXl3b3JkPVwiV2luSlMuUHJvbWlzZVN0YXRlTWFjaGluZS50aGVuXCI+XG4gICAgICAgICAgICAgICAgLy8vIDxzdW1tYXJ5IGxvY2lkPVwiV2luSlMuUHJvbWlzZVN0YXRlTWFjaGluZS50aGVuXCI+XG4gICAgICAgICAgICAgICAgLy8vIEFsbG93cyB5b3UgdG8gc3BlY2lmeSB0aGUgd29yayB0byBiZSBkb25lIG9uIHRoZSBmdWxmaWxsbWVudCBvZiB0aGUgcHJvbWlzZWQgdmFsdWUsXG4gICAgICAgICAgICAgICAgLy8vIHRoZSBlcnJvciBoYW5kbGluZyB0byBiZSBwZXJmb3JtZWQgaWYgdGhlIHByb21pc2UgZmFpbHMgdG8gZnVsZmlsbFxuICAgICAgICAgICAgICAgIC8vLyBhIHZhbHVlLCBhbmQgdGhlIGhhbmRsaW5nIG9mIHByb2dyZXNzIG5vdGlmaWNhdGlvbnMgYWxvbmcgdGhlIHdheS5cbiAgICAgICAgICAgICAgICAvLy8gPC9zdW1tYXJ5PlxuICAgICAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT0nb25Db21wbGV0ZScgdHlwZT0nRnVuY3Rpb24nIGxvY2lkPVwiV2luSlMuUHJvbWlzZVN0YXRlTWFjaGluZS50aGVuX3A6b25Db21wbGV0ZVwiPlxuICAgICAgICAgICAgICAgIC8vLyBUaGUgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGlmIHRoZSBwcm9taXNlIGlzIGZ1bGZpbGxlZCBzdWNjZXNzZnVsbHkgd2l0aCBhIHZhbHVlLlxuICAgICAgICAgICAgICAgIC8vLyBUaGUgdmFsdWUgaXMgcGFzc2VkIGFzIHRoZSBzaW5nbGUgYXJndW1lbnQuIElmIHRoZSB2YWx1ZSBpcyBudWxsLCB0aGUgdmFsdWUgaXMgcmV0dXJuZWQuXG4gICAgICAgICAgICAgICAgLy8vIFRoZSB2YWx1ZSByZXR1cm5lZCBmcm9tIHRoZSBmdW5jdGlvbiBiZWNvbWVzIHRoZSBmdWxmaWxsZWQgdmFsdWUgb2YgdGhlIHByb21pc2UgcmV0dXJuZWQgYnlcbiAgICAgICAgICAgICAgICAvLy8gdGhlbigpLiBJZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIHdoaWxlIHRoaXMgZnVuY3Rpb24gaXMgYmVpbmcgZXhlY3V0ZWQsIHRoZSBwcm9taXNlIHJldHVybmVkXG4gICAgICAgICAgICAgICAgLy8vIGJ5IHRoZW4oKSBtb3ZlcyBpbnRvIHRoZSBlcnJvciBzdGF0ZS5cbiAgICAgICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9J29uRXJyb3InIHR5cGU9J0Z1bmN0aW9uJyBvcHRpb25hbD0ndHJ1ZScgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlU3RhdGVNYWNoaW5lLnRoZW5fcDpvbkVycm9yXCI+XG4gICAgICAgICAgICAgICAgLy8vIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgaWYgdGhlIHByb21pc2UgaXMgZnVsZmlsbGVkIHdpdGggYW4gZXJyb3IuIFRoZSBlcnJvclxuICAgICAgICAgICAgICAgIC8vLyBpcyBwYXNzZWQgYXMgdGhlIHNpbmdsZSBhcmd1bWVudC4gSWYgaXQgaXMgbnVsbCwgdGhlIGVycm9yIGlzIGZvcndhcmRlZC5cbiAgICAgICAgICAgICAgICAvLy8gVGhlIHZhbHVlIHJldHVybmVkIGZyb20gdGhlIGZ1bmN0aW9uIGJlY29tZXMgdGhlIGZ1bGZpbGxlZCB2YWx1ZSBvZiB0aGUgcHJvbWlzZSByZXR1cm5lZCBieSB0aGVuKCkuXG4gICAgICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPSdvblByb2dyZXNzJyB0eXBlPSdGdW5jdGlvbicgb3B0aW9uYWw9J3RydWUnIGxvY2lkPVwiV2luSlMuUHJvbWlzZVN0YXRlTWFjaGluZS50aGVuX3A6b25Qcm9ncmVzc1wiPlxuICAgICAgICAgICAgICAgIC8vLyBUaGUgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGlmIHRoZSBwcm9taXNlIHJlcG9ydHMgcHJvZ3Jlc3MuIERhdGEgYWJvdXQgdGhlIHByb2dyZXNzXG4gICAgICAgICAgICAgICAgLy8vIGlzIHBhc3NlZCBhcyB0aGUgc2luZ2xlIGFyZ3VtZW50LiBQcm9taXNlcyBhcmUgbm90IHJlcXVpcmVkIHRvIHN1cHBvcnRcbiAgICAgICAgICAgICAgICAvLy8gcHJvZ3Jlc3MuXG4gICAgICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAgICAgLy8vIDxyZXR1cm5zIHR5cGU9XCJXaW5KUy5Qcm9taXNlXCIgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlU3RhdGVNYWNoaW5lLnRoZW5fcmV0dXJuVmFsdWVcIj5cbiAgICAgICAgICAgICAgICAvLy8gVGhlIHByb21pc2Ugd2hvc2UgdmFsdWUgaXMgdGhlIHJlc3VsdCBvZiBleGVjdXRpbmcgdGhlIGNvbXBsZXRlIG9yXG4gICAgICAgICAgICAgICAgLy8vIGVycm9yIGZ1bmN0aW9uLlxuICAgICAgICAgICAgICAgIC8vLyA8L3JldHVybnM+XG4gICAgICAgICAgICAgICAgLy8vIDwvc2lnbmF0dXJlPlxuXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHByb21pc2UgaXMgYWxyZWFkeSBpbiBhIGVycm9yIHN0YXRlIGFuZCBubyBlcnJvciBoYW5kbGVyIGlzIHByb3ZpZGVkXG4gICAgICAgICAgICAgICAgLy8gd2Ugb3B0aW1pemUgYnkgc2ltcGx5IHJldHVybmluZyB0aGUgcHJvbWlzZSBpbnN0ZWFkIG9mIGNyZWF0aW5nIGEgbmV3IG9uZS5cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIGlmICghb25FcnJvcikgeyByZXR1cm4gdGhpczsgfVxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5fdmFsdWU7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvbkVycm9yLmhhbmRsZXNPbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsb25lcnJvcihudWxsLCB2YWx1ZSwgZGV0YWlsc0ZvckhhbmRsZWRFcnJvciwgdGhpcywgb25FcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3IENvbXBsZXRlUHJvbWlzZShvbkVycm9yKHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHZhbHVlIHRocm93IGZyb20gdGhlIGVycm9yIGhhbmRsZXIgaXMgdGhlIHNhbWUgYXMgdGhlIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgIC8vIHByb3ZpZGVkIHRvIHRoZSBlcnJvciBoYW5kbGVyIHRoZW4gdGhlcmUgaXMgbm8gbmVlZCBmb3IgYSBuZXcgcHJvbWlzZS5cbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4ID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBFeGNlcHRpb25Qcm9taXNlKGV4KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBzdXBwb3J0ZWRGb3JQcm9jZXNzaW5nOiBmYWxzZVxuICAgICAgICB9XG4gICAgKTtcblxuICAgIHZhciBFeGNlcHRpb25Qcm9taXNlID0gX0Jhc2UuQ2xhc3MuZGVyaXZlKEVycm9yUHJvbWlzZSxcbiAgICAgICAgZnVuY3Rpb24gRXhjZXB0aW9uUHJvbWlzZV9jdG9yKHZhbHVlKSB7XG5cbiAgICAgICAgICAgIGlmICh0YWdXaXRoU3RhY2sgJiYgKHRhZ1dpdGhTdGFjayA9PT0gdHJ1ZSB8fCAodGFnV2l0aFN0YWNrICYgdGFnLmV4Y2VwdGlvblByb21pc2UpKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YWNrID0gUHJvbWlzZS5fZ2V0U3RhY2soKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIGNhbGxvbmVycm9yKHRoaXMsIHZhbHVlLCBkZXRhaWxzRm9yRXhjZXB0aW9uKTtcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgLyogZW1wdHkgKi9cbiAgICAgICAgfSwge1xuICAgICAgICAgICAgc3VwcG9ydGVkRm9yUHJvY2Vzc2luZzogZmFsc2VcbiAgICAgICAgfVxuICAgICk7XG5cbiAgICB2YXIgQ29tcGxldGVQcm9taXNlID0gX0Jhc2UuQ2xhc3MuZGVmaW5lKFxuICAgICAgICBmdW5jdGlvbiBDb21wbGV0ZVByb21pc2VfY3Rvcih2YWx1ZSkge1xuXG4gICAgICAgICAgICBpZiAodGFnV2l0aFN0YWNrICYmICh0YWdXaXRoU3RhY2sgPT09IHRydWUgfHwgKHRhZ1dpdGhTdGFjayAmIHRhZy5jb21wbGV0ZVByb21pc2UpKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YWNrID0gUHJvbWlzZS5fZ2V0U3RhY2soKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgdmFsdWUudGhlbiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBUaGVuUHJvbWlzZShudWxsKTtcbiAgICAgICAgICAgICAgICByZXN1bHQuX3NldENvbXBsZXRlVmFsdWUodmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICBjYW5jZWw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAvLy8gPHNpZ25hdHVyZSBoZWxwS2V5d29yZD1cIldpbkpTLlByb21pc2VTdGF0ZU1hY2hpbmUuY2FuY2VsXCI+XG4gICAgICAgICAgICAgICAgLy8vIDxzdW1tYXJ5IGxvY2lkPVwiV2luSlMuUHJvbWlzZVN0YXRlTWFjaGluZS5jYW5jZWxcIj5cbiAgICAgICAgICAgICAgICAvLy8gQXR0ZW1wdHMgdG8gY2FuY2VsIHRoZSBmdWxmaWxsbWVudCBvZiBhIHByb21pc2VkIHZhbHVlLiBJZiB0aGUgcHJvbWlzZSBoYXNuJ3RcbiAgICAgICAgICAgICAgICAvLy8gYWxyZWFkeSBiZWVuIGZ1bGZpbGxlZCBhbmQgY2FuY2VsbGF0aW9uIGlzIHN1cHBvcnRlZCwgdGhlIHByb21pc2UgZW50ZXJzXG4gICAgICAgICAgICAgICAgLy8vIHRoZSBlcnJvciBzdGF0ZSB3aXRoIGEgdmFsdWUgb2YgRXJyb3IoXCJDYW5jZWxlZFwiKS5cbiAgICAgICAgICAgICAgICAvLy8gPC9zdW1tYXJ5PlxuICAgICAgICAgICAgICAgIC8vLyA8L3NpZ25hdHVyZT5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkb25lOiBmdW5jdGlvbiBDb21wbGV0ZVByb21pc2VfZG9uZShvbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgLy8vIDxzaWduYXR1cmUgaGVscEtleXdvcmQ9XCJXaW5KUy5Qcm9taXNlU3RhdGVNYWNoaW5lLmRvbmVcIj5cbiAgICAgICAgICAgICAgICAvLy8gPHN1bW1hcnkgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlU3RhdGVNYWNoaW5lLmRvbmVcIj5cbiAgICAgICAgICAgICAgICAvLy8gQWxsb3dzIHlvdSB0byBzcGVjaWZ5IHRoZSB3b3JrIHRvIGJlIGRvbmUgb24gdGhlIGZ1bGZpbGxtZW50IG9mIHRoZSBwcm9taXNlZCB2YWx1ZSxcbiAgICAgICAgICAgICAgICAvLy8gdGhlIGVycm9yIGhhbmRsaW5nIHRvIGJlIHBlcmZvcm1lZCBpZiB0aGUgcHJvbWlzZSBmYWlscyB0byBmdWxmaWxsXG4gICAgICAgICAgICAgICAgLy8vIGEgdmFsdWUsIGFuZCB0aGUgaGFuZGxpbmcgb2YgcHJvZ3Jlc3Mgbm90aWZpY2F0aW9ucyBhbG9uZyB0aGUgd2F5LlxuICAgICAgICAgICAgICAgIC8vL1xuICAgICAgICAgICAgICAgIC8vLyBBZnRlciB0aGUgaGFuZGxlcnMgaGF2ZSBmaW5pc2hlZCBleGVjdXRpbmcsIHRoaXMgZnVuY3Rpb24gdGhyb3dzIGFueSBlcnJvciB0aGF0IHdvdWxkIGhhdmUgYmVlbiByZXR1cm5lZFxuICAgICAgICAgICAgICAgIC8vLyBmcm9tIHRoZW4oKSBhcyBhIHByb21pc2UgaW4gdGhlIGVycm9yIHN0YXRlLlxuICAgICAgICAgICAgICAgIC8vLyA8L3N1bW1hcnk+XG4gICAgICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPSdvbkNvbXBsZXRlJyB0eXBlPSdGdW5jdGlvbicgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlU3RhdGVNYWNoaW5lLmRvbmVfcDpvbkNvbXBsZXRlXCI+XG4gICAgICAgICAgICAgICAgLy8vIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgaWYgdGhlIHByb21pc2UgaXMgZnVsZmlsbGVkIHN1Y2Nlc3NmdWxseSB3aXRoIGEgdmFsdWUuXG4gICAgICAgICAgICAgICAgLy8vIFRoZSBmdWxmaWxsZWQgdmFsdWUgaXMgcGFzc2VkIGFzIHRoZSBzaW5nbGUgYXJndW1lbnQuIElmIHRoZSB2YWx1ZSBpcyBudWxsLFxuICAgICAgICAgICAgICAgIC8vLyB0aGUgZnVsZmlsbGVkIHZhbHVlIGlzIHJldHVybmVkLiBUaGUgdmFsdWUgcmV0dXJuZWRcbiAgICAgICAgICAgICAgICAvLy8gZnJvbSB0aGUgZnVuY3Rpb24gYmVjb21lcyB0aGUgZnVsZmlsbGVkIHZhbHVlIG9mIHRoZSBwcm9taXNlIHJldHVybmVkIGJ5XG4gICAgICAgICAgICAgICAgLy8vIHRoZW4oKS4gSWYgYW4gZXhjZXB0aW9uIGlzIHRocm93biB3aGlsZSBleGVjdXRpbmcgdGhlIGZ1bmN0aW9uLCB0aGUgcHJvbWlzZSByZXR1cm5lZFxuICAgICAgICAgICAgICAgIC8vLyBieSB0aGVuKCkgbW92ZXMgaW50byB0aGUgZXJyb3Igc3RhdGUuXG4gICAgICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPSdvbkVycm9yJyB0eXBlPSdGdW5jdGlvbicgb3B0aW9uYWw9J3RydWUnIGxvY2lkPVwiV2luSlMuUHJvbWlzZVN0YXRlTWFjaGluZS5kb25lX3A6b25FcnJvclwiPlxuICAgICAgICAgICAgICAgIC8vLyBUaGUgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGlmIHRoZSBwcm9taXNlIGlzIGZ1bGZpbGxlZCB3aXRoIGFuIGVycm9yLiBUaGUgZXJyb3JcbiAgICAgICAgICAgICAgICAvLy8gaXMgcGFzc2VkIGFzIHRoZSBzaW5nbGUgYXJndW1lbnQuIElmIGl0IGlzIG51bGwsIHRoZSBlcnJvciBpcyBmb3J3YXJkZWQuXG4gICAgICAgICAgICAgICAgLy8vIFRoZSB2YWx1ZSByZXR1cm5lZCBmcm9tIHRoZSBmdW5jdGlvbiBpcyB0aGUgZnVsZmlsbGVkIHZhbHVlIG9mIHRoZSBwcm9taXNlIHJldHVybmVkIGJ5IHRoZW4oKS5cbiAgICAgICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9J29uUHJvZ3Jlc3MnIHR5cGU9J0Z1bmN0aW9uJyBvcHRpb25hbD0ndHJ1ZScgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlU3RhdGVNYWNoaW5lLmRvbmVfcDpvblByb2dyZXNzXCI+XG4gICAgICAgICAgICAgICAgLy8vIHRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgaWYgdGhlIHByb21pc2UgcmVwb3J0cyBwcm9ncmVzcy4gRGF0YSBhYm91dCB0aGUgcHJvZ3Jlc3NcbiAgICAgICAgICAgICAgICAvLy8gaXMgcGFzc2VkIGFzIHRoZSBzaW5nbGUgYXJndW1lbnQuIFByb21pc2VzIGFyZSBub3QgcmVxdWlyZWQgdG8gc3VwcG9ydFxuICAgICAgICAgICAgICAgIC8vLyBwcm9ncmVzcy5cbiAgICAgICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgICAgICAvLy8gPC9zaWduYXR1cmU+XG4gICAgICAgICAgICAgICAgaWYgKCFvbkNvbXBsZXRlKSB7IHJldHVybjsgfVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBvbkNvbXBsZXRlKHRoaXMuX3ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiByZXN1bHQuZG9uZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuZG9uZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZm9yY2UgdGhlIGV4Y2VwdGlvbiB0byBiZSB0aHJvd24gYXN5bmNocm9ub3VzbHkgdG8gYXZvaWQgYW55IHRyeS9jYXRjaCBibG9ja3NcbiAgICAgICAgICAgICAgICAgICAgUHJvbWlzZS5fZG9uZUhhbmRsZXIoZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0aGVuOiBmdW5jdGlvbiBDb21wbGV0ZVByb21pc2VfdGhlbihvbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgLy8vIDxzaWduYXR1cmUgaGVscEtleXdvcmQ9XCJXaW5KUy5Qcm9taXNlU3RhdGVNYWNoaW5lLnRoZW5cIj5cbiAgICAgICAgICAgICAgICAvLy8gPHN1bW1hcnkgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlU3RhdGVNYWNoaW5lLnRoZW5cIj5cbiAgICAgICAgICAgICAgICAvLy8gQWxsb3dzIHlvdSB0byBzcGVjaWZ5IHRoZSB3b3JrIHRvIGJlIGRvbmUgb24gdGhlIGZ1bGZpbGxtZW50IG9mIHRoZSBwcm9taXNlZCB2YWx1ZSxcbiAgICAgICAgICAgICAgICAvLy8gdGhlIGVycm9yIGhhbmRsaW5nIHRvIGJlIHBlcmZvcm1lZCBpZiB0aGUgcHJvbWlzZSBmYWlscyB0byBmdWxmaWxsXG4gICAgICAgICAgICAgICAgLy8vIGEgdmFsdWUsIGFuZCB0aGUgaGFuZGxpbmcgb2YgcHJvZ3Jlc3Mgbm90aWZpY2F0aW9ucyBhbG9uZyB0aGUgd2F5LlxuICAgICAgICAgICAgICAgIC8vLyA8L3N1bW1hcnk+XG4gICAgICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPSdvbkNvbXBsZXRlJyB0eXBlPSdGdW5jdGlvbicgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlU3RhdGVNYWNoaW5lLnRoZW5fcDpvbkNvbXBsZXRlXCI+XG4gICAgICAgICAgICAgICAgLy8vIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgaWYgdGhlIHByb21pc2UgaXMgZnVsZmlsbGVkIHN1Y2Nlc3NmdWxseSB3aXRoIGEgdmFsdWUuXG4gICAgICAgICAgICAgICAgLy8vIFRoZSB2YWx1ZSBpcyBwYXNzZWQgYXMgdGhlIHNpbmdsZSBhcmd1bWVudC4gSWYgdGhlIHZhbHVlIGlzIG51bGwsIHRoZSB2YWx1ZSBpcyByZXR1cm5lZC5cbiAgICAgICAgICAgICAgICAvLy8gVGhlIHZhbHVlIHJldHVybmVkIGZyb20gdGhlIGZ1bmN0aW9uIGJlY29tZXMgdGhlIGZ1bGZpbGxlZCB2YWx1ZSBvZiB0aGUgcHJvbWlzZSByZXR1cm5lZCBieVxuICAgICAgICAgICAgICAgIC8vLyB0aGVuKCkuIElmIGFuIGV4Y2VwdGlvbiBpcyB0aHJvd24gd2hpbGUgdGhpcyBmdW5jdGlvbiBpcyBiZWluZyBleGVjdXRlZCwgdGhlIHByb21pc2UgcmV0dXJuZWRcbiAgICAgICAgICAgICAgICAvLy8gYnkgdGhlbigpIG1vdmVzIGludG8gdGhlIGVycm9yIHN0YXRlLlxuICAgICAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT0nb25FcnJvcicgdHlwZT0nRnVuY3Rpb24nIG9wdGlvbmFsPSd0cnVlJyBsb2NpZD1cIldpbkpTLlByb21pc2VTdGF0ZU1hY2hpbmUudGhlbl9wOm9uRXJyb3JcIj5cbiAgICAgICAgICAgICAgICAvLy8gVGhlIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBpZiB0aGUgcHJvbWlzZSBpcyBmdWxmaWxsZWQgd2l0aCBhbiBlcnJvci4gVGhlIGVycm9yXG4gICAgICAgICAgICAgICAgLy8vIGlzIHBhc3NlZCBhcyB0aGUgc2luZ2xlIGFyZ3VtZW50LiBJZiBpdCBpcyBudWxsLCB0aGUgZXJyb3IgaXMgZm9yd2FyZGVkLlxuICAgICAgICAgICAgICAgIC8vLyBUaGUgdmFsdWUgcmV0dXJuZWQgZnJvbSB0aGUgZnVuY3Rpb24gYmVjb21lcyB0aGUgZnVsZmlsbGVkIHZhbHVlIG9mIHRoZSBwcm9taXNlIHJldHVybmVkIGJ5IHRoZW4oKS5cbiAgICAgICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9J29uUHJvZ3Jlc3MnIHR5cGU9J0Z1bmN0aW9uJyBvcHRpb25hbD0ndHJ1ZScgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlU3RhdGVNYWNoaW5lLnRoZW5fcDpvblByb2dyZXNzXCI+XG4gICAgICAgICAgICAgICAgLy8vIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgaWYgdGhlIHByb21pc2UgcmVwb3J0cyBwcm9ncmVzcy4gRGF0YSBhYm91dCB0aGUgcHJvZ3Jlc3NcbiAgICAgICAgICAgICAgICAvLy8gaXMgcGFzc2VkIGFzIHRoZSBzaW5nbGUgYXJndW1lbnQuIFByb21pc2VzIGFyZSBub3QgcmVxdWlyZWQgdG8gc3VwcG9ydFxuICAgICAgICAgICAgICAgIC8vLyBwcm9ncmVzcy5cbiAgICAgICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgICAgICAvLy8gPHJldHVybnMgdHlwZT1cIldpbkpTLlByb21pc2VcIiBsb2NpZD1cIldpbkpTLlByb21pc2VTdGF0ZU1hY2hpbmUudGhlbl9yZXR1cm5WYWx1ZVwiPlxuICAgICAgICAgICAgICAgIC8vLyBUaGUgcHJvbWlzZSB3aG9zZSB2YWx1ZSBpcyB0aGUgcmVzdWx0IG9mIGV4ZWN1dGluZyB0aGUgY29tcGxldGUgb3JcbiAgICAgICAgICAgICAgICAvLy8gZXJyb3IgZnVuY3Rpb24uXG4gICAgICAgICAgICAgICAgLy8vIDwvcmV0dXJucz5cbiAgICAgICAgICAgICAgICAvLy8gPC9zaWduYXR1cmU+XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHZhbHVlIHJldHVybmVkIGZyb20gdGhlIGNvbXBsZXRpb24gaGFuZGxlciBpcyB0aGUgc2FtZSBhcyB0aGUgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgLy8gcHJvdmlkZWQgdG8gdGhlIGNvbXBsZXRpb24gaGFuZGxlciB0aGVuIHRoZXJlIGlzIG5vIG5lZWQgZm9yIGEgbmV3IHByb21pc2UuXG4gICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdWYWx1ZSA9IG9uQ29tcGxldGUgPyBvbkNvbXBsZXRlKHRoaXMuX3ZhbHVlKSA6IHRoaXMuX3ZhbHVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3VmFsdWUgPT09IHRoaXMuX3ZhbHVlID8gdGhpcyA6IG5ldyBDb21wbGV0ZVByb21pc2UobmV3VmFsdWUpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRXhjZXB0aW9uUHJvbWlzZShleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBzdXBwb3J0ZWRGb3JQcm9jZXNzaW5nOiBmYWxzZVxuICAgICAgICB9XG4gICAgKTtcblxuICAgIC8vXG4gICAgLy8gUHJvbWlzZSBpcyB0aGUgdXNlci1jcmVhdGFibGUgV2luSlMuUHJvbWlzZSBvYmplY3QuXG4gICAgLy9cblxuICAgIGZ1bmN0aW9uIHRpbWVvdXQodGltZW91dE1TKSB7XG4gICAgICAgIHZhciBpZDtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKFxuICAgICAgICAgICAgZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICAgICAgICBpZiAodGltZW91dE1TKSB7XG4gICAgICAgICAgICAgICAgICAgIGlkID0gX0dsb2JhbC5zZXRUaW1lb3V0KGMsIHRpbWVvdXRNUyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX0Jhc2VDb3JlVXRpbHMuX3NldEltbWVkaWF0ZShjKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChpZCkge1xuICAgICAgICAgICAgICAgICAgICBfR2xvYmFsLmNsZWFyVGltZW91dChpZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRpbWVvdXRXaXRoUHJvbWlzZSh0aW1lb3V0LCBwcm9taXNlKSB7XG4gICAgICAgIHZhciBjYW5jZWxQcm9taXNlID0gZnVuY3Rpb24gKCkgeyBwcm9taXNlLmNhbmNlbCgpOyB9O1xuICAgICAgICB2YXIgY2FuY2VsVGltZW91dCA9IGZ1bmN0aW9uICgpIHsgdGltZW91dC5jYW5jZWwoKTsgfTtcbiAgICAgICAgdGltZW91dC50aGVuKGNhbmNlbFByb21pc2UpO1xuICAgICAgICBwcm9taXNlLnRoZW4oY2FuY2VsVGltZW91dCwgY2FuY2VsVGltZW91dCk7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cblxuICAgIHZhciBzdGF0aWNDYW5jZWxlZFByb21pc2U7XG5cbiAgICB2YXIgUHJvbWlzZSA9IF9CYXNlLkNsYXNzLmRlcml2ZShQcm9taXNlU3RhdGVNYWNoaW5lLFxuICAgICAgICBmdW5jdGlvbiBQcm9taXNlX2N0b3IoaW5pdCwgb25jYW5jZWwpIHtcbiAgICAgICAgICAgIC8vLyA8c2lnbmF0dXJlIGhlbHBLZXl3b3JkPVwiV2luSlMuUHJvbWlzZVwiPlxuICAgICAgICAgICAgLy8vIDxzdW1tYXJ5IGxvY2lkPVwiV2luSlMuUHJvbWlzZVwiPlxuICAgICAgICAgICAgLy8vIEEgcHJvbWlzZSBwcm92aWRlcyBhIG1lY2hhbmlzbSB0byBzY2hlZHVsZSB3b3JrIHRvIGJlIGRvbmUgb24gYSB2YWx1ZSB0aGF0XG4gICAgICAgICAgICAvLy8gaGFzIG5vdCB5ZXQgYmVlbiBjb21wdXRlZC4gSXQgaXMgYSBjb252ZW5pZW50IGFic3RyYWN0aW9uIGZvciBtYW5hZ2luZ1xuICAgICAgICAgICAgLy8vIGludGVyYWN0aW9ucyB3aXRoIGFzeW5jaHJvbm91cyBBUElzLlxuICAgICAgICAgICAgLy8vIDwvc3VtbWFyeT5cbiAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cImluaXRcIiB0eXBlPVwiRnVuY3Rpb25cIiBsb2NpZD1cIldpbkpTLlByb21pc2VfcDppbml0XCI+XG4gICAgICAgICAgICAvLy8gVGhlIGZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIGR1cmluZyBjb25zdHJ1Y3Rpb24gb2YgdGhlICBwcm9taXNlLiBUaGUgZnVuY3Rpb25cbiAgICAgICAgICAgIC8vLyBpcyBnaXZlbiB0aHJlZSBhcmd1bWVudHMgKGNvbXBsZXRlLCBlcnJvciwgcHJvZ3Jlc3MpLiBJbnNpZGUgdGhpcyBmdW5jdGlvblxuICAgICAgICAgICAgLy8vIHlvdSBzaG91bGQgYWRkIGV2ZW50IGxpc3RlbmVycyBmb3IgdGhlIG5vdGlmaWNhdGlvbnMgc3VwcG9ydGVkIGJ5IHRoaXMgdmFsdWUuXG4gICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cIm9uY2FuY2VsXCIgb3B0aW9uYWw9XCJ0cnVlXCIgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlX3A6b25jYW5jZWxcIj5cbiAgICAgICAgICAgIC8vLyBUaGUgZnVuY3Rpb24gdG8gY2FsbCBpZiBhIGNvbnN1bWVyIG9mIHRoaXMgcHJvbWlzZSB3YW50c1xuICAgICAgICAgICAgLy8vIHRvIGNhbmNlbCBpdHMgdW5kb25lIHdvcmsuIFByb21pc2VzIGFyZSBub3QgcmVxdWlyZWQgdG9cbiAgICAgICAgICAgIC8vLyBzdXBwb3J0IGNhbmNlbGxhdGlvbi5cbiAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgLy8vIDwvc2lnbmF0dXJlPlxuXG4gICAgICAgICAgICBpZiAodGFnV2l0aFN0YWNrICYmICh0YWdXaXRoU3RhY2sgPT09IHRydWUgfHwgKHRhZ1dpdGhTdGFjayAmIHRhZy5wcm9taXNlKSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGFjayA9IFByb21pc2UuX2dldFN0YWNrKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX29uY2FuY2VsID0gb25jYW5jZWw7XG4gICAgICAgICAgICB0aGlzLl9zZXRTdGF0ZShzdGF0ZV9jcmVhdGVkKTtcbiAgICAgICAgICAgIHRoaXMuX3J1bigpO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBjb21wbGV0ZSA9IHRoaXMuX2NvbXBsZXRlZC5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgICAgIHZhciBlcnJvciA9IHRoaXMuX2Vycm9yLmJpbmQodGhpcyk7XG4gICAgICAgICAgICAgICAgdmFyIHByb2dyZXNzID0gdGhpcy5fcHJvZ3Jlc3MuYmluZCh0aGlzKTtcbiAgICAgICAgICAgICAgICBpbml0KGNvbXBsZXRlLCBlcnJvciwgcHJvZ3Jlc3MpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRFeGNlcHRpb25WYWx1ZShleCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIF9vbmNhbmNlbDogbnVsbCxcblxuICAgICAgICAgICAgX2NhbmNlbEFjdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vIEJFR0lOIG1vbmFjbyBjaGFuZ2VcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fb25jYW5jZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29uY2FuY2VsKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Byb21pc2UgZGlkIG5vdCBpbXBsZW1lbnQgb25jYW5jZWwnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFjY2VzcyBmaWVsZHMgdG8gZ2V0IHRoZW0gY3JlYXRlZFxuICAgICAgICAgICAgICAgICAgICB2YXIgbXNnID0gZXgubWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YWNrID0gZXguc3RhY2s7XG4gICAgICAgICAgICAgICAgICAgIHByb21pc2VFdmVudExpc3RlbmVycy5kaXNwYXRjaEV2ZW50KCdlcnJvcicsIGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gRU5EIG1vbmFjbyBjaGFuZ2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfY2xlYW51cEFjdGlvbjogZnVuY3Rpb24gKCkgeyB0aGlzLl9vbmNhbmNlbCA9IG51bGw7IH1cbiAgICAgICAgfSwge1xuXG4gICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyOiBmdW5jdGlvbiBQcm9taXNlX2FkZEV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBsaXN0ZW5lciwgY2FwdHVyZSkge1xuICAgICAgICAgICAgICAgIC8vLyA8c2lnbmF0dXJlIGhlbHBLZXl3b3JkPVwiV2luSlMuUHJvbWlzZS5hZGRFdmVudExpc3RlbmVyXCI+XG4gICAgICAgICAgICAgICAgLy8vIDxzdW1tYXJ5IGxvY2lkPVwiV2luSlMuUHJvbWlzZS5hZGRFdmVudExpc3RlbmVyXCI+XG4gICAgICAgICAgICAgICAgLy8vIEFkZHMgYW4gZXZlbnQgbGlzdGVuZXIgdG8gdGhlIGNvbnRyb2wuXG4gICAgICAgICAgICAgICAgLy8vIDwvc3VtbWFyeT5cbiAgICAgICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJldmVudFR5cGVcIiBsb2NpZD1cIldpbkpTLlByb21pc2UuYWRkRXZlbnRMaXN0ZW5lcl9wOmV2ZW50VHlwZVwiPlxuICAgICAgICAgICAgICAgIC8vLyBUaGUgdHlwZSAobmFtZSkgb2YgdGhlIGV2ZW50LlxuICAgICAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cImxpc3RlbmVyXCIgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlLmFkZEV2ZW50TGlzdGVuZXJfcDpsaXN0ZW5lclwiPlxuICAgICAgICAgICAgICAgIC8vLyBUaGUgbGlzdGVuZXIgdG8gaW52b2tlIHdoZW4gdGhlIGV2ZW50IGlzIHJhaXNlZC5cbiAgICAgICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJjYXB0dXJlXCIgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlLmFkZEV2ZW50TGlzdGVuZXJfcDpjYXB0dXJlXCI+XG4gICAgICAgICAgICAgICAgLy8vIFNwZWNpZmllcyB3aGV0aGVyIG9yIG5vdCB0byBpbml0aWF0ZSBjYXB0dXJlLlxuICAgICAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgICAgIC8vLyA8L3NpZ25hdHVyZT5cbiAgICAgICAgICAgICAgICBwcm9taXNlRXZlbnRMaXN0ZW5lcnMuYWRkRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIGxpc3RlbmVyLCBjYXB0dXJlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhbnk6IGZ1bmN0aW9uIFByb21pc2VfYW55KHZhbHVlcykge1xuICAgICAgICAgICAgICAgIC8vLyA8c2lnbmF0dXJlIGhlbHBLZXl3b3JkPVwiV2luSlMuUHJvbWlzZS5hbnlcIj5cbiAgICAgICAgICAgICAgICAvLy8gPHN1bW1hcnkgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlLmFueVwiPlxuICAgICAgICAgICAgICAgIC8vLyBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIG9uZSBvZiB0aGUgaW5wdXQgcHJvbWlzZXNcbiAgICAgICAgICAgICAgICAvLy8gaGFzIGJlZW4gZnVsZmlsbGVkLlxuICAgICAgICAgICAgICAgIC8vLyA8L3N1bW1hcnk+XG4gICAgICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwidmFsdWVzXCIgdHlwZT1cIkFycmF5XCIgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlLmFueV9wOnZhbHVlc1wiPlxuICAgICAgICAgICAgICAgIC8vLyBBbiBhcnJheSB0aGF0IGNvbnRhaW5zIHByb21pc2Ugb2JqZWN0cyBvciBvYmplY3RzIHdob3NlIHByb3BlcnR5XG4gICAgICAgICAgICAgICAgLy8vIHZhbHVlcyBpbmNsdWRlIHByb21pc2Ugb2JqZWN0cy5cbiAgICAgICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgICAgICAvLy8gPHJldHVybnMgdHlwZT1cIldpbkpTLlByb21pc2VcIiBsb2NpZD1cIldpbkpTLlByb21pc2UuYW55X3JldHVyblZhbHVlXCI+XG4gICAgICAgICAgICAgICAgLy8vIEEgcHJvbWlzZSB0aGF0IG9uIGZ1bGZpbGxtZW50IHlpZWxkcyB0aGUgdmFsdWUgb2YgdGhlIGlucHV0IChjb21wbGV0ZSBvciBlcnJvcikuXG4gICAgICAgICAgICAgICAgLy8vIDwvcmV0dXJucz5cbiAgICAgICAgICAgICAgICAvLy8gPC9zaWduYXR1cmU+XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoY29tcGxldGUsIGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhbmNlbGVkID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvbWlzZS5hcyh2YWx1ZXNba2V5XSkudGhlbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkgeyBjb21wbGV0ZSh7IGtleToga2V5LCB2YWx1ZTogdmFsdWVzW2tleV0gfSk7IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEVycm9yICYmIGUubmFtZSA9PT0gY2FuY2VsZWROYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgrK2NhbmNlbGVkKSA9PT0ga2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGUoUHJvbWlzZS5jYW5jZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcih7IGtleToga2V5LCB2YWx1ZTogdmFsdWVzW2tleV0gfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXModmFsdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb21pc2UgPSBQcm9taXNlLmFzKHZhbHVlc1trZXldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHByb21pc2UuY2FuY2VsID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS5jYW5jZWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXM6IGZ1bmN0aW9uIFByb21pc2VfYXModmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvLy8gPHNpZ25hdHVyZSBoZWxwS2V5d29yZD1cIldpbkpTLlByb21pc2UuYXNcIj5cbiAgICAgICAgICAgICAgICAvLy8gPHN1bW1hcnkgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlLmFzXCI+XG4gICAgICAgICAgICAgICAgLy8vIFJldHVybnMgYSBwcm9taXNlLiBJZiB0aGUgb2JqZWN0IGlzIGFscmVhZHkgYSBwcm9taXNlIGl0IGlzIHJldHVybmVkO1xuICAgICAgICAgICAgICAgIC8vLyBvdGhlcndpc2UgdGhlIG9iamVjdCBpcyB3cmFwcGVkIGluIGEgcHJvbWlzZS5cbiAgICAgICAgICAgICAgICAvLy8gPC9zdW1tYXJ5PlxuICAgICAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cInZhbHVlXCIgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlLmFzX3A6dmFsdWVcIj5cbiAgICAgICAgICAgICAgICAvLy8gVGhlIHZhbHVlIHRvIGJlIHRyZWF0ZWQgYXMgYSBwcm9taXNlLlxuICAgICAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgICAgIC8vLyA8cmV0dXJucyB0eXBlPVwiV2luSlMuUHJvbWlzZVwiIGxvY2lkPVwiV2luSlMuUHJvbWlzZS5hc19yZXR1cm5WYWx1ZVwiPlxuICAgICAgICAgICAgICAgIC8vLyBBIHByb21pc2UuXG4gICAgICAgICAgICAgICAgLy8vIDwvcmV0dXJucz5cbiAgICAgICAgICAgICAgICAvLy8gPC9zaWduYXR1cmU+XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgdmFsdWUudGhlbiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV0ZVByb21pc2UodmFsdWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vLyA8ZmllbGQgdHlwZT1cIldpbkpTLlByb21pc2VcIiBoZWxwS2V5d29yZD1cIldpbkpTLlByb21pc2UuY2FuY2VsXCIgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlLmNhbmNlbFwiPlxuICAgICAgICAgICAgLy8vIENhbmNlbGVkIHByb21pc2UgdmFsdWUsIGNhbiBiZSByZXR1cm5lZCBmcm9tIGEgcHJvbWlzZSBjb21wbGV0aW9uIGhhbmRsZXJcbiAgICAgICAgICAgIC8vLyB0byBpbmRpY2F0ZSBjYW5jZWxhdGlvbiBvZiB0aGUgcHJvbWlzZSBjaGFpbi5cbiAgICAgICAgICAgIC8vLyA8L2ZpZWxkPlxuICAgICAgICAgICAgY2FuY2VsOiB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoc3RhdGljQ2FuY2VsZWRQcm9taXNlID0gc3RhdGljQ2FuY2VsZWRQcm9taXNlIHx8IG5ldyBFcnJvclByb21pc2UobmV3IF9FcnJvckZyb21OYW1lKGNhbmNlbGVkTmFtZSkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGlzcGF0Y2hFdmVudDogZnVuY3Rpb24gUHJvbWlzZV9kaXNwYXRjaEV2ZW50KGV2ZW50VHlwZSwgZGV0YWlscykge1xuICAgICAgICAgICAgICAgIC8vLyA8c2lnbmF0dXJlIGhlbHBLZXl3b3JkPVwiV2luSlMuUHJvbWlzZS5kaXNwYXRjaEV2ZW50XCI+XG4gICAgICAgICAgICAgICAgLy8vIDxzdW1tYXJ5IGxvY2lkPVwiV2luSlMuUHJvbWlzZS5kaXNwYXRjaEV2ZW50XCI+XG4gICAgICAgICAgICAgICAgLy8vIFJhaXNlcyBhbiBldmVudCBvZiB0aGUgc3BlY2lmaWVkIHR5cGUgYW5kIHByb3BlcnRpZXMuXG4gICAgICAgICAgICAgICAgLy8vIDwvc3VtbWFyeT5cbiAgICAgICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJldmVudFR5cGVcIiBsb2NpZD1cIldpbkpTLlByb21pc2UuZGlzcGF0Y2hFdmVudF9wOmV2ZW50VHlwZVwiPlxuICAgICAgICAgICAgICAgIC8vLyBUaGUgdHlwZSAobmFtZSkgb2YgdGhlIGV2ZW50LlxuICAgICAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cImRldGFpbHNcIiBsb2NpZD1cIldpbkpTLlByb21pc2UuZGlzcGF0Y2hFdmVudF9wOmRldGFpbHNcIj5cbiAgICAgICAgICAgICAgICAvLy8gVGhlIHNldCBvZiBhZGRpdGlvbmFsIHByb3BlcnRpZXMgdG8gYmUgYXR0YWNoZWQgdG8gdGhlIGV2ZW50IG9iamVjdC5cbiAgICAgICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgICAgICAvLy8gPHJldHVybnMgdHlwZT1cIkJvb2xlYW5cIiBsb2NpZD1cIldpbkpTLlByb21pc2UuZGlzcGF0Y2hFdmVudF9yZXR1cm5WYWx1ZVwiPlxuICAgICAgICAgICAgICAgIC8vLyBTcGVjaWZpZXMgd2hldGhlciBwcmV2ZW50RGVmYXVsdCB3YXMgY2FsbGVkIG9uIHRoZSBldmVudC5cbiAgICAgICAgICAgICAgICAvLy8gPC9yZXR1cm5zPlxuICAgICAgICAgICAgICAgIC8vLyA8L3NpZ25hdHVyZT5cbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZUV2ZW50TGlzdGVuZXJzLmRpc3BhdGNoRXZlbnQoZXZlbnRUeXBlLCBkZXRhaWxzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpczogZnVuY3Rpb24gUHJvbWlzZV9pcyh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIC8vLyA8c2lnbmF0dXJlIGhlbHBLZXl3b3JkPVwiV2luSlMuUHJvbWlzZS5pc1wiPlxuICAgICAgICAgICAgICAgIC8vLyA8c3VtbWFyeSBsb2NpZD1cIldpbkpTLlByb21pc2UuaXNcIj5cbiAgICAgICAgICAgICAgICAvLy8gRGV0ZXJtaW5lcyB3aGV0aGVyIGEgdmFsdWUgZnVsZmlsbHMgdGhlIHByb21pc2UgY29udHJhY3QuXG4gICAgICAgICAgICAgICAgLy8vIDwvc3VtbWFyeT5cbiAgICAgICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJ2YWx1ZVwiIGxvY2lkPVwiV2luSlMuUHJvbWlzZS5pc19wOnZhbHVlXCI+XG4gICAgICAgICAgICAgICAgLy8vIEEgdmFsdWUgdGhhdCBtYXkgYmUgYSBwcm9taXNlLlxuICAgICAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgICAgIC8vLyA8cmV0dXJucyB0eXBlPVwiQm9vbGVhblwiIGxvY2lkPVwiV2luSlMuUHJvbWlzZS5pc19yZXR1cm5WYWx1ZVwiPlxuICAgICAgICAgICAgICAgIC8vLyB0cnVlIGlmIHRoZSBzcGVjaWZpZWQgdmFsdWUgaXMgYSBwcm9taXNlLCBvdGhlcndpc2UgZmFsc2UuXG4gICAgICAgICAgICAgICAgLy8vIDwvcmV0dXJucz5cbiAgICAgICAgICAgICAgICAvLy8gPC9zaWduYXR1cmU+XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgdmFsdWUudGhlbiA9PT0gXCJmdW5jdGlvblwiO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGpvaW46IGZ1bmN0aW9uIFByb21pc2Vfam9pbih2YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICAvLy8gPHNpZ25hdHVyZSBoZWxwS2V5d29yZD1cIldpbkpTLlByb21pc2Uuam9pblwiPlxuICAgICAgICAgICAgICAgIC8vLyA8c3VtbWFyeSBsb2NpZD1cIldpbkpTLlByb21pc2Uuam9pblwiPlxuICAgICAgICAgICAgICAgIC8vLyBDcmVhdGVzIGEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIGFsbCB0aGUgdmFsdWVzIGFyZSBmdWxmaWxsZWQuXG4gICAgICAgICAgICAgICAgLy8vIDwvc3VtbWFyeT5cbiAgICAgICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJ2YWx1ZXNcIiB0eXBlPVwiT2JqZWN0XCIgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlLmpvaW5fcDp2YWx1ZXNcIj5cbiAgICAgICAgICAgICAgICAvLy8gQW4gb2JqZWN0IHdob3NlIGZpZWxkcyBjb250YWluIHZhbHVlcywgc29tZSBvZiB3aGljaCBtYXkgYmUgcHJvbWlzZXMuXG4gICAgICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAgICAgLy8vIDxyZXR1cm5zIHR5cGU9XCJXaW5KUy5Qcm9taXNlXCIgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlLmpvaW5fcmV0dXJuVmFsdWVcIj5cbiAgICAgICAgICAgICAgICAvLy8gQSBwcm9taXNlIHdob3NlIHZhbHVlIGlzIGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIGZpZWxkIG5hbWVzIGFzIHRob3NlIG9mIHRoZSBvYmplY3QgaW4gdGhlIHZhbHVlcyBwYXJhbWV0ZXIsIHdoZXJlXG4gICAgICAgICAgICAgICAgLy8vIGVhY2ggZmllbGQgdmFsdWUgaXMgdGhlIGZ1bGZpbGxlZCB2YWx1ZSBvZiBhIHByb21pc2UuXG4gICAgICAgICAgICAgICAgLy8vIDwvcmV0dXJucz5cbiAgICAgICAgICAgICAgICAvLy8gPC9zaWduYXR1cmU+XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoY29tcGxldGUsIGVycm9yLCBwcm9ncmVzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh2YWx1ZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9ycyA9IEFycmF5LmlzQXJyYXkodmFsdWVzKSA/IFtdIDoge307XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0cyA9IEFycmF5LmlzQXJyYXkodmFsdWVzKSA/IFtdIDoge307XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdW5kZWZpbmVkcyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGVuZGluZyA9IGtleXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ0RvbmUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgtLXBlbmRpbmcpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvckNvdW50ID0gT2JqZWN0LmtleXMoZXJyb3JzKS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvckNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZShyZXN1bHRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYW5jZWxlZENvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSBlcnJvcnNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEVycm9yICYmIGUubmFtZSA9PT0gY2FuY2VsZWROYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbGVkQ291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYW5jZWxlZENvdW50ID09PSBlcnJvckNvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGUoUHJvbWlzZS5jYW5jZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcihlcnJvcnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3MoeyBLZXk6IGtleSwgRG9uZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB2YWx1ZXNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWRzKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJvbWlzZS50aGVuKHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7IHJlc3VsdHNba2V5XSA9IHZhbHVlOyBhcmdEb25lKGtleSk7IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAodmFsdWUpIHsgZXJyb3JzW2tleV0gPSB2YWx1ZTsgYXJnRG9uZShrZXkpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nIC09IHVuZGVmaW5lZHM7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVuZGluZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlKHJlc3VsdHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXModmFsdWVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvbWlzZSA9IFByb21pc2UuYXModmFsdWVzW2tleV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvbWlzZS5jYW5jZWwgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlLmNhbmNlbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyOiBmdW5jdGlvbiBQcm9taXNlX3JlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBsaXN0ZW5lciwgY2FwdHVyZSkge1xuICAgICAgICAgICAgICAgIC8vLyA8c2lnbmF0dXJlIGhlbHBLZXl3b3JkPVwiV2luSlMuUHJvbWlzZS5yZW1vdmVFdmVudExpc3RlbmVyXCI+XG4gICAgICAgICAgICAgICAgLy8vIDxzdW1tYXJ5IGxvY2lkPVwiV2luSlMuUHJvbWlzZS5yZW1vdmVFdmVudExpc3RlbmVyXCI+XG4gICAgICAgICAgICAgICAgLy8vIFJlbW92ZXMgYW4gZXZlbnQgbGlzdGVuZXIgZnJvbSB0aGUgY29udHJvbC5cbiAgICAgICAgICAgICAgICAvLy8gPC9zdW1tYXJ5PlxuICAgICAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT0nZXZlbnRUeXBlJyBsb2NpZD1cIldpbkpTLlByb21pc2UucmVtb3ZlRXZlbnRMaXN0ZW5lcl9ldmVudFR5cGVcIj5cbiAgICAgICAgICAgICAgICAvLy8gVGhlIHR5cGUgKG5hbWUpIG9mIHRoZSBldmVudC5cbiAgICAgICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9J2xpc3RlbmVyJyBsb2NpZD1cIldpbkpTLlByb21pc2UucmVtb3ZlRXZlbnRMaXN0ZW5lcl9saXN0ZW5lclwiPlxuICAgICAgICAgICAgICAgIC8vLyBUaGUgbGlzdGVuZXIgdG8gcmVtb3ZlLlxuICAgICAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT0nY2FwdHVyZScgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlLnJlbW92ZUV2ZW50TGlzdGVuZXJfY2FwdHVyZVwiPlxuICAgICAgICAgICAgICAgIC8vLyBTcGVjaWZpZXMgd2hldGhlciBvciBub3QgdG8gaW5pdGlhdGUgY2FwdHVyZS5cbiAgICAgICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgICAgICAvLy8gPC9zaWduYXR1cmU+XG4gICAgICAgICAgICAgICAgcHJvbWlzZUV2ZW50TGlzdGVuZXJzLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBsaXN0ZW5lciwgY2FwdHVyZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VwcG9ydGVkRm9yUHJvY2Vzc2luZzogZmFsc2UsXG4gICAgICAgICAgICB0aGVuOiBmdW5jdGlvbiBQcm9taXNlX3RoZW4odmFsdWUsIG9uQ29tcGxldGUsIG9uRXJyb3IsIG9uUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICAvLy8gPHNpZ25hdHVyZSBoZWxwS2V5d29yZD1cIldpbkpTLlByb21pc2UudGhlblwiPlxuICAgICAgICAgICAgICAgIC8vLyA8c3VtbWFyeSBsb2NpZD1cIldpbkpTLlByb21pc2UudGhlblwiPlxuICAgICAgICAgICAgICAgIC8vLyBBIHN0YXRpYyB2ZXJzaW9uIG9mIHRoZSBwcm9taXNlIGluc3RhbmNlIG1ldGhvZCB0aGVuKCkuXG4gICAgICAgICAgICAgICAgLy8vIDwvc3VtbWFyeT5cbiAgICAgICAgICAgICAgICAvLy8gPHBhcmFtIG5hbWU9XCJ2YWx1ZVwiIGxvY2lkPVwiV2luSlMuUHJvbWlzZS50aGVuX3A6dmFsdWVcIj5cbiAgICAgICAgICAgICAgICAvLy8gdGhlIHZhbHVlIHRvIGJlIHRyZWF0ZWQgYXMgYSBwcm9taXNlLlxuICAgICAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cIm9uQ29tcGxldGVcIiB0eXBlPVwiRnVuY3Rpb25cIiBsb2NpZD1cIldpbkpTLlByb21pc2UudGhlbl9wOmNvbXBsZXRlXCI+XG4gICAgICAgICAgICAgICAgLy8vIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgaWYgdGhlIHByb21pc2UgaXMgZnVsZmlsbGVkIHdpdGggYSB2YWx1ZS5cbiAgICAgICAgICAgICAgICAvLy8gSWYgaXQgaXMgbnVsbCwgdGhlIHByb21pc2Ugc2ltcGx5XG4gICAgICAgICAgICAgICAgLy8vIHJldHVybnMgdGhlIHZhbHVlLiBUaGUgdmFsdWUgaXMgcGFzc2VkIGFzIHRoZSBzaW5nbGUgYXJndW1lbnQuXG4gICAgICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwib25FcnJvclwiIHR5cGU9XCJGdW5jdGlvblwiIG9wdGlvbmFsPVwidHJ1ZVwiIGxvY2lkPVwiV2luSlMuUHJvbWlzZS50aGVuX3A6ZXJyb3JcIj5cbiAgICAgICAgICAgICAgICAvLy8gVGhlIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBpZiB0aGUgcHJvbWlzZSBpcyBmdWxmaWxsZWQgd2l0aCBhbiBlcnJvci4gVGhlIGVycm9yXG4gICAgICAgICAgICAgICAgLy8vIGlzIHBhc3NlZCBhcyB0aGUgc2luZ2xlIGFyZ3VtZW50LlxuICAgICAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cIm9uUHJvZ3Jlc3NcIiB0eXBlPVwiRnVuY3Rpb25cIiBvcHRpb25hbD1cInRydWVcIiBsb2NpZD1cIldpbkpTLlByb21pc2UudGhlbl9wOnByb2dyZXNzXCI+XG4gICAgICAgICAgICAgICAgLy8vIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgaWYgdGhlIHByb21pc2UgcmVwb3J0cyBwcm9ncmVzcy4gRGF0YSBhYm91dCB0aGUgcHJvZ3Jlc3NcbiAgICAgICAgICAgICAgICAvLy8gaXMgcGFzc2VkIGFzIHRoZSBzaW5nbGUgYXJndW1lbnQuIFByb21pc2VzIGFyZSBub3QgcmVxdWlyZWQgdG8gc3VwcG9ydFxuICAgICAgICAgICAgICAgIC8vLyBwcm9ncmVzcy5cbiAgICAgICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgICAgICAvLy8gPHJldHVybnMgdHlwZT1cIldpbkpTLlByb21pc2VcIiBsb2NpZD1cIldpbkpTLlByb21pc2UudGhlbl9yZXR1cm5WYWx1ZVwiPlxuICAgICAgICAgICAgICAgIC8vLyBBIHByb21pc2Ugd2hvc2UgdmFsdWUgaXMgdGhlIHJlc3VsdCBvZiBleGVjdXRpbmcgdGhlIHByb3ZpZGVkIGNvbXBsZXRlIGZ1bmN0aW9uLlxuICAgICAgICAgICAgICAgIC8vLyA8L3JldHVybnM+XG4gICAgICAgICAgICAgICAgLy8vIDwvc2lnbmF0dXJlPlxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFzKHZhbHVlKS50aGVuKG9uQ29tcGxldGUsIG9uRXJyb3IsIG9uUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRoZW5FYWNoOiBmdW5jdGlvbiBQcm9taXNlX3RoZW5FYWNoKHZhbHVlcywgb25Db21wbGV0ZSwgb25FcnJvciwgb25Qcm9ncmVzcykge1xuICAgICAgICAgICAgICAgIC8vLyA8c2lnbmF0dXJlIGhlbHBLZXl3b3JkPVwiV2luSlMuUHJvbWlzZS50aGVuRWFjaFwiPlxuICAgICAgICAgICAgICAgIC8vLyA8c3VtbWFyeSBsb2NpZD1cIldpbkpTLlByb21pc2UudGhlbkVhY2hcIj5cbiAgICAgICAgICAgICAgICAvLy8gUGVyZm9ybXMgYW4gb3BlcmF0aW9uIG9uIGFsbCB0aGUgaW5wdXQgcHJvbWlzZXMgYW5kIHJldHVybnMgYSBwcm9taXNlXG4gICAgICAgICAgICAgICAgLy8vIHRoYXQgaGFzIHRoZSBzaGFwZSBvZiB0aGUgaW5wdXQgYW5kIGNvbnRhaW5zIHRoZSByZXN1bHQgb2YgdGhlIG9wZXJhdGlvblxuICAgICAgICAgICAgICAgIC8vLyB0aGF0IGhhcyBiZWVuIHBlcmZvcm1lZCBvbiBlYWNoIGlucHV0LlxuICAgICAgICAgICAgICAgIC8vLyA8L3N1bW1hcnk+XG4gICAgICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwidmFsdWVzXCIgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlLnRoZW5FYWNoX3A6dmFsdWVzXCI+XG4gICAgICAgICAgICAgICAgLy8vIEEgc2V0IG9mIHZhbHVlcyAod2hpY2ggY291bGQgYmUgZWl0aGVyIGFuIGFycmF5IG9yIGFuIG9iamVjdCkgb2Ygd2hpY2ggc29tZSBvciBhbGwgYXJlIHByb21pc2VzLlxuICAgICAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cIm9uQ29tcGxldGVcIiB0eXBlPVwiRnVuY3Rpb25cIiBsb2NpZD1cIldpbkpTLlByb21pc2UudGhlbkVhY2hfcDpjb21wbGV0ZVwiPlxuICAgICAgICAgICAgICAgIC8vLyBUaGUgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGlmIHRoZSBwcm9taXNlIGlzIGZ1bGZpbGxlZCB3aXRoIGEgdmFsdWUuXG4gICAgICAgICAgICAgICAgLy8vIElmIHRoZSB2YWx1ZSBpcyBudWxsLCB0aGUgcHJvbWlzZSByZXR1cm5zIHRoZSB2YWx1ZS5cbiAgICAgICAgICAgICAgICAvLy8gVGhlIHZhbHVlIGlzIHBhc3NlZCBhcyB0aGUgc2luZ2xlIGFyZ3VtZW50LlxuICAgICAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cIm9uRXJyb3JcIiB0eXBlPVwiRnVuY3Rpb25cIiBvcHRpb25hbD1cInRydWVcIiBsb2NpZD1cIldpbkpTLlByb21pc2UudGhlbkVhY2hfcDplcnJvclwiPlxuICAgICAgICAgICAgICAgIC8vLyBUaGUgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGlmIHRoZSBwcm9taXNlIGlzIGZ1bGZpbGxlZCB3aXRoIGFuIGVycm9yLiBUaGUgZXJyb3JcbiAgICAgICAgICAgICAgICAvLy8gaXMgcGFzc2VkIGFzIHRoZSBzaW5nbGUgYXJndW1lbnQuXG4gICAgICAgICAgICAgICAgLy8vIDwvcGFyYW0+XG4gICAgICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwib25Qcm9ncmVzc1wiIHR5cGU9XCJGdW5jdGlvblwiIG9wdGlvbmFsPVwidHJ1ZVwiIGxvY2lkPVwiV2luSlMuUHJvbWlzZS50aGVuRWFjaF9wOnByb2dyZXNzXCI+XG4gICAgICAgICAgICAgICAgLy8vIFRoZSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgaWYgdGhlIHByb21pc2UgcmVwb3J0cyBwcm9ncmVzcy4gRGF0YSBhYm91dCB0aGUgcHJvZ3Jlc3NcbiAgICAgICAgICAgICAgICAvLy8gaXMgcGFzc2VkIGFzIHRoZSBzaW5nbGUgYXJndW1lbnQuIFByb21pc2VzIGFyZSBub3QgcmVxdWlyZWQgdG8gc3VwcG9ydFxuICAgICAgICAgICAgICAgIC8vLyBwcm9ncmVzcy5cbiAgICAgICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgICAgICAvLy8gPHJldHVybnMgdHlwZT1cIldpbkpTLlByb21pc2VcIiBsb2NpZD1cIldpbkpTLlByb21pc2UudGhlbkVhY2hfcmV0dXJuVmFsdWVcIj5cbiAgICAgICAgICAgICAgICAvLy8gQSBwcm9taXNlIHRoYXQgaXMgdGhlIHJlc3VsdCBvZiBjYWxsaW5nIFByb21pc2Uuam9pbiBvbiB0aGUgdmFsdWVzIHBhcmFtZXRlci5cbiAgICAgICAgICAgICAgICAvLy8gPC9yZXR1cm5zPlxuICAgICAgICAgICAgICAgIC8vLyA8L3NpZ25hdHVyZT5cbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gQXJyYXkuaXNBcnJheSh2YWx1ZXMpID8gW10gOiB7fTtcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh2YWx1ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRba2V5XSA9IFByb21pc2UuYXModmFsdWVzW2tleV0pLnRoZW4ob25Db21wbGV0ZSwgb25FcnJvciwgb25Qcm9ncmVzcyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2Uuam9pbihyZXN1bHQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRpbWVvdXQ6IGZ1bmN0aW9uIFByb21pc2VfdGltZW91dCh0aW1lLCBwcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgLy8vIDxzaWduYXR1cmUgaGVscEtleXdvcmQ9XCJXaW5KUy5Qcm9taXNlLnRpbWVvdXRcIj5cbiAgICAgICAgICAgICAgICAvLy8gPHN1bW1hcnkgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlLnRpbWVvdXRcIj5cbiAgICAgICAgICAgICAgICAvLy8gQ3JlYXRlcyBhIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgYWZ0ZXIgYSB0aW1lb3V0LlxuICAgICAgICAgICAgICAgIC8vLyA8L3N1bW1hcnk+XG4gICAgICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwidGltZW91dFwiIHR5cGU9XCJOdW1iZXJcIiBvcHRpb25hbD1cInRydWVcIiBsb2NpZD1cIldpbkpTLlByb21pc2UudGltZW91dF9wOnRpbWVvdXRcIj5cbiAgICAgICAgICAgICAgICAvLy8gVGhlIHRpbWVvdXQgcGVyaW9kIGluIG1pbGxpc2Vjb25kcy4gSWYgdGhpcyB2YWx1ZSBpcyB6ZXJvIG9yIG5vdCBzcGVjaWZpZWRcbiAgICAgICAgICAgICAgICAvLy8gc2V0SW1tZWRpYXRlIGlzIGNhbGxlZCwgb3RoZXJ3aXNlIHNldFRpbWVvdXQgaXMgY2FsbGVkLlxuICAgICAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cInByb21pc2VcIiB0eXBlPVwiUHJvbWlzZVwiIG9wdGlvbmFsPVwidHJ1ZVwiIGxvY2lkPVwiV2luSlMuUHJvbWlzZS50aW1lb3V0X3A6cHJvbWlzZVwiPlxuICAgICAgICAgICAgICAgIC8vLyBBIHByb21pc2UgdGhhdCB3aWxsIGJlIGNhbmNlbGVkIGlmIGl0IGRvZXNuJ3QgY29tcGxldGUgYmVmb3JlIHRoZVxuICAgICAgICAgICAgICAgIC8vLyB0aW1lb3V0IGhhcyBleHBpcmVkLlxuICAgICAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgICAgIC8vLyA8cmV0dXJucyB0eXBlPVwiV2luSlMuUHJvbWlzZVwiIGxvY2lkPVwiV2luSlMuUHJvbWlzZS50aW1lb3V0X3JldHVyblZhbHVlXCI+XG4gICAgICAgICAgICAgICAgLy8vIEEgcHJvbWlzZSB0aGF0IGlzIGNvbXBsZXRlZCBhc3luY2hyb25vdXNseSBhZnRlciB0aGUgc3BlY2lmaWVkIHRpbWVvdXQuXG4gICAgICAgICAgICAgICAgLy8vIDwvcmV0dXJucz5cbiAgICAgICAgICAgICAgICAvLy8gPC9zaWduYXR1cmU+XG4gICAgICAgICAgICAgICAgdmFyIHRvID0gdGltZW91dCh0aW1lKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZSA/IHRpbWVvdXRXaXRoUHJvbWlzZSh0bywgcHJvbWlzZSkgOiB0bztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB3cmFwOiBmdW5jdGlvbiBQcm9taXNlX3dyYXAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAvLy8gPHNpZ25hdHVyZSBoZWxwS2V5d29yZD1cIldpbkpTLlByb21pc2Uud3JhcFwiPlxuICAgICAgICAgICAgICAgIC8vLyA8c3VtbWFyeSBsb2NpZD1cIldpbkpTLlByb21pc2Uud3JhcFwiPlxuICAgICAgICAgICAgICAgIC8vLyBXcmFwcyBhIG5vbi1wcm9taXNlIHZhbHVlIGluIGEgcHJvbWlzZS4gWW91IGNhbiB1c2UgdGhpcyBmdW5jdGlvbiBpZiB5b3UgbmVlZFxuICAgICAgICAgICAgICAgIC8vLyB0byBwYXNzIGEgdmFsdWUgdG8gYSBmdW5jdGlvbiB0aGF0IHJlcXVpcmVzIGEgcHJvbWlzZS5cbiAgICAgICAgICAgICAgICAvLy8gPC9zdW1tYXJ5PlxuICAgICAgICAgICAgICAgIC8vLyA8cGFyYW0gbmFtZT1cInZhbHVlXCIgbG9jaWQ9XCJXaW5KUy5Qcm9taXNlLndyYXBfcDp2YWx1ZVwiPlxuICAgICAgICAgICAgICAgIC8vLyBTb21lIG5vbi1wcm9taXNlIHZhbHVlIHRvIGJlIHdyYXBwZWQgaW4gYSBwcm9taXNlLlxuICAgICAgICAgICAgICAgIC8vLyA8L3BhcmFtPlxuICAgICAgICAgICAgICAgIC8vLyA8cmV0dXJucyB0eXBlPVwiV2luSlMuUHJvbWlzZVwiIGxvY2lkPVwiV2luSlMuUHJvbWlzZS53cmFwX3JldHVyblZhbHVlXCI+XG4gICAgICAgICAgICAgICAgLy8vIEEgcHJvbWlzZSB0aGF0IGlzIHN1Y2Nlc3NmdWxseSBmdWxmaWxsZWQgd2l0aCB0aGUgc3BlY2lmaWVkIHZhbHVlXG4gICAgICAgICAgICAgICAgLy8vIDwvcmV0dXJucz5cbiAgICAgICAgICAgICAgICAvLy8gPC9zaWduYXR1cmU+XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21wbGV0ZVByb21pc2UodmFsdWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHdyYXBFcnJvcjogZnVuY3Rpb24gUHJvbWlzZV93cmFwRXJyb3IoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAvLy8gPHNpZ25hdHVyZSBoZWxwS2V5d29yZD1cIldpbkpTLlByb21pc2Uud3JhcEVycm9yXCI+XG4gICAgICAgICAgICAgICAgLy8vIDxzdW1tYXJ5IGxvY2lkPVwiV2luSlMuUHJvbWlzZS53cmFwRXJyb3JcIj5cbiAgICAgICAgICAgICAgICAvLy8gV3JhcHMgYSBub24tcHJvbWlzZSBlcnJvciB2YWx1ZSBpbiBhIHByb21pc2UuIFlvdSBjYW4gdXNlIHRoaXMgZnVuY3Rpb24gaWYgeW91IG5lZWRcbiAgICAgICAgICAgICAgICAvLy8gdG8gcGFzcyBhbiBlcnJvciB0byBhIGZ1bmN0aW9uIHRoYXQgcmVxdWlyZXMgYSBwcm9taXNlLlxuICAgICAgICAgICAgICAgIC8vLyA8L3N1bW1hcnk+XG4gICAgICAgICAgICAgICAgLy8vIDxwYXJhbSBuYW1lPVwiZXJyb3JcIiBsb2NpZD1cIldpbkpTLlByb21pc2Uud3JhcEVycm9yX3A6ZXJyb3JcIj5cbiAgICAgICAgICAgICAgICAvLy8gQSBub24tcHJvbWlzZSBlcnJvciB2YWx1ZSB0byBiZSB3cmFwcGVkIGluIGEgcHJvbWlzZS5cbiAgICAgICAgICAgICAgICAvLy8gPC9wYXJhbT5cbiAgICAgICAgICAgICAgICAvLy8gPHJldHVybnMgdHlwZT1cIldpbkpTLlByb21pc2VcIiBsb2NpZD1cIldpbkpTLlByb21pc2Uud3JhcEVycm9yX3JldHVyblZhbHVlXCI+XG4gICAgICAgICAgICAgICAgLy8vIEEgcHJvbWlzZSB0aGF0IGlzIGluIGFuIGVycm9yIHN0YXRlIHdpdGggdGhlIHNwZWNpZmllZCB2YWx1ZS5cbiAgICAgICAgICAgICAgICAvLy8gPC9yZXR1cm5zPlxuICAgICAgICAgICAgICAgIC8vLyA8L3NpZ25hdHVyZT5cbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yUHJvbWlzZShlcnJvcik7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBfdmVyeUV4cGVuc2l2ZVRhZ1dpdGhTdGFjazoge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGFnV2l0aFN0YWNrOyB9LFxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7IHRhZ1dpdGhTdGFjayA9IHZhbHVlOyB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3ZlcnlFeHBlbnNpdmVUYWdXaXRoU3RhY2tfdGFnOiB0YWcsXG4gICAgICAgICAgICBfZ2V0U3RhY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoX0dsb2JhbC5EZWJ1ZyAmJiBfR2xvYmFsLkRlYnVnLmRlYnVnZ2VyRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICB0cnkgeyB0aHJvdyBuZXcgRXJyb3IoKTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gZS5zdGFjazsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIF9jYW5jZWxCbG9ja2VyOiBmdW5jdGlvbiBQcm9taXNlX19jYW5jZWxCbG9ja2VyKGlucHV0LCBvbmNhbmNlbCkge1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggb24gY2FuY2VsYXRpb24gd2lsbCBzdGlsbCByZXN1bHQgaW4gZG93bnN0cmVhbSBjYW5jZWxhdGlvbiB3aGlsZVxuICAgICAgICAgICAgICAgIC8vICBwcm90ZWN0aW5nIHRoZSBwcm9taXNlICdpbnB1dCcgZnJvbSBiZWluZyAgY2FuY2VsZWQgd2hpY2ggaGFzIHRoZSBlZmZlY3Qgb2YgYWxsb3dpbmdcbiAgICAgICAgICAgICAgICAvLyAgJ2lucHV0JyB0byBiZSBzaGFyZWQgYW1vdW5nIHZhcmlvdXMgY29uc3VtZXJzLlxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgaWYgKCFQcm9taXNlLmlzKGlucHV0KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS53cmFwKGlucHV0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGNvbXBsZXRlO1xuICAgICAgICAgICAgICAgIHZhciBlcnJvcjtcbiAgICAgICAgICAgICAgICB2YXIgb3V0cHV0ID0gbmV3IFByb21pc2UoXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChjLCBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZSA9IGM7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvciA9IGU7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uY2FuY2VsICYmIG9uY2FuY2VsKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGlucHV0LnRoZW4oXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2KSB7IGNvbXBsZXRlICYmIGNvbXBsZXRlKHYpOyB9LFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZSkgeyBlcnJvciAmJiBlcnJvcihlKTsgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgfVxuICAgICk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUHJvbWlzZSwgX0V2ZW50cy5jcmVhdGVFdmVudFByb3BlcnRpZXMoZXJyb3JFVCkpO1xuXG4gICAgUHJvbWlzZS5fZG9uZUhhbmRsZXIgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgX0Jhc2VDb3JlVXRpbHMuX3NldEltbWVkaWF0ZShmdW5jdGlvbiBQcm9taXNlX2RvbmVfcmV0aHJvdygpIHtcbiAgICAgICAgICAgIHRocm93IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgUHJvbWlzZVN0YXRlTWFjaGluZTogUHJvbWlzZVN0YXRlTWFjaGluZSxcbiAgICAgICAgUHJvbWlzZTogUHJvbWlzZSxcbiAgICAgICAgc3RhdGVfY3JlYXRlZDogc3RhdGVfY3JlYXRlZFxuICAgIH07XG59KTtcblxuX3dpbmpzKFwiV2luSlMvUHJvbWlzZVwiLCBbXCJXaW5KUy9Db3JlL19CYXNlXCIsXCJXaW5KUy9Qcm9taXNlL19TdGF0ZU1hY2hpbmVcIl0sIGZ1bmN0aW9uIHByb21pc2VJbml0KCBfQmFzZSwgX1N0YXRlTWFjaGluZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgX0Jhc2UuTmFtZXNwYWNlLmRlZmluZShcIldpbkpTXCIsIHtcbiAgICAgICAgUHJvbWlzZTogX1N0YXRlTWFjaGluZS5Qcm9taXNlXG4gICAgfSk7XG5cbiAgICByZXR1cm4gX1N0YXRlTWFjaGluZS5Qcm9taXNlO1xufSk7XG5cbl9fd2luanNfZXhwb3J0cyA9IF9tb2R1bGVzW1wiV2luSlMvQ29yZS9fV2luSlNcIl07XG5fX3dpbmpzX2V4cG9ydHMuVFByb21pc2UgPSBfX3dpbmpzX2V4cG9ydHMuUHJvbWlzZTtcbl9fd2luanNfZXhwb3J0cy5QUHJvbWlzZSA9IF9fd2luanNfZXhwb3J0cy5Qcm9taXNlO1xuXG4vLyBFU00tY29tbWVudC1iZWdpblxuLy8gaWYgKHR5cGVvZiBleHBvcnRzID09PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbi8vICAgICBkZWZpbmUoW10sIF9fd2luanNfZXhwb3J0cyk7XG4vLyB9IGVsc2Uge1xuLy8gICAgIG1vZHVsZS5leHBvcnRzID0gX193aW5qc19leHBvcnRzO1xuLy8gfVxuLy8gRVNNLWNvbW1lbnQtZW5kXG5cbn0pKCk7XG5cbi8vIEVTTS11bmNvbW1lbnQtYmVnaW5cbmV4cG9ydCB2YXIgUHJvbWlzZSA9IF9fd2luanNfZXhwb3J0cy5Qcm9taXNlO1xuZXhwb3J0IHZhciBUUHJvbWlzZSA9IF9fd2luanNfZXhwb3J0cy5UUHJvbWlzZTtcbmV4cG9ydCB2YXIgUFByb21pc2UgPSBfX3dpbmpzX2V4cG9ydHMuUFByb21pc2U7XG4vLyBFU00tdW5jb21tZW50LWVuZFxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4ndXNlIHN0cmljdCc7XG52YXIgX2lzV2luZG93cyA9IGZhbHNlO1xudmFyIF9pc01hY2ludG9zaCA9IGZhbHNlO1xudmFyIF9pc0xpbnV4ID0gZmFsc2U7XG52YXIgX2lzTmF0aXZlID0gZmFsc2U7XG52YXIgX2lzV2ViID0gZmFsc2U7XG52YXIgX2xvY2FsZSA9IHVuZGVmaW5lZDtcbnZhciBfbGFuZ3VhZ2UgPSB1bmRlZmluZWQ7XG52YXIgX3RyYW5zbGF0aW9uc0NvbmZpZ0ZpbGUgPSB1bmRlZmluZWQ7XG5leHBvcnQgdmFyIExBTkdVQUdFX0RFRkFVTFQgPSAnZW4nO1xuLy8gT1MgZGV0ZWN0aW9uXG5pZiAodHlwZW9mIHByb2Nlc3MgPT09ICdvYmplY3QnICYmIHR5cGVvZiBwcm9jZXNzLm5leHRUaWNrID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBwcm9jZXNzLnBsYXRmb3JtID09PSAnc3RyaW5nJykge1xuICAgIF9pc1dpbmRvd3MgPSAocHJvY2Vzcy5wbGF0Zm9ybSA9PT0gJ3dpbjMyJyk7XG4gICAgX2lzTWFjaW50b3NoID0gKHByb2Nlc3MucGxhdGZvcm0gPT09ICdkYXJ3aW4nKTtcbiAgICBfaXNMaW51eCA9IChwcm9jZXNzLnBsYXRmb3JtID09PSAnbGludXgnKTtcbiAgICBfbG9jYWxlID0gTEFOR1VBR0VfREVGQVVMVDtcbiAgICBfbGFuZ3VhZ2UgPSBMQU5HVUFHRV9ERUZBVUxUO1xuICAgIHZhciByYXdObHNDb25maWcgPSBwcm9jZXNzLmVudlsnVlNDT0RFX05MU19DT05GSUcnXTtcbiAgICBpZiAocmF3TmxzQ29uZmlnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgbmxzQ29uZmlnID0gSlNPTi5wYXJzZShyYXdObHNDb25maWcpO1xuICAgICAgICAgICAgdmFyIHJlc29sdmVkID0gbmxzQ29uZmlnLmF2YWlsYWJsZUxhbmd1YWdlc1snKiddO1xuICAgICAgICAgICAgX2xvY2FsZSA9IG5sc0NvbmZpZy5sb2NhbGU7XG4gICAgICAgICAgICAvLyBWU0NvZGUncyBkZWZhdWx0IGxhbmd1YWdlIGlzICdlbidcbiAgICAgICAgICAgIF9sYW5ndWFnZSA9IHJlc29sdmVkID8gcmVzb2x2ZWQgOiBMQU5HVUFHRV9ERUZBVUxUO1xuICAgICAgICAgICAgX3RyYW5zbGF0aW9uc0NvbmZpZ0ZpbGUgPSBubHNDb25maWcuX3RyYW5zbGF0aW9uc0NvbmZpZ0ZpbGU7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfaXNOYXRpdmUgPSB0cnVlO1xufVxuZWxzZSBpZiAodHlwZW9mIG5hdmlnYXRvciA9PT0gJ29iamVjdCcpIHtcbiAgICB2YXIgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgICBfaXNXaW5kb3dzID0gdXNlckFnZW50LmluZGV4T2YoJ1dpbmRvd3MnKSA+PSAwO1xuICAgIF9pc01hY2ludG9zaCA9IHVzZXJBZ2VudC5pbmRleE9mKCdNYWNpbnRvc2gnKSA+PSAwO1xuICAgIF9pc0xpbnV4ID0gdXNlckFnZW50LmluZGV4T2YoJ0xpbnV4JykgPj0gMDtcbiAgICBfaXNXZWIgPSB0cnVlO1xuICAgIF9sb2NhbGUgPSBuYXZpZ2F0b3IubGFuZ3VhZ2U7XG4gICAgX2xhbmd1YWdlID0gX2xvY2FsZTtcbn1cbmV4cG9ydCB2YXIgUGxhdGZvcm07XG4oZnVuY3Rpb24gKFBsYXRmb3JtKSB7XG4gICAgUGxhdGZvcm1bUGxhdGZvcm1bXCJXZWJcIl0gPSAwXSA9IFwiV2ViXCI7XG4gICAgUGxhdGZvcm1bUGxhdGZvcm1bXCJNYWNcIl0gPSAxXSA9IFwiTWFjXCI7XG4gICAgUGxhdGZvcm1bUGxhdGZvcm1bXCJMaW51eFwiXSA9IDJdID0gXCJMaW51eFwiO1xuICAgIFBsYXRmb3JtW1BsYXRmb3JtW1wiV2luZG93c1wiXSA9IDNdID0gXCJXaW5kb3dzXCI7XG59KShQbGF0Zm9ybSB8fCAoUGxhdGZvcm0gPSB7fSkpO1xudmFyIF9wbGF0Zm9ybSA9IFBsYXRmb3JtLldlYjtcbmlmIChfaXNOYXRpdmUpIHtcbiAgICBpZiAoX2lzTWFjaW50b3NoKSB7XG4gICAgICAgIF9wbGF0Zm9ybSA9IFBsYXRmb3JtLk1hYztcbiAgICB9XG4gICAgZWxzZSBpZiAoX2lzV2luZG93cykge1xuICAgICAgICBfcGxhdGZvcm0gPSBQbGF0Zm9ybS5XaW5kb3dzO1xuICAgIH1cbiAgICBlbHNlIGlmIChfaXNMaW51eCkge1xuICAgICAgICBfcGxhdGZvcm0gPSBQbGF0Zm9ybS5MaW51eDtcbiAgICB9XG59XG5leHBvcnQgdmFyIGlzV2luZG93cyA9IF9pc1dpbmRvd3M7XG5leHBvcnQgdmFyIGlzTWFjaW50b3NoID0gX2lzTWFjaW50b3NoO1xuZXhwb3J0IHZhciBpc0xpbnV4ID0gX2lzTGludXg7XG5leHBvcnQgdmFyIGlzTmF0aXZlID0gX2lzTmF0aXZlO1xuZXhwb3J0IHZhciBpc1dlYiA9IF9pc1dlYjtcbnZhciBfZ2xvYmFscyA9ICh0eXBlb2Ygc2VsZiA9PT0gJ29iamVjdCcgPyBzZWxmIDogdHlwZW9mIGdsb2JhbCA9PT0gJ29iamVjdCcgPyBnbG9iYWwgOiB7fSk7XG5leHBvcnQgdmFyIGdsb2JhbHMgPSBfZ2xvYmFscztcbnZhciBfc2V0SW1tZWRpYXRlID0gbnVsbDtcbmV4cG9ydCBmdW5jdGlvbiBzZXRJbW1lZGlhdGUoY2FsbGJhY2spIHtcbiAgICBpZiAoX3NldEltbWVkaWF0ZSA9PT0gbnVsbCkge1xuICAgICAgICBpZiAoZ2xvYmFscy5zZXRJbW1lZGlhdGUpIHtcbiAgICAgICAgICAgIF9zZXRJbW1lZGlhdGUgPSBnbG9iYWxzLnNldEltbWVkaWF0ZS5iaW5kKGdsb2JhbHMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgcHJvY2Vzcy5uZXh0VGljayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgX3NldEltbWVkaWF0ZSA9IHByb2Nlc3MubmV4dFRpY2suYmluZChwcm9jZXNzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIF9zZXRJbW1lZGlhdGUgPSBnbG9iYWxzLnNldFRpbWVvdXQuYmluZChnbG9iYWxzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gX3NldEltbWVkaWF0ZShjYWxsYmFjayk7XG59XG5leHBvcnQgdmFyIE9TID0gKF9pc01hY2ludG9zaCA/IDIgLyogTWFjaW50b3NoICovIDogKF9pc1dpbmRvd3MgPyAxIC8qIFdpbmRvd3MgKi8gOiAzIC8qIExpbnV4ICovKSk7XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwidmFyIGc7XHJcblxyXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxyXG5nID0gKGZ1bmN0aW9uKCkge1xyXG5cdHJldHVybiB0aGlzO1xyXG59KSgpO1xyXG5cclxudHJ5IHtcclxuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcclxuXHRnID0gZyB8fCBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkgfHwgKDEsIGV2YWwpKFwidGhpc1wiKTtcclxufSBjYXRjaCAoZSkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXHJcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XHJcbn1cclxuXHJcbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cclxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3NcclxuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBnO1xyXG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbid1c2Ugc3RyaWN0JztcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9hO1xuaW1wb3J0IHsgaXNXaW5kb3dzIH0gZnJvbSAnLi9wbGF0Zm9ybS5qcyc7XG52YXIgX3NjaGVtZVBhdHRlcm4gPSAvXlxcd1tcXHdcXGQrLi1dKiQvO1xudmFyIF9zaW5nbGVTbGFzaFN0YXJ0ID0gL15cXC8vO1xudmFyIF9kb3VibGVTbGFzaFN0YXJ0ID0gL15cXC9cXC8vO1xuZnVuY3Rpb24gX3ZhbGlkYXRlVXJpKHJldCkge1xuICAgIC8vIHNjaGVtZSwgaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODYjc2VjdGlvbi0zLjFcbiAgICAvLyBBTFBIQSAqKCBBTFBIQSAvIERJR0lUIC8gXCIrXCIgLyBcIi1cIiAvIFwiLlwiIClcbiAgICBpZiAocmV0LnNjaGVtZSAmJiAhX3NjaGVtZVBhdHRlcm4udGVzdChyZXQuc2NoZW1lKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tVcmlFcnJvcl06IFNjaGVtZSBjb250YWlucyBpbGxlZ2FsIGNoYXJhY3RlcnMuJyk7XG4gICAgfVxuICAgIC8vIHBhdGgsIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODYjc2VjdGlvbi0zLjNcbiAgICAvLyBJZiBhIFVSSSBjb250YWlucyBhbiBhdXRob3JpdHkgY29tcG9uZW50LCB0aGVuIHRoZSBwYXRoIGNvbXBvbmVudFxuICAgIC8vIG11c3QgZWl0aGVyIGJlIGVtcHR5IG9yIGJlZ2luIHdpdGggYSBzbGFzaCAoXCIvXCIpIGNoYXJhY3Rlci4gIElmIGEgVVJJXG4gICAgLy8gZG9lcyBub3QgY29udGFpbiBhbiBhdXRob3JpdHkgY29tcG9uZW50LCB0aGVuIHRoZSBwYXRoIGNhbm5vdCBiZWdpblxuICAgIC8vIHdpdGggdHdvIHNsYXNoIGNoYXJhY3RlcnMgKFwiLy9cIikuXG4gICAgaWYgKHJldC5wYXRoKSB7XG4gICAgICAgIGlmIChyZXQuYXV0aG9yaXR5KSB7XG4gICAgICAgICAgICBpZiAoIV9zaW5nbGVTbGFzaFN0YXJ0LnRlc3QocmV0LnBhdGgpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbVXJpRXJyb3JdOiBJZiBhIFVSSSBjb250YWlucyBhbiBhdXRob3JpdHkgY29tcG9uZW50LCB0aGVuIHRoZSBwYXRoIGNvbXBvbmVudCBtdXN0IGVpdGhlciBiZSBlbXB0eSBvciBiZWdpbiB3aXRoIGEgc2xhc2ggKFwiL1wiKSBjaGFyYWN0ZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChfZG91YmxlU2xhc2hTdGFydC50ZXN0KHJldC5wYXRoKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW1VyaUVycm9yXTogSWYgYSBVUkkgZG9lcyBub3QgY29udGFpbiBhbiBhdXRob3JpdHkgY29tcG9uZW50LCB0aGVuIHRoZSBwYXRoIGNhbm5vdCBiZWdpbiB3aXRoIHR3byBzbGFzaCBjaGFyYWN0ZXJzIChcIi8vXCIpJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyBpbXBsZW1lbnRzIGEgYml0IG9mIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I3NlY3Rpb24tNVxuZnVuY3Rpb24gX3JlZmVyZW5jZVJlc29sdXRpb24oc2NoZW1lLCBwYXRoKSB7XG4gICAgLy8gdGhlIHNsYXNoLWNoYXJhY3RlciBpcyBvdXIgJ2RlZmF1bHQgYmFzZScgYXMgd2UgZG9uJ3RcbiAgICAvLyBzdXBwb3J0IGNvbnN0cnVjdGluZyBVUklzIHJlbGF0aXZlIHRvIG90aGVyIFVSSXMuIFRoaXNcbiAgICAvLyBhbHNvIG1lYW5zIHRoYXQgd2UgYWx0ZXIgYW5kIHBvdGVudGlhbGx5IGJyZWFrIHBhdGhzLlxuICAgIC8vIHNlZSBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4NiNzZWN0aW9uLTUuMS40XG4gICAgc3dpdGNoIChzY2hlbWUpIHtcbiAgICAgICAgY2FzZSAnaHR0cHMnOlxuICAgICAgICBjYXNlICdodHRwJzpcbiAgICAgICAgY2FzZSAnZmlsZSc6XG4gICAgICAgICAgICBpZiAoIXBhdGgpIHtcbiAgICAgICAgICAgICAgICBwYXRoID0gX3NsYXNoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocGF0aFswXSAhPT0gX3NsYXNoKSB7XG4gICAgICAgICAgICAgICAgcGF0aCA9IF9zbGFzaCArIHBhdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIHBhdGg7XG59XG52YXIgX2VtcHR5ID0gJyc7XG52YXIgX3NsYXNoID0gJy8nO1xudmFyIF9yZWdleHAgPSAvXigoW146Lz8jXSs/KTopPyhcXC9cXC8oW14vPyNdKikpPyhbXj8jXSopKFxcPyhbXiNdKikpPygjKC4qKSk/Lztcbi8qKlxuICogVW5pZm9ybSBSZXNvdXJjZSBJZGVudGlmaWVyIChVUkkpIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODYuXG4gKiBUaGlzIGNsYXNzIGlzIGEgc2ltcGxlIHBhcnNlciB3aGljaCBjcmVhdGVzIHRoZSBiYXNpYyBjb21wb25lbnQgcGF0aHNcbiAqIChodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I3NlY3Rpb24tMykgd2l0aCBtaW5pbWFsIHZhbGlkYXRpb25cbiAqIGFuZCBlbmNvZGluZy5cbiAqXG4gKiAgICAgICBmb286Ly9leGFtcGxlLmNvbTo4MDQyL292ZXIvdGhlcmU/bmFtZT1mZXJyZXQjbm9zZVxuICogICAgICAgXFxfLyAgIFxcX19fX19fX19fX19fX18vXFxfX19fX19fX18vIFxcX19fX19fX19fLyBcXF9fL1xuICogICAgICAgIHwgICAgICAgICAgIHwgICAgICAgICAgICB8ICAgICAgICAgICAgfCAgICAgICAgfFxuICogICAgIHNjaGVtZSAgICAgYXV0aG9yaXR5ICAgICAgIHBhdGggICAgICAgIHF1ZXJ5ICAgZnJhZ21lbnRcbiAqICAgICAgICB8ICAgX19fX19fX19fX19fX19fX19fX19ffF9fXG4gKiAgICAgICAvIFxcIC8gICAgICAgICAgICAgICAgICAgICAgICBcXFxuICogICAgICAgdXJuOmV4YW1wbGU6YW5pbWFsOmZlcnJldDpub3NlXG4gKlxuICpcbiAqL1xudmFyIFVSSSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBVUkkoc2NoZW1lT3JEYXRhLCBhdXRob3JpdHksIHBhdGgsIHF1ZXJ5LCBmcmFnbWVudCkge1xuICAgICAgICBpZiAodHlwZW9mIHNjaGVtZU9yRGF0YSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHRoaXMuc2NoZW1lID0gc2NoZW1lT3JEYXRhLnNjaGVtZSB8fCBfZW1wdHk7XG4gICAgICAgICAgICB0aGlzLmF1dGhvcml0eSA9IHNjaGVtZU9yRGF0YS5hdXRob3JpdHkgfHwgX2VtcHR5O1xuICAgICAgICAgICAgdGhpcy5wYXRoID0gc2NoZW1lT3JEYXRhLnBhdGggfHwgX2VtcHR5O1xuICAgICAgICAgICAgdGhpcy5xdWVyeSA9IHNjaGVtZU9yRGF0YS5xdWVyeSB8fCBfZW1wdHk7XG4gICAgICAgICAgICB0aGlzLmZyYWdtZW50ID0gc2NoZW1lT3JEYXRhLmZyYWdtZW50IHx8IF9lbXB0eTtcbiAgICAgICAgICAgIC8vIG5vIHZhbGlkYXRpb24gYmVjYXVzZSBpdCdzIHRoaXMgVVJJXG4gICAgICAgICAgICAvLyB0aGF0IGNyZWF0ZXMgdXJpIGNvbXBvbmVudHMuXG4gICAgICAgICAgICAvLyBfdmFsaWRhdGVVcmkodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNjaGVtZSA9IHNjaGVtZU9yRGF0YSB8fCBfZW1wdHk7XG4gICAgICAgICAgICB0aGlzLmF1dGhvcml0eSA9IGF1dGhvcml0eSB8fCBfZW1wdHk7XG4gICAgICAgICAgICB0aGlzLnBhdGggPSBfcmVmZXJlbmNlUmVzb2x1dGlvbih0aGlzLnNjaGVtZSwgcGF0aCB8fCBfZW1wdHkpO1xuICAgICAgICAgICAgdGhpcy5xdWVyeSA9IHF1ZXJ5IHx8IF9lbXB0eTtcbiAgICAgICAgICAgIHRoaXMuZnJhZ21lbnQgPSBmcmFnbWVudCB8fCBfZW1wdHk7XG4gICAgICAgICAgICBfdmFsaWRhdGVVcmkodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgVVJJLmlzVXJpID0gZnVuY3Rpb24gKHRoaW5nKSB7XG4gICAgICAgIGlmICh0aGluZyBpbnN0YW5jZW9mIFVSSSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGluZykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0eXBlb2YgdGhpbmcuYXV0aG9yaXR5ID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgJiYgdHlwZW9mIHRoaW5nLmZyYWdtZW50ID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgJiYgdHlwZW9mIHRoaW5nLnBhdGggPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAmJiB0eXBlb2YgdGhpbmcucXVlcnkgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAmJiB0eXBlb2YgdGhpbmcuc2NoZW1lID09PSAnc3RyaW5nJztcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVUkkucHJvdG90eXBlLCBcImZzUGF0aFwiLCB7XG4gICAgICAgIC8vIC0tLS0gZmlsZXN5c3RlbSBwYXRoIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY29ycmVzcG9uZGluZyBmaWxlIHN5c3RlbSBwYXRoIG9mIHRoaXMgVVJJLlxuICAgICAgICAgKiBXaWxsIGhhbmRsZSBVTkMgcGF0aHMgYW5kIG5vcm1hbGl6ZSB3aW5kb3dzIGRyaXZlIGxldHRlcnMgdG8gbG93ZXItY2FzZS4gQWxzb1xuICAgICAgICAgKiB1c2VzIHRoZSBwbGF0Zm9ybSBzcGVjaWZpYyBwYXRoIHNlcGFyYXRvci4gV2lsbCAqbm90KiB2YWxpZGF0ZSB0aGUgcGF0aCBmb3JcbiAgICAgICAgICogaW52YWxpZCBjaGFyYWN0ZXJzIGFuZCBzZW1hbnRpY3MuIFdpbGwgKm5vdCogbG9vayBhdCB0aGUgc2NoZW1lIG9mIHRoaXMgVVJJLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX21ha2VGc1BhdGgodGhpcyk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8vIC0tLS0gbW9kaWZ5IHRvIG5ldyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgVVJJLnByb3RvdHlwZS53aXRoID0gZnVuY3Rpb24gKGNoYW5nZSkge1xuICAgICAgICBpZiAoIWNoYW5nZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNjaGVtZSA9IGNoYW5nZS5zY2hlbWUsIGF1dGhvcml0eSA9IGNoYW5nZS5hdXRob3JpdHksIHBhdGggPSBjaGFuZ2UucGF0aCwgcXVlcnkgPSBjaGFuZ2UucXVlcnksIGZyYWdtZW50ID0gY2hhbmdlLmZyYWdtZW50O1xuICAgICAgICBpZiAoc2NoZW1lID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHNjaGVtZSA9IHRoaXMuc2NoZW1lO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNjaGVtZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgc2NoZW1lID0gX2VtcHR5O1xuICAgICAgICB9XG4gICAgICAgIGlmIChhdXRob3JpdHkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgYXV0aG9yaXR5ID0gdGhpcy5hdXRob3JpdHk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYXV0aG9yaXR5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBhdXRob3JpdHkgPSBfZW1wdHk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhdGggPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgcGF0aCA9IHRoaXMucGF0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwYXRoID09PSBudWxsKSB7XG4gICAgICAgICAgICBwYXRoID0gX2VtcHR5O1xuICAgICAgICB9XG4gICAgICAgIGlmIChxdWVyeSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBxdWVyeSA9IHRoaXMucXVlcnk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocXVlcnkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHF1ZXJ5ID0gX2VtcHR5O1xuICAgICAgICB9XG4gICAgICAgIGlmIChmcmFnbWVudCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBmcmFnbWVudCA9IHRoaXMuZnJhZ21lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZnJhZ21lbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGZyYWdtZW50ID0gX2VtcHR5O1xuICAgICAgICB9XG4gICAgICAgIGlmIChzY2hlbWUgPT09IHRoaXMuc2NoZW1lXG4gICAgICAgICAgICAmJiBhdXRob3JpdHkgPT09IHRoaXMuYXV0aG9yaXR5XG4gICAgICAgICAgICAmJiBwYXRoID09PSB0aGlzLnBhdGhcbiAgICAgICAgICAgICYmIHF1ZXJ5ID09PSB0aGlzLnF1ZXJ5XG4gICAgICAgICAgICAmJiBmcmFnbWVudCA9PT0gdGhpcy5mcmFnbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBfVVJJKHNjaGVtZSwgYXV0aG9yaXR5LCBwYXRoLCBxdWVyeSwgZnJhZ21lbnQpO1xuICAgIH07XG4gICAgLy8gLS0tLSBwYXJzZSAmIHZhbGlkYXRlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIFVSSS5wYXJzZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgbWF0Y2ggPSBfcmVnZXhwLmV4ZWModmFsdWUpO1xuICAgICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IF9VUkkoX2VtcHR5LCBfZW1wdHksIF9lbXB0eSwgX2VtcHR5LCBfZW1wdHkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgX1VSSShtYXRjaFsyXSB8fCBfZW1wdHksIGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFs0XSB8fCBfZW1wdHkpLCBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbNV0gfHwgX2VtcHR5KSwgZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzddIHx8IF9lbXB0eSksIGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFs5XSB8fCBfZW1wdHkpKTtcbiAgICB9O1xuICAgIFVSSS5maWxlID0gZnVuY3Rpb24gKHBhdGgpIHtcbiAgICAgICAgdmFyIGF1dGhvcml0eSA9IF9lbXB0eTtcbiAgICAgICAgLy8gbm9ybWFsaXplIHRvIGZ3ZC1zbGFzaGVzIG9uIHdpbmRvd3MsXG4gICAgICAgIC8vIG9uIG90aGVyIHN5c3RlbXMgYndkLXNsYXNoZXMgYXJlIHZhbGlkXG4gICAgICAgIC8vIGZpbGVuYW1lIGNoYXJhY3RlciwgZWcgL2ZcXG9vL2JhXFxyLnR4dFxuICAgICAgICBpZiAoaXNXaW5kb3dzKSB7XG4gICAgICAgICAgICBwYXRoID0gcGF0aC5yZXBsYWNlKC9cXFxcL2csIF9zbGFzaCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hlY2sgZm9yIGF1dGhvcml0eSBhcyB1c2VkIGluIFVOQyBzaGFyZXNcbiAgICAgICAgLy8gb3IgdXNlIHRoZSBwYXRoIGFzIGdpdmVuXG4gICAgICAgIGlmIChwYXRoWzBdID09PSBfc2xhc2ggJiYgcGF0aFsxXSA9PT0gX3NsYXNoKSB7XG4gICAgICAgICAgICB2YXIgaWR4ID0gcGF0aC5pbmRleE9mKF9zbGFzaCwgMik7XG4gICAgICAgICAgICBpZiAoaWR4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGF1dGhvcml0eSA9IHBhdGguc3Vic3RyaW5nKDIpO1xuICAgICAgICAgICAgICAgIHBhdGggPSBfc2xhc2g7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhdXRob3JpdHkgPSBwYXRoLnN1YnN0cmluZygyLCBpZHgpO1xuICAgICAgICAgICAgICAgIHBhdGggPSBwYXRoLnN1YnN0cmluZyhpZHgpIHx8IF9zbGFzaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IF9VUkkoJ2ZpbGUnLCBhdXRob3JpdHksIHBhdGgsIF9lbXB0eSwgX2VtcHR5KTtcbiAgICB9O1xuICAgIFVSSS5mcm9tID0gZnVuY3Rpb24gKGNvbXBvbmVudHMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfVVJJKGNvbXBvbmVudHMuc2NoZW1lLCBjb21wb25lbnRzLmF1dGhvcml0eSwgY29tcG9uZW50cy5wYXRoLCBjb21wb25lbnRzLnF1ZXJ5LCBjb21wb25lbnRzLmZyYWdtZW50KTtcbiAgICB9O1xuICAgIC8vIC0tLS0gcHJpbnRpbmcvZXh0ZXJuYWxpemUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc2tpcEVuY29kaW5nIERvIG5vdCBlbmNvZGUgdGhlIHJlc3VsdCwgZGVmYXVsdCBpcyBgZmFsc2VgXG4gICAgICovXG4gICAgVVJJLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIChza2lwRW5jb2RpbmcpIHtcbiAgICAgICAgaWYgKHNraXBFbmNvZGluZyA9PT0gdm9pZCAwKSB7IHNraXBFbmNvZGluZyA9IGZhbHNlOyB9XG4gICAgICAgIHJldHVybiBfYXNGb3JtYXR0ZWQodGhpcywgc2tpcEVuY29kaW5nKTtcbiAgICB9O1xuICAgIFVSSS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFVSSS5yZXZpdmUgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRhdGEgaW5zdGFuY2VvZiBVUkkpIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBfVVJJKGRhdGEpO1xuICAgICAgICAgICAgcmVzdWx0Ll9mc1BhdGggPSBkYXRhLmZzUGF0aDtcbiAgICAgICAgICAgIHJlc3VsdC5fZm9ybWF0dGVkID0gZGF0YS5leHRlcm5hbDtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBVUkk7XG59KCkpO1xuZXhwb3J0IGRlZmF1bHQgVVJJO1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOmNsYXNzLW5hbWVcbnZhciBfVVJJID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhfVVJJLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIF9VUkkoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fZm9ybWF0dGVkID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX2ZzUGF0aCA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9VUkkucHJvdG90eXBlLCBcImZzUGF0aFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9mc1BhdGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mc1BhdGggPSBfbWFrZUZzUGF0aCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mc1BhdGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIF9VUkkucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKHNraXBFbmNvZGluZykge1xuICAgICAgICBpZiAoc2tpcEVuY29kaW5nID09PSB2b2lkIDApIHsgc2tpcEVuY29kaW5nID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKCFza2lwRW5jb2RpbmcpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fZm9ybWF0dGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9ybWF0dGVkID0gX2FzRm9ybWF0dGVkKHRoaXMsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb3JtYXR0ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyB3ZSBkb24ndCBjYWNoZSB0aGF0XG4gICAgICAgICAgICByZXR1cm4gX2FzRm9ybWF0dGVkKHRoaXMsIHRydWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBfVVJJLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZXMgPSB7XG4gICAgICAgICAgICAkbWlkOiAxXG4gICAgICAgIH07XG4gICAgICAgIC8vIGNhY2hlZCBzdGF0ZVxuICAgICAgICBpZiAodGhpcy5fZnNQYXRoKSB7XG4gICAgICAgICAgICByZXMuZnNQYXRoID0gdGhpcy5fZnNQYXRoO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9mb3JtYXR0ZWQpIHtcbiAgICAgICAgICAgIHJlcy5leHRlcm5hbCA9IHRoaXMuX2Zvcm1hdHRlZDtcbiAgICAgICAgfVxuICAgICAgICAvLyB1cmkgY29tcG9uZW50c1xuICAgICAgICBpZiAodGhpcy5wYXRoKSB7XG4gICAgICAgICAgICByZXMucGF0aCA9IHRoaXMucGF0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zY2hlbWUpIHtcbiAgICAgICAgICAgIHJlcy5zY2hlbWUgPSB0aGlzLnNjaGVtZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hdXRob3JpdHkpIHtcbiAgICAgICAgICAgIHJlcy5hdXRob3JpdHkgPSB0aGlzLmF1dGhvcml0eTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5xdWVyeSkge1xuICAgICAgICAgICAgcmVzLnF1ZXJ5ID0gdGhpcy5xdWVyeTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5mcmFnbWVudCkge1xuICAgICAgICAgICAgcmVzLmZyYWdtZW50ID0gdGhpcy5mcmFnbWVudDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG4gICAgcmV0dXJuIF9VUkk7XG59KFVSSSkpO1xuLy8gcmVzZXJ2ZWQgY2hhcmFjdGVyczogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODYjc2VjdGlvbi0yLjJcbnZhciBlbmNvZGVUYWJsZSA9IChfYSA9IHt9LFxuICAgIF9hWzU4IC8qIENvbG9uICovXSA9ICclM0EnLFxuICAgIF9hWzQ3IC8qIFNsYXNoICovXSA9ICclMkYnLFxuICAgIF9hWzYzIC8qIFF1ZXN0aW9uTWFyayAqL10gPSAnJTNGJyxcbiAgICBfYVszNSAvKiBIYXNoICovXSA9ICclMjMnLFxuICAgIF9hWzkxIC8qIE9wZW5TcXVhcmVCcmFja2V0ICovXSA9ICclNUInLFxuICAgIF9hWzkzIC8qIENsb3NlU3F1YXJlQnJhY2tldCAqL10gPSAnJTVEJyxcbiAgICBfYVs2NCAvKiBBdFNpZ24gKi9dID0gJyU0MCcsXG4gICAgX2FbMzMgLyogRXhjbGFtYXRpb25NYXJrICovXSA9ICclMjEnLFxuICAgIF9hWzM2IC8qIERvbGxhclNpZ24gKi9dID0gJyUyNCcsXG4gICAgX2FbMzggLyogQW1wZXJzYW5kICovXSA9ICclMjYnLFxuICAgIF9hWzM5IC8qIFNpbmdsZVF1b3RlICovXSA9ICclMjcnLFxuICAgIF9hWzQwIC8qIE9wZW5QYXJlbiAqL10gPSAnJTI4JyxcbiAgICBfYVs0MSAvKiBDbG9zZVBhcmVuICovXSA9ICclMjknLFxuICAgIF9hWzQyIC8qIEFzdGVyaXNrICovXSA9ICclMkEnLFxuICAgIF9hWzQzIC8qIFBsdXMgKi9dID0gJyUyQicsXG4gICAgX2FbNDQgLyogQ29tbWEgKi9dID0gJyUyQycsXG4gICAgX2FbNTkgLyogU2VtaWNvbG9uICovXSA9ICclM0InLFxuICAgIF9hWzYxIC8qIEVxdWFscyAqL10gPSAnJTNEJyxcbiAgICBfYVszMiAvKiBTcGFjZSAqL10gPSAnJTIwJyxcbiAgICBfYSk7XG5mdW5jdGlvbiBlbmNvZGVVUklDb21wb25lbnRGYXN0KHVyaUNvbXBvbmVudCwgYWxsb3dTbGFzaCkge1xuICAgIHZhciByZXMgPSB1bmRlZmluZWQ7XG4gICAgdmFyIG5hdGl2ZUVuY29kZVBvcyA9IC0xO1xuICAgIGZvciAodmFyIHBvcyA9IDA7IHBvcyA8IHVyaUNvbXBvbmVudC5sZW5ndGg7IHBvcysrKSB7XG4gICAgICAgIHZhciBjb2RlID0gdXJpQ29tcG9uZW50LmNoYXJDb2RlQXQocG9zKTtcbiAgICAgICAgLy8gdW5yZXNlcnZlZCBjaGFyYWN0ZXJzOiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4NiNzZWN0aW9uLTIuM1xuICAgICAgICBpZiAoKGNvZGUgPj0gOTcgLyogYSAqLyAmJiBjb2RlIDw9IDEyMiAvKiB6ICovKVxuICAgICAgICAgICAgfHwgKGNvZGUgPj0gNjUgLyogQSAqLyAmJiBjb2RlIDw9IDkwIC8qIFogKi8pXG4gICAgICAgICAgICB8fCAoY29kZSA+PSA0OCAvKiBEaWdpdDAgKi8gJiYgY29kZSA8PSA1NyAvKiBEaWdpdDkgKi8pXG4gICAgICAgICAgICB8fCBjb2RlID09PSA0NSAvKiBEYXNoICovXG4gICAgICAgICAgICB8fCBjb2RlID09PSA0NiAvKiBQZXJpb2QgKi9cbiAgICAgICAgICAgIHx8IGNvZGUgPT09IDk1IC8qIFVuZGVybGluZSAqL1xuICAgICAgICAgICAgfHwgY29kZSA9PT0gMTI2IC8qIFRpbGRlICovXG4gICAgICAgICAgICB8fCAoYWxsb3dTbGFzaCAmJiBjb2RlID09PSA0NyAvKiBTbGFzaCAqLykpIHtcbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHdlIGFyZSBkZWxheWluZyBuYXRpdmUgZW5jb2RlXG4gICAgICAgICAgICBpZiAobmF0aXZlRW5jb2RlUG9zICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHJlcyArPSBlbmNvZGVVUklDb21wb25lbnQodXJpQ29tcG9uZW50LnN1YnN0cmluZyhuYXRpdmVFbmNvZGVQb3MsIHBvcykpO1xuICAgICAgICAgICAgICAgIG5hdGl2ZUVuY29kZVBvcyA9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY2hlY2sgaWYgd2Ugd3JpdGUgaW50byBhIG5ldyBzdHJpbmcgKGJ5IGRlZmF1bHQgd2UgdHJ5IHRvIHJldHVybiB0aGUgcGFyYW0pXG4gICAgICAgICAgICBpZiAocmVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXMgKz0gdXJpQ29tcG9uZW50LmNoYXJBdChwb3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZW5jb2RpbmcgbmVlZGVkLCB3ZSBuZWVkIHRvIGFsbG9jYXRlIGEgbmV3IHN0cmluZ1xuICAgICAgICAgICAgaWYgKHJlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmVzID0gdXJpQ29tcG9uZW50LnN1YnN0cigwLCBwb3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY2hlY2sgd2l0aCBkZWZhdWx0IHRhYmxlIGZpcnN0XG4gICAgICAgICAgICB2YXIgZXNjYXBlZCA9IGVuY29kZVRhYmxlW2NvZGVdO1xuICAgICAgICAgICAgaWYgKGVzY2FwZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIHdlIGFyZSBkZWxheWluZyBuYXRpdmUgZW5jb2RlXG4gICAgICAgICAgICAgICAgaWYgKG5hdGl2ZUVuY29kZVBvcyAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzICs9IGVuY29kZVVSSUNvbXBvbmVudCh1cmlDb21wb25lbnQuc3Vic3RyaW5nKG5hdGl2ZUVuY29kZVBvcywgcG9zKSk7XG4gICAgICAgICAgICAgICAgICAgIG5hdGl2ZUVuY29kZVBvcyA9IC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBhcHBlbmQgZXNjYXBlZCB2YXJpYW50IHRvIHJlc3VsdFxuICAgICAgICAgICAgICAgIHJlcyArPSBlc2NhcGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobmF0aXZlRW5jb2RlUG9zID09PSAtMSkge1xuICAgICAgICAgICAgICAgIC8vIHVzZSBuYXRpdmUgZW5jb2RlIG9ubHkgd2hlbiBuZWVkZWRcbiAgICAgICAgICAgICAgICBuYXRpdmVFbmNvZGVQb3MgPSBwb3M7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG5hdGl2ZUVuY29kZVBvcyAhPT0gLTEpIHtcbiAgICAgICAgcmVzICs9IGVuY29kZVVSSUNvbXBvbmVudCh1cmlDb21wb25lbnQuc3Vic3RyaW5nKG5hdGl2ZUVuY29kZVBvcykpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzICE9PSB1bmRlZmluZWQgPyByZXMgOiB1cmlDb21wb25lbnQ7XG59XG5mdW5jdGlvbiBlbmNvZGVVUklDb21wb25lbnRNaW5pbWFsKHBhdGgpIHtcbiAgICB2YXIgcmVzID0gdW5kZWZpbmVkO1xuICAgIGZvciAodmFyIHBvcyA9IDA7IHBvcyA8IHBhdGgubGVuZ3RoOyBwb3MrKykge1xuICAgICAgICB2YXIgY29kZSA9IHBhdGguY2hhckNvZGVBdChwb3MpO1xuICAgICAgICBpZiAoY29kZSA9PT0gMzUgLyogSGFzaCAqLyB8fCBjb2RlID09PSA2MyAvKiBRdWVzdGlvbk1hcmsgKi8pIHtcbiAgICAgICAgICAgIGlmIChyZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJlcyA9IHBhdGguc3Vic3RyKDAsIHBvcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXMgKz0gZW5jb2RlVGFibGVbY29kZV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAocmVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXMgKz0gcGF0aFtwb3NdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXMgIT09IHVuZGVmaW5lZCA/IHJlcyA6IHBhdGg7XG59XG4vKipcbiAqIENvbXB1dGUgYGZzUGF0aGAgZm9yIHRoZSBnaXZlbiB1cmlcbiAqIEBwYXJhbSB1cmlcbiAqL1xuZnVuY3Rpb24gX21ha2VGc1BhdGgodXJpKSB7XG4gICAgdmFyIHZhbHVlO1xuICAgIGlmICh1cmkuYXV0aG9yaXR5ICYmIHVyaS5wYXRoLmxlbmd0aCA+IDEgJiYgdXJpLnNjaGVtZSA9PT0gJ2ZpbGUnKSB7XG4gICAgICAgIC8vIHVuYyBwYXRoOiBmaWxlOi8vc2hhcmVzL2MkL2Zhci9ib29cbiAgICAgICAgdmFsdWUgPSBcIi8vXCIgKyB1cmkuYXV0aG9yaXR5ICsgdXJpLnBhdGg7XG4gICAgfVxuICAgIGVsc2UgaWYgKHVyaS5wYXRoLmNoYXJDb2RlQXQoMCkgPT09IDQ3IC8qIFNsYXNoICovXG4gICAgICAgICYmICh1cmkucGF0aC5jaGFyQ29kZUF0KDEpID49IDY1IC8qIEEgKi8gJiYgdXJpLnBhdGguY2hhckNvZGVBdCgxKSA8PSA5MCAvKiBaICovIHx8IHVyaS5wYXRoLmNoYXJDb2RlQXQoMSkgPj0gOTcgLyogYSAqLyAmJiB1cmkucGF0aC5jaGFyQ29kZUF0KDEpIDw9IDEyMiAvKiB6ICovKVxuICAgICAgICAmJiB1cmkucGF0aC5jaGFyQ29kZUF0KDIpID09PSA1OCAvKiBDb2xvbiAqLykge1xuICAgICAgICAvLyB3aW5kb3dzIGRyaXZlIGxldHRlcjogZmlsZTovLy9jOi9mYXIvYm9vXG4gICAgICAgIHZhbHVlID0gdXJpLnBhdGhbMV0udG9Mb3dlckNhc2UoKSArIHVyaS5wYXRoLnN1YnN0cigyKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIG90aGVyIHBhdGhcbiAgICAgICAgdmFsdWUgPSB1cmkucGF0aDtcbiAgICB9XG4gICAgaWYgKGlzV2luZG93cykge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1xcLy9nLCAnXFxcXCcpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG4vKipcbiAqIENyZWF0ZSB0aGUgZXh0ZXJuYWwgdmVyc2lvbiBvZiBhIHVyaVxuICovXG5mdW5jdGlvbiBfYXNGb3JtYXR0ZWQodXJpLCBza2lwRW5jb2RpbmcpIHtcbiAgICB2YXIgZW5jb2RlciA9ICFza2lwRW5jb2RpbmdcbiAgICAgICAgPyBlbmNvZGVVUklDb21wb25lbnRGYXN0XG4gICAgICAgIDogZW5jb2RlVVJJQ29tcG9uZW50TWluaW1hbDtcbiAgICB2YXIgcmVzID0gJyc7XG4gICAgdmFyIHNjaGVtZSA9IHVyaS5zY2hlbWUsIGF1dGhvcml0eSA9IHVyaS5hdXRob3JpdHksIHBhdGggPSB1cmkucGF0aCwgcXVlcnkgPSB1cmkucXVlcnksIGZyYWdtZW50ID0gdXJpLmZyYWdtZW50O1xuICAgIGlmIChzY2hlbWUpIHtcbiAgICAgICAgcmVzICs9IHNjaGVtZTtcbiAgICAgICAgcmVzICs9ICc6JztcbiAgICB9XG4gICAgaWYgKGF1dGhvcml0eSB8fCBzY2hlbWUgPT09ICdmaWxlJykge1xuICAgICAgICByZXMgKz0gX3NsYXNoO1xuICAgICAgICByZXMgKz0gX3NsYXNoO1xuICAgIH1cbiAgICBpZiAoYXV0aG9yaXR5KSB7XG4gICAgICAgIHZhciBpZHggPSBhdXRob3JpdHkuaW5kZXhPZignQCcpO1xuICAgICAgICBpZiAoaWR4ICE9PSAtMSkge1xuICAgICAgICAgICAgLy8gPHVzZXI+QDxhdXRoPlxuICAgICAgICAgICAgdmFyIHVzZXJpbmZvID0gYXV0aG9yaXR5LnN1YnN0cigwLCBpZHgpO1xuICAgICAgICAgICAgYXV0aG9yaXR5ID0gYXV0aG9yaXR5LnN1YnN0cihpZHggKyAxKTtcbiAgICAgICAgICAgIGlkeCA9IHVzZXJpbmZvLmluZGV4T2YoJzonKTtcbiAgICAgICAgICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmVzICs9IGVuY29kZXIodXNlcmluZm8sIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIDx1c2VyPjo8cGFzcz5APGF1dGg+XG4gICAgICAgICAgICAgICAgcmVzICs9IGVuY29kZXIodXNlcmluZm8uc3Vic3RyKDAsIGlkeCksIGZhbHNlKTtcbiAgICAgICAgICAgICAgICByZXMgKz0gJzonO1xuICAgICAgICAgICAgICAgIHJlcyArPSBlbmNvZGVyKHVzZXJpbmZvLnN1YnN0cihpZHggKyAxKSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzICs9ICdAJztcbiAgICAgICAgfVxuICAgICAgICBhdXRob3JpdHkgPSBhdXRob3JpdHkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWR4ID0gYXV0aG9yaXR5LmluZGV4T2YoJzonKTtcbiAgICAgICAgaWYgKGlkeCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJlcyArPSBlbmNvZGVyKGF1dGhvcml0eSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gPGF1dGg+Ojxwb3J0PlxuICAgICAgICAgICAgcmVzICs9IGVuY29kZXIoYXV0aG9yaXR5LnN1YnN0cigwLCBpZHgpLCBmYWxzZSk7XG4gICAgICAgICAgICByZXMgKz0gYXV0aG9yaXR5LnN1YnN0cihpZHgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChwYXRoKSB7XG4gICAgICAgIC8vIGxvd2VyLWNhc2Ugd2luZG93cyBkcml2ZSBsZXR0ZXJzIGluIC9DOi9mZmYgb3IgQzovZmZmXG4gICAgICAgIGlmIChwYXRoLmxlbmd0aCA+PSAzICYmIHBhdGguY2hhckNvZGVBdCgwKSA9PT0gNDcgLyogU2xhc2ggKi8gJiYgcGF0aC5jaGFyQ29kZUF0KDIpID09PSA1OCAvKiBDb2xvbiAqLykge1xuICAgICAgICAgICAgdmFyIGNvZGUgPSBwYXRoLmNoYXJDb2RlQXQoMSk7XG4gICAgICAgICAgICBpZiAoY29kZSA+PSA2NSAvKiBBICovICYmIGNvZGUgPD0gOTAgLyogWiAqLykge1xuICAgICAgICAgICAgICAgIHBhdGggPSBcIi9cIiArIFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSArIDMyKSArIFwiOlwiICsgcGF0aC5zdWJzdHIoMyk7IC8vIFwiL2M6XCIubGVuZ3RoID09PSAzXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGF0aC5sZW5ndGggPj0gMiAmJiBwYXRoLmNoYXJDb2RlQXQoMSkgPT09IDU4IC8qIENvbG9uICovKSB7XG4gICAgICAgICAgICB2YXIgY29kZSA9IHBhdGguY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICAgIGlmIChjb2RlID49IDY1IC8qIEEgKi8gJiYgY29kZSA8PSA5MCAvKiBaICovKSB7XG4gICAgICAgICAgICAgICAgcGF0aCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSArIDMyKSArIFwiOlwiICsgcGF0aC5zdWJzdHIoMik7IC8vIFwiL2M6XCIubGVuZ3RoID09PSAzXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gZW5jb2RlIHRoZSByZXN0IG9mIHRoZSBwYXRoXG4gICAgICAgIHJlcyArPSBlbmNvZGVyKHBhdGgsIHRydWUpO1xuICAgIH1cbiAgICBpZiAocXVlcnkpIHtcbiAgICAgICAgcmVzICs9ICc/JztcbiAgICAgICAgcmVzICs9IGVuY29kZXIocXVlcnksIGZhbHNlKTtcbiAgICB9XG4gICAgaWYgKGZyYWdtZW50KSB7XG4gICAgICAgIHJlcyArPSAnIyc7XG4gICAgICAgIHJlcyArPSAhc2tpcEVuY29kaW5nID8gZW5jb2RlVVJJQ29tcG9uZW50RmFzdChmcmFnbWVudCwgZmFsc2UpIDogZnJhZ21lbnQ7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbid1c2Ugc3RyaWN0Jztcbi8qKlxuICogQSBwb3NpdGlvbiBpbiB0aGUgZWRpdG9yLlxuICovXG52YXIgUG9zaXRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUG9zaXRpb24obGluZU51bWJlciwgY29sdW1uKSB7XG4gICAgICAgIHRoaXMubGluZU51bWJlciA9IGxpbmVOdW1iZXI7XG4gICAgICAgIHRoaXMuY29sdW1uID0gY29sdW1uO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIHRoaXMgcG9zaXRpb24gZXF1YWxzIG90aGVyIHBvc2l0aW9uXG4gICAgICovXG4gICAgUG9zaXRpb24ucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICByZXR1cm4gUG9zaXRpb24uZXF1YWxzKHRoaXMsIG90aGVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgcG9zaXRpb24gYGFgIGVxdWFscyBwb3NpdGlvbiBgYmBcbiAgICAgKi9cbiAgICBQb3NpdGlvbi5lcXVhbHMgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICBpZiAoIWEgJiYgIWIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoISFhICYmXG4gICAgICAgICAgICAhIWIgJiZcbiAgICAgICAgICAgIGEubGluZU51bWJlciA9PT0gYi5saW5lTnVtYmVyICYmXG4gICAgICAgICAgICBhLmNvbHVtbiA9PT0gYi5jb2x1bW4pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGVzdCBpZiB0aGlzIHBvc2l0aW9uIGlzIGJlZm9yZSBvdGhlciBwb3NpdGlvbi5cbiAgICAgKiBJZiB0aGUgdHdvIHBvc2l0aW9ucyBhcmUgZXF1YWwsIHRoZSByZXN1bHQgd2lsbCBiZSBmYWxzZS5cbiAgICAgKi9cbiAgICBQb3NpdGlvbi5wcm90b3R5cGUuaXNCZWZvcmUgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIFBvc2l0aW9uLmlzQmVmb3JlKHRoaXMsIG90aGVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgcG9zaXRpb24gYGFgIGlzIGJlZm9yZSBwb3NpdGlvbiBgYmAuXG4gICAgICogSWYgdGhlIHR3byBwb3NpdGlvbnMgYXJlIGVxdWFsLCB0aGUgcmVzdWx0IHdpbGwgYmUgZmFsc2UuXG4gICAgICovXG4gICAgUG9zaXRpb24uaXNCZWZvcmUgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICBpZiAoYS5saW5lTnVtYmVyIDwgYi5saW5lTnVtYmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYi5saW5lTnVtYmVyIDwgYS5saW5lTnVtYmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGEuY29sdW1uIDwgYi5jb2x1bW47XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIHRoaXMgcG9zaXRpb24gaXMgYmVmb3JlIG90aGVyIHBvc2l0aW9uLlxuICAgICAqIElmIHRoZSB0d28gcG9zaXRpb25zIGFyZSBlcXVhbCwgdGhlIHJlc3VsdCB3aWxsIGJlIHRydWUuXG4gICAgICovXG4gICAgUG9zaXRpb24ucHJvdG90eXBlLmlzQmVmb3JlT3JFcXVhbCA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICByZXR1cm4gUG9zaXRpb24uaXNCZWZvcmVPckVxdWFsKHRoaXMsIG90aGVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgcG9zaXRpb24gYGFgIGlzIGJlZm9yZSBwb3NpdGlvbiBgYmAuXG4gICAgICogSWYgdGhlIHR3byBwb3NpdGlvbnMgYXJlIGVxdWFsLCB0aGUgcmVzdWx0IHdpbGwgYmUgdHJ1ZS5cbiAgICAgKi9cbiAgICBQb3NpdGlvbi5pc0JlZm9yZU9yRXF1YWwgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICBpZiAoYS5saW5lTnVtYmVyIDwgYi5saW5lTnVtYmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYi5saW5lTnVtYmVyIDwgYS5saW5lTnVtYmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGEuY29sdW1uIDw9IGIuY29sdW1uO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQSBmdW5jdGlvbiB0aGF0IGNvbXBhcmVzIHBvc2l0aW9ucywgdXNlZnVsIGZvciBzb3J0aW5nXG4gICAgICovXG4gICAgUG9zaXRpb24uY29tcGFyZSA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHZhciBhTGluZU51bWJlciA9IGEubGluZU51bWJlciB8IDA7XG4gICAgICAgIHZhciBiTGluZU51bWJlciA9IGIubGluZU51bWJlciB8IDA7XG4gICAgICAgIGlmIChhTGluZU51bWJlciA9PT0gYkxpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgIHZhciBhQ29sdW1uID0gYS5jb2x1bW4gfCAwO1xuICAgICAgICAgICAgdmFyIGJDb2x1bW4gPSBiLmNvbHVtbiB8IDA7XG4gICAgICAgICAgICByZXR1cm4gYUNvbHVtbiAtIGJDb2x1bW47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFMaW5lTnVtYmVyIC0gYkxpbmVOdW1iZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbG9uZSB0aGlzIHBvc2l0aW9uLlxuICAgICAqL1xuICAgIFBvc2l0aW9uLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb3NpdGlvbih0aGlzLmxpbmVOdW1iZXIsIHRoaXMuY29sdW1uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdG8gYSBodW1hbi1yZWFkYWJsZSByZXByZXNlbnRhdGlvbi5cbiAgICAgKi9cbiAgICBQb3NpdGlvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAnKCcgKyB0aGlzLmxpbmVOdW1iZXIgKyAnLCcgKyB0aGlzLmNvbHVtbiArICcpJztcbiAgICB9O1xuICAgIC8vIC0tLVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIGBQb3NpdGlvbmAgZnJvbSBhbiBgSVBvc2l0aW9uYC5cbiAgICAgKi9cbiAgICBQb3NpdGlvbi5saWZ0ID0gZnVuY3Rpb24gKHBvcykge1xuICAgICAgICByZXR1cm4gbmV3IFBvc2l0aW9uKHBvcy5saW5lTnVtYmVyLCBwb3MuY29sdW1uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgYG9iamAgaXMgYW4gYElQb3NpdGlvbmAuXG4gICAgICovXG4gICAgUG9zaXRpb24uaXNJUG9zaXRpb24gPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiAob2JqXG4gICAgICAgICAgICAmJiAodHlwZW9mIG9iai5saW5lTnVtYmVyID09PSAnbnVtYmVyJylcbiAgICAgICAgICAgICYmICh0eXBlb2Ygb2JqLmNvbHVtbiA9PT0gJ251bWJlcicpKTtcbiAgICB9O1xuICAgIHJldHVybiBQb3NpdGlvbjtcbn0oKSk7XG5leHBvcnQgeyBQb3NpdGlvbiB9O1xuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBQb3NpdGlvbiB9IGZyb20gJy4vcG9zaXRpb24uanMnO1xuLyoqXG4gKiBBIHJhbmdlIGluIHRoZSBlZGl0b3IuIChzdGFydExpbmVOdW1iZXIsc3RhcnRDb2x1bW4pIGlzIDw9IChlbmRMaW5lTnVtYmVyLGVuZENvbHVtbilcbiAqL1xudmFyIFJhbmdlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJhbmdlKHN0YXJ0TGluZU51bWJlciwgc3RhcnRDb2x1bW4sIGVuZExpbmVOdW1iZXIsIGVuZENvbHVtbikge1xuICAgICAgICBpZiAoKHN0YXJ0TGluZU51bWJlciA+IGVuZExpbmVOdW1iZXIpIHx8IChzdGFydExpbmVOdW1iZXIgPT09IGVuZExpbmVOdW1iZXIgJiYgc3RhcnRDb2x1bW4gPiBlbmRDb2x1bW4pKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0TGluZU51bWJlciA9IGVuZExpbmVOdW1iZXI7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0Q29sdW1uID0gZW5kQ29sdW1uO1xuICAgICAgICAgICAgdGhpcy5lbmRMaW5lTnVtYmVyID0gc3RhcnRMaW5lTnVtYmVyO1xuICAgICAgICAgICAgdGhpcy5lbmRDb2x1bW4gPSBzdGFydENvbHVtbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRMaW5lTnVtYmVyID0gc3RhcnRMaW5lTnVtYmVyO1xuICAgICAgICAgICAgdGhpcy5zdGFydENvbHVtbiA9IHN0YXJ0Q29sdW1uO1xuICAgICAgICAgICAgdGhpcy5lbmRMaW5lTnVtYmVyID0gZW5kTGluZU51bWJlcjtcbiAgICAgICAgICAgIHRoaXMuZW5kQ29sdW1uID0gZW5kQ29sdW1uO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgdGhpcyByYW5nZSBpcyBlbXB0eS5cbiAgICAgKi9cbiAgICBSYW5nZS5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFJhbmdlLmlzRW1wdHkodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIGByYW5nZWAgaXMgZW1wdHkuXG4gICAgICovXG4gICAgUmFuZ2UuaXNFbXB0eSA9IGZ1bmN0aW9uIChyYW5nZSkge1xuICAgICAgICByZXR1cm4gKHJhbmdlLnN0YXJ0TGluZU51bWJlciA9PT0gcmFuZ2UuZW5kTGluZU51bWJlciAmJiByYW5nZS5zdGFydENvbHVtbiA9PT0gcmFuZ2UuZW5kQ29sdW1uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgcG9zaXRpb24gaXMgaW4gdGhpcyByYW5nZS4gSWYgdGhlIHBvc2l0aW9uIGlzIGF0IHRoZSBlZGdlcywgd2lsbCByZXR1cm4gdHJ1ZS5cbiAgICAgKi9cbiAgICBSYW5nZS5wcm90b3R5cGUuY29udGFpbnNQb3NpdGlvbiA9IGZ1bmN0aW9uIChwb3NpdGlvbikge1xuICAgICAgICByZXR1cm4gUmFuZ2UuY29udGFpbnNQb3NpdGlvbih0aGlzLCBwb3NpdGlvbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIGBwb3NpdGlvbmAgaXMgaW4gYHJhbmdlYC4gSWYgdGhlIHBvc2l0aW9uIGlzIGF0IHRoZSBlZGdlcywgd2lsbCByZXR1cm4gdHJ1ZS5cbiAgICAgKi9cbiAgICBSYW5nZS5jb250YWluc1Bvc2l0aW9uID0gZnVuY3Rpb24gKHJhbmdlLCBwb3NpdGlvbikge1xuICAgICAgICBpZiAocG9zaXRpb24ubGluZU51bWJlciA8IHJhbmdlLnN0YXJ0TGluZU51bWJlciB8fCBwb3NpdGlvbi5saW5lTnVtYmVyID4gcmFuZ2UuZW5kTGluZU51bWJlcikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwb3NpdGlvbi5saW5lTnVtYmVyID09PSByYW5nZS5zdGFydExpbmVOdW1iZXIgJiYgcG9zaXRpb24uY29sdW1uIDwgcmFuZ2Uuc3RhcnRDb2x1bW4pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9zaXRpb24ubGluZU51bWJlciA9PT0gcmFuZ2UuZW5kTGluZU51bWJlciAmJiBwb3NpdGlvbi5jb2x1bW4gPiByYW5nZS5lbmRDb2x1bW4pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgcmFuZ2UgaXMgaW4gdGhpcyByYW5nZS4gSWYgdGhlIHJhbmdlIGlzIGVxdWFsIHRvIHRoaXMgcmFuZ2UsIHdpbGwgcmV0dXJuIHRydWUuXG4gICAgICovXG4gICAgUmFuZ2UucHJvdG90eXBlLmNvbnRhaW5zUmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIFJhbmdlLmNvbnRhaW5zUmFuZ2UodGhpcywgcmFuZ2UpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGVzdCBpZiBgb3RoZXJSYW5nZWAgaXMgaW4gYHJhbmdlYC4gSWYgdGhlIHJhbmdlcyBhcmUgZXF1YWwsIHdpbGwgcmV0dXJuIHRydWUuXG4gICAgICovXG4gICAgUmFuZ2UuY29udGFpbnNSYW5nZSA9IGZ1bmN0aW9uIChyYW5nZSwgb3RoZXJSYW5nZSkge1xuICAgICAgICBpZiAob3RoZXJSYW5nZS5zdGFydExpbmVOdW1iZXIgPCByYW5nZS5zdGFydExpbmVOdW1iZXIgfHwgb3RoZXJSYW5nZS5lbmRMaW5lTnVtYmVyIDwgcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG90aGVyUmFuZ2Uuc3RhcnRMaW5lTnVtYmVyID4gcmFuZ2UuZW5kTGluZU51bWJlciB8fCBvdGhlclJhbmdlLmVuZExpbmVOdW1iZXIgPiByYW5nZS5lbmRMaW5lTnVtYmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG90aGVyUmFuZ2Uuc3RhcnRMaW5lTnVtYmVyID09PSByYW5nZS5zdGFydExpbmVOdW1iZXIgJiYgb3RoZXJSYW5nZS5zdGFydENvbHVtbiA8IHJhbmdlLnN0YXJ0Q29sdW1uKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG90aGVyUmFuZ2UuZW5kTGluZU51bWJlciA9PT0gcmFuZ2UuZW5kTGluZU51bWJlciAmJiBvdGhlclJhbmdlLmVuZENvbHVtbiA+IHJhbmdlLmVuZENvbHVtbikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQSByZXVuaW9uIG9mIHRoZSB0d28gcmFuZ2VzLlxuICAgICAqIFRoZSBzbWFsbGVzdCBwb3NpdGlvbiB3aWxsIGJlIHVzZWQgYXMgdGhlIHN0YXJ0IHBvaW50LCBhbmQgdGhlIGxhcmdlc3Qgb25lIGFzIHRoZSBlbmQgcG9pbnQuXG4gICAgICovXG4gICAgUmFuZ2UucHJvdG90eXBlLnBsdXNSYW5nZSA9IGZ1bmN0aW9uIChyYW5nZSkge1xuICAgICAgICByZXR1cm4gUmFuZ2UucGx1c1JhbmdlKHRoaXMsIHJhbmdlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEEgcmV1bmlvbiBvZiB0aGUgdHdvIHJhbmdlcy5cbiAgICAgKiBUaGUgc21hbGxlc3QgcG9zaXRpb24gd2lsbCBiZSB1c2VkIGFzIHRoZSBzdGFydCBwb2ludCwgYW5kIHRoZSBsYXJnZXN0IG9uZSBhcyB0aGUgZW5kIHBvaW50LlxuICAgICAqL1xuICAgIFJhbmdlLnBsdXNSYW5nZSA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHZhciBzdGFydExpbmVOdW1iZXI7XG4gICAgICAgIHZhciBzdGFydENvbHVtbjtcbiAgICAgICAgdmFyIGVuZExpbmVOdW1iZXI7XG4gICAgICAgIHZhciBlbmRDb2x1bW47XG4gICAgICAgIGlmIChiLnN0YXJ0TGluZU51bWJlciA8IGEuc3RhcnRMaW5lTnVtYmVyKSB7XG4gICAgICAgICAgICBzdGFydExpbmVOdW1iZXIgPSBiLnN0YXJ0TGluZU51bWJlcjtcbiAgICAgICAgICAgIHN0YXJ0Q29sdW1uID0gYi5zdGFydENvbHVtbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChiLnN0YXJ0TGluZU51bWJlciA9PT0gYS5zdGFydExpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgIHN0YXJ0TGluZU51bWJlciA9IGIuc3RhcnRMaW5lTnVtYmVyO1xuICAgICAgICAgICAgc3RhcnRDb2x1bW4gPSBNYXRoLm1pbihiLnN0YXJ0Q29sdW1uLCBhLnN0YXJ0Q29sdW1uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0YXJ0TGluZU51bWJlciA9IGEuc3RhcnRMaW5lTnVtYmVyO1xuICAgICAgICAgICAgc3RhcnRDb2x1bW4gPSBhLnN0YXJ0Q29sdW1uO1xuICAgICAgICB9XG4gICAgICAgIGlmIChiLmVuZExpbmVOdW1iZXIgPiBhLmVuZExpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgIGVuZExpbmVOdW1iZXIgPSBiLmVuZExpbmVOdW1iZXI7XG4gICAgICAgICAgICBlbmRDb2x1bW4gPSBiLmVuZENvbHVtbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChiLmVuZExpbmVOdW1iZXIgPT09IGEuZW5kTGluZU51bWJlcikge1xuICAgICAgICAgICAgZW5kTGluZU51bWJlciA9IGIuZW5kTGluZU51bWJlcjtcbiAgICAgICAgICAgIGVuZENvbHVtbiA9IE1hdGgubWF4KGIuZW5kQ29sdW1uLCBhLmVuZENvbHVtbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbmRMaW5lTnVtYmVyID0gYS5lbmRMaW5lTnVtYmVyO1xuICAgICAgICAgICAgZW5kQ29sdW1uID0gYS5lbmRDb2x1bW47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShzdGFydExpbmVOdW1iZXIsIHN0YXJ0Q29sdW1uLCBlbmRMaW5lTnVtYmVyLCBlbmRDb2x1bW4pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQSBpbnRlcnNlY3Rpb24gb2YgdGhlIHR3byByYW5nZXMuXG4gICAgICovXG4gICAgUmFuZ2UucHJvdG90eXBlLmludGVyc2VjdFJhbmdlcyA9IGZ1bmN0aW9uIChyYW5nZSkge1xuICAgICAgICByZXR1cm4gUmFuZ2UuaW50ZXJzZWN0UmFuZ2VzKHRoaXMsIHJhbmdlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEEgaW50ZXJzZWN0aW9uIG9mIHRoZSB0d28gcmFuZ2VzLlxuICAgICAqL1xuICAgIFJhbmdlLmludGVyc2VjdFJhbmdlcyA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHZhciByZXN1bHRTdGFydExpbmVOdW1iZXIgPSBhLnN0YXJ0TGluZU51bWJlcjtcbiAgICAgICAgdmFyIHJlc3VsdFN0YXJ0Q29sdW1uID0gYS5zdGFydENvbHVtbjtcbiAgICAgICAgdmFyIHJlc3VsdEVuZExpbmVOdW1iZXIgPSBhLmVuZExpbmVOdW1iZXI7XG4gICAgICAgIHZhciByZXN1bHRFbmRDb2x1bW4gPSBhLmVuZENvbHVtbjtcbiAgICAgICAgdmFyIG90aGVyU3RhcnRMaW5lTnVtYmVyID0gYi5zdGFydExpbmVOdW1iZXI7XG4gICAgICAgIHZhciBvdGhlclN0YXJ0Q29sdW1uID0gYi5zdGFydENvbHVtbjtcbiAgICAgICAgdmFyIG90aGVyRW5kTGluZU51bWJlciA9IGIuZW5kTGluZU51bWJlcjtcbiAgICAgICAgdmFyIG90aGVyRW5kQ29sdW1uID0gYi5lbmRDb2x1bW47XG4gICAgICAgIGlmIChyZXN1bHRTdGFydExpbmVOdW1iZXIgPCBvdGhlclN0YXJ0TGluZU51bWJlcikge1xuICAgICAgICAgICAgcmVzdWx0U3RhcnRMaW5lTnVtYmVyID0gb3RoZXJTdGFydExpbmVOdW1iZXI7XG4gICAgICAgICAgICByZXN1bHRTdGFydENvbHVtbiA9IG90aGVyU3RhcnRDb2x1bW47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmVzdWx0U3RhcnRMaW5lTnVtYmVyID09PSBvdGhlclN0YXJ0TGluZU51bWJlcikge1xuICAgICAgICAgICAgcmVzdWx0U3RhcnRDb2x1bW4gPSBNYXRoLm1heChyZXN1bHRTdGFydENvbHVtbiwgb3RoZXJTdGFydENvbHVtbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdEVuZExpbmVOdW1iZXIgPiBvdGhlckVuZExpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgIHJlc3VsdEVuZExpbmVOdW1iZXIgPSBvdGhlckVuZExpbmVOdW1iZXI7XG4gICAgICAgICAgICByZXN1bHRFbmRDb2x1bW4gPSBvdGhlckVuZENvbHVtbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZXN1bHRFbmRMaW5lTnVtYmVyID09PSBvdGhlckVuZExpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgIHJlc3VsdEVuZENvbHVtbiA9IE1hdGgubWluKHJlc3VsdEVuZENvbHVtbiwgb3RoZXJFbmRDb2x1bW4pO1xuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIGlmIHNlbGVjdGlvbiBpcyBub3cgZW1wdHlcbiAgICAgICAgaWYgKHJlc3VsdFN0YXJ0TGluZU51bWJlciA+IHJlc3VsdEVuZExpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXN1bHRTdGFydExpbmVOdW1iZXIgPT09IHJlc3VsdEVuZExpbmVOdW1iZXIgJiYgcmVzdWx0U3RhcnRDb2x1bW4gPiByZXN1bHRFbmRDb2x1bW4pIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2UocmVzdWx0U3RhcnRMaW5lTnVtYmVyLCByZXN1bHRTdGFydENvbHVtbiwgcmVzdWx0RW5kTGluZU51bWJlciwgcmVzdWx0RW5kQ29sdW1uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgdGhpcyByYW5nZSBlcXVhbHMgb3RoZXIuXG4gICAgICovXG4gICAgUmFuZ2UucHJvdG90eXBlLmVxdWFsc1JhbmdlID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICAgIHJldHVybiBSYW5nZS5lcXVhbHNSYW5nZSh0aGlzLCBvdGhlcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIHJhbmdlIGBhYCBlcXVhbHMgYGJgLlxuICAgICAqL1xuICAgIFJhbmdlLmVxdWFsc1JhbmdlID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuICghIWEgJiZcbiAgICAgICAgICAgICEhYiAmJlxuICAgICAgICAgICAgYS5zdGFydExpbmVOdW1iZXIgPT09IGIuc3RhcnRMaW5lTnVtYmVyICYmXG4gICAgICAgICAgICBhLnN0YXJ0Q29sdW1uID09PSBiLnN0YXJ0Q29sdW1uICYmXG4gICAgICAgICAgICBhLmVuZExpbmVOdW1iZXIgPT09IGIuZW5kTGluZU51bWJlciAmJlxuICAgICAgICAgICAgYS5lbmRDb2x1bW4gPT09IGIuZW5kQ29sdW1uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgZW5kIHBvc2l0aW9uICh3aGljaCB3aWxsIGJlIGFmdGVyIG9yIGVxdWFsIHRvIHRoZSBzdGFydCBwb3NpdGlvbilcbiAgICAgKi9cbiAgICBSYW5nZS5wcm90b3R5cGUuZ2V0RW5kUG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUG9zaXRpb24odGhpcy5lbmRMaW5lTnVtYmVyLCB0aGlzLmVuZENvbHVtbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHN0YXJ0IHBvc2l0aW9uICh3aGljaCB3aWxsIGJlIGJlZm9yZSBvciBlcXVhbCB0byB0aGUgZW5kIHBvc2l0aW9uKVxuICAgICAqL1xuICAgIFJhbmdlLnByb3RvdHlwZS5nZXRTdGFydFBvc2l0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFBvc2l0aW9uKHRoaXMuc3RhcnRMaW5lTnVtYmVyLCB0aGlzLnN0YXJ0Q29sdW1uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSB0byBhIHVzZXIgcHJlc2VudGFibGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxuICAgICAqL1xuICAgIFJhbmdlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICdbJyArIHRoaXMuc3RhcnRMaW5lTnVtYmVyICsgJywnICsgdGhpcy5zdGFydENvbHVtbiArICcgLT4gJyArIHRoaXMuZW5kTGluZU51bWJlciArICcsJyArIHRoaXMuZW5kQ29sdW1uICsgJ10nO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IHJhbmdlIHVzaW5nIHRoaXMgcmFuZ2UncyBzdGFydCBwb3NpdGlvbiwgYW5kIHVzaW5nIGVuZExpbmVOdW1iZXIgYW5kIGVuZENvbHVtbiBhcyB0aGUgZW5kIHBvc2l0aW9uLlxuICAgICAqL1xuICAgIFJhbmdlLnByb3RvdHlwZS5zZXRFbmRQb3NpdGlvbiA9IGZ1bmN0aW9uIChlbmRMaW5lTnVtYmVyLCBlbmRDb2x1bW4pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZSh0aGlzLnN0YXJ0TGluZU51bWJlciwgdGhpcy5zdGFydENvbHVtbiwgZW5kTGluZU51bWJlciwgZW5kQ29sdW1uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyByYW5nZSB1c2luZyB0aGlzIHJhbmdlJ3MgZW5kIHBvc2l0aW9uLCBhbmQgdXNpbmcgc3RhcnRMaW5lTnVtYmVyIGFuZCBzdGFydENvbHVtbiBhcyB0aGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICovXG4gICAgUmFuZ2UucHJvdG90eXBlLnNldFN0YXJ0UG9zaXRpb24gPSBmdW5jdGlvbiAoc3RhcnRMaW5lTnVtYmVyLCBzdGFydENvbHVtbikge1xuICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0TGluZU51bWJlciwgc3RhcnRDb2x1bW4sIHRoaXMuZW5kTGluZU51bWJlciwgdGhpcy5lbmRDb2x1bW4pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGVtcHR5IHJhbmdlIHVzaW5nIHRoaXMgcmFuZ2UncyBzdGFydCBwb3NpdGlvbi5cbiAgICAgKi9cbiAgICBSYW5nZS5wcm90b3R5cGUuY29sbGFwc2VUb1N0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gUmFuZ2UuY29sbGFwc2VUb1N0YXJ0KHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGVtcHR5IHJhbmdlIHVzaW5nIHRoaXMgcmFuZ2UncyBzdGFydCBwb3NpdGlvbi5cbiAgICAgKi9cbiAgICBSYW5nZS5jb2xsYXBzZVRvU3RhcnQgPSBmdW5jdGlvbiAocmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShyYW5nZS5zdGFydExpbmVOdW1iZXIsIHJhbmdlLnN0YXJ0Q29sdW1uLCByYW5nZS5zdGFydExpbmVOdW1iZXIsIHJhbmdlLnN0YXJ0Q29sdW1uKTtcbiAgICB9O1xuICAgIC8vIC0tLVxuICAgIFJhbmdlLmZyb21Qb3NpdGlvbnMgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkge1xuICAgICAgICBpZiAoZW5kID09PSB2b2lkIDApIHsgZW5kID0gc3RhcnQ7IH1cbiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShzdGFydC5saW5lTnVtYmVyLCBzdGFydC5jb2x1bW4sIGVuZC5saW5lTnVtYmVyLCBlbmQuY29sdW1uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIGBSYW5nZWAgZnJvbSBhbiBgSVJhbmdlYC5cbiAgICAgKi9cbiAgICBSYW5nZS5saWZ0ID0gZnVuY3Rpb24gKHJhbmdlKSB7XG4gICAgICAgIGlmICghcmFuZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2UocmFuZ2Uuc3RhcnRMaW5lTnVtYmVyLCByYW5nZS5zdGFydENvbHVtbiwgcmFuZ2UuZW5kTGluZU51bWJlciwgcmFuZ2UuZW5kQ29sdW1uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgYG9iamAgaXMgYW4gYElSYW5nZWAuXG4gICAgICovXG4gICAgUmFuZ2UuaXNJUmFuZ2UgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiAob2JqXG4gICAgICAgICAgICAmJiAodHlwZW9mIG9iai5zdGFydExpbmVOdW1iZXIgPT09ICdudW1iZXInKVxuICAgICAgICAgICAgJiYgKHR5cGVvZiBvYmouc3RhcnRDb2x1bW4gPT09ICdudW1iZXInKVxuICAgICAgICAgICAgJiYgKHR5cGVvZiBvYmouZW5kTGluZU51bWJlciA9PT0gJ251bWJlcicpXG4gICAgICAgICAgICAmJiAodHlwZW9mIG9iai5lbmRDb2x1bW4gPT09ICdudW1iZXInKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIHRoZSB0d28gcmFuZ2VzIGFyZSB0b3VjaGluZyBpbiBhbnkgd2F5LlxuICAgICAqL1xuICAgIFJhbmdlLmFyZUludGVyc2VjdGluZ09yVG91Y2hpbmcgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAvLyBDaGVjayBpZiBgYWAgaXMgYmVmb3JlIGBiYFxuICAgICAgICBpZiAoYS5lbmRMaW5lTnVtYmVyIDwgYi5zdGFydExpbmVOdW1iZXIgfHwgKGEuZW5kTGluZU51bWJlciA9PT0gYi5zdGFydExpbmVOdW1iZXIgJiYgYS5lbmRDb2x1bW4gPCBiLnN0YXJ0Q29sdW1uKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIGlmIGBiYCBpcyBiZWZvcmUgYGFgXG4gICAgICAgIGlmIChiLmVuZExpbmVOdW1iZXIgPCBhLnN0YXJ0TGluZU51bWJlciB8fCAoYi5lbmRMaW5lTnVtYmVyID09PSBhLnN0YXJ0TGluZU51bWJlciAmJiBiLmVuZENvbHVtbiA8IGEuc3RhcnRDb2x1bW4pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlc2UgcmFuZ2VzIG11c3QgaW50ZXJzZWN0XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGVzdCBpZiB0aGUgdHdvIHJhbmdlcyBhcmUgaW50ZXJzZWN0aW5nLiBJZiB0aGUgcmFuZ2VzIGFyZSB0b3VjaGluZyBpdCByZXR1cm5zIHRydWUuXG4gICAgICovXG4gICAgUmFuZ2UuYXJlSW50ZXJzZWN0aW5nID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgYGFgIGlzIGJlZm9yZSBgYmBcbiAgICAgICAgaWYgKGEuZW5kTGluZU51bWJlciA8IGIuc3RhcnRMaW5lTnVtYmVyIHx8IChhLmVuZExpbmVOdW1iZXIgPT09IGIuc3RhcnRMaW5lTnVtYmVyICYmIGEuZW5kQ29sdW1uIDw9IGIuc3RhcnRDb2x1bW4pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgaWYgYGJgIGlzIGJlZm9yZSBgYWBcbiAgICAgICAgaWYgKGIuZW5kTGluZU51bWJlciA8IGEuc3RhcnRMaW5lTnVtYmVyIHx8IChiLmVuZExpbmVOdW1iZXIgPT09IGEuc3RhcnRMaW5lTnVtYmVyICYmIGIuZW5kQ29sdW1uIDw9IGEuc3RhcnRDb2x1bW4pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlc2UgcmFuZ2VzIG11c3QgaW50ZXJzZWN0XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQSBmdW5jdGlvbiB0aGF0IGNvbXBhcmVzIHJhbmdlcywgdXNlZnVsIGZvciBzb3J0aW5nIHJhbmdlc1xuICAgICAqIEl0IHdpbGwgZmlyc3QgY29tcGFyZSByYW5nZXMgb24gdGhlIHN0YXJ0UG9zaXRpb24gYW5kIHRoZW4gb24gdGhlIGVuZFBvc2l0aW9uXG4gICAgICovXG4gICAgUmFuZ2UuY29tcGFyZVJhbmdlc1VzaW5nU3RhcnRzID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgdmFyIGFTdGFydExpbmVOdW1iZXIgPSBhLnN0YXJ0TGluZU51bWJlciB8IDA7XG4gICAgICAgIHZhciBiU3RhcnRMaW5lTnVtYmVyID0gYi5zdGFydExpbmVOdW1iZXIgfCAwO1xuICAgICAgICBpZiAoYVN0YXJ0TGluZU51bWJlciA9PT0gYlN0YXJ0TGluZU51bWJlcikge1xuICAgICAgICAgICAgdmFyIGFTdGFydENvbHVtbiA9IGEuc3RhcnRDb2x1bW4gfCAwO1xuICAgICAgICAgICAgdmFyIGJTdGFydENvbHVtbiA9IGIuc3RhcnRDb2x1bW4gfCAwO1xuICAgICAgICAgICAgaWYgKGFTdGFydENvbHVtbiA9PT0gYlN0YXJ0Q29sdW1uKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFFbmRMaW5lTnVtYmVyID0gYS5lbmRMaW5lTnVtYmVyIHwgMDtcbiAgICAgICAgICAgICAgICB2YXIgYkVuZExpbmVOdW1iZXIgPSBiLmVuZExpbmVOdW1iZXIgfCAwO1xuICAgICAgICAgICAgICAgIGlmIChhRW5kTGluZU51bWJlciA9PT0gYkVuZExpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFFbmRDb2x1bW4gPSBhLmVuZENvbHVtbiB8IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBiRW5kQ29sdW1uID0gYi5lbmRDb2x1bW4gfCAwO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYUVuZENvbHVtbiAtIGJFbmRDb2x1bW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhRW5kTGluZU51bWJlciAtIGJFbmRMaW5lTnVtYmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFTdGFydENvbHVtbiAtIGJTdGFydENvbHVtbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYVN0YXJ0TGluZU51bWJlciAtIGJTdGFydExpbmVOdW1iZXI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBIGZ1bmN0aW9uIHRoYXQgY29tcGFyZXMgcmFuZ2VzLCB1c2VmdWwgZm9yIHNvcnRpbmcgcmFuZ2VzXG4gICAgICogSXQgd2lsbCBmaXJzdCBjb21wYXJlIHJhbmdlcyBvbiB0aGUgZW5kUG9zaXRpb24gYW5kIHRoZW4gb24gdGhlIHN0YXJ0UG9zaXRpb25cbiAgICAgKi9cbiAgICBSYW5nZS5jb21wYXJlUmFuZ2VzVXNpbmdFbmRzID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgaWYgKGEuZW5kTGluZU51bWJlciA9PT0gYi5lbmRMaW5lTnVtYmVyKSB7XG4gICAgICAgICAgICBpZiAoYS5lbmRDb2x1bW4gPT09IGIuZW5kQ29sdW1uKSB7XG4gICAgICAgICAgICAgICAgaWYgKGEuc3RhcnRMaW5lTnVtYmVyID09PSBiLnN0YXJ0TGluZU51bWJlcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5zdGFydENvbHVtbiAtIGIuc3RhcnRDb2x1bW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhLnN0YXJ0TGluZU51bWJlciAtIGIuc3RhcnRMaW5lTnVtYmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGEuZW5kQ29sdW1uIC0gYi5lbmRDb2x1bW47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGEuZW5kTGluZU51bWJlciAtIGIuZW5kTGluZU51bWJlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgdGhlIHJhbmdlIHNwYW5zIG11bHRpcGxlIGxpbmVzLlxuICAgICAqL1xuICAgIFJhbmdlLnNwYW5zTXVsdGlwbGVMaW5lcyA9IGZ1bmN0aW9uIChyYW5nZSkge1xuICAgICAgICByZXR1cm4gcmFuZ2UuZW5kTGluZU51bWJlciA+IHJhbmdlLnN0YXJ0TGluZU51bWJlcjtcbiAgICB9O1xuICAgIHJldHVybiBSYW5nZTtcbn0oKSk7XG5leHBvcnQgeyBSYW5nZSB9O1xuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4ndXNlIHN0cmljdCc7XG4vKipcbiAqIFJlcHJlc2VudHMgaW5mb3JtYXRpb24gYWJvdXQgYSBzcGVjaWZpYyBkaWZmZXJlbmNlIGJldHdlZW4gdHdvIHNlcXVlbmNlcy5cbiAqL1xudmFyIERpZmZDaGFuZ2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0cyBhIG5ldyBEaWZmQ2hhbmdlIHdpdGggdGhlIGdpdmVuIHNlcXVlbmNlIGluZm9ybWF0aW9uXG4gICAgICogYW5kIGNvbnRlbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gRGlmZkNoYW5nZShvcmlnaW5hbFN0YXJ0LCBvcmlnaW5hbExlbmd0aCwgbW9kaWZpZWRTdGFydCwgbW9kaWZpZWRMZW5ndGgpIHtcbiAgICAgICAgLy9EZWJ1Zy5Bc3NlcnQob3JpZ2luYWxMZW5ndGggPiAwIHx8IG1vZGlmaWVkTGVuZ3RoID4gMCwgXCJvcmlnaW5hbExlbmd0aCBhbmQgbW9kaWZpZWRMZW5ndGggY2Fubm90IGJvdGggYmUgPD0gMFwiKTtcbiAgICAgICAgdGhpcy5vcmlnaW5hbFN0YXJ0ID0gb3JpZ2luYWxTdGFydDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbExlbmd0aCA9IG9yaWdpbmFsTGVuZ3RoO1xuICAgICAgICB0aGlzLm1vZGlmaWVkU3RhcnQgPSBtb2RpZmllZFN0YXJ0O1xuICAgICAgICB0aGlzLm1vZGlmaWVkTGVuZ3RoID0gbW9kaWZpZWRMZW5ndGg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBlbmQgcG9pbnQgKGV4Y2x1c2l2ZSkgb2YgdGhlIGNoYW5nZSBpbiB0aGUgb3JpZ2luYWwgc2VxdWVuY2UuXG4gICAgICovXG4gICAgRGlmZkNoYW5nZS5wcm90b3R5cGUuZ2V0T3JpZ2luYWxFbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9yaWdpbmFsU3RhcnQgKyB0aGlzLm9yaWdpbmFsTGVuZ3RoO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhlIGVuZCBwb2ludCAoZXhjbHVzaXZlKSBvZiB0aGUgY2hhbmdlIGluIHRoZSBtb2RpZmllZCBzZXF1ZW5jZS5cbiAgICAgKi9cbiAgICBEaWZmQ2hhbmdlLnByb3RvdHlwZS5nZXRNb2RpZmllZEVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9kaWZpZWRTdGFydCArIHRoaXMubW9kaWZpZWRMZW5ndGg7XG4gICAgfTtcbiAgICByZXR1cm4gRGlmZkNoYW5nZTtcbn0oKSk7XG5leHBvcnQgeyBEaWZmQ2hhbmdlIH07XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IERpZmZDaGFuZ2UgfSBmcm9tICcuL2RpZmZDaGFuZ2UuanMnO1xuZnVuY3Rpb24gY3JlYXRlU3RyaW5nU2VxdWVuY2UoYSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGdldExlbmd0aDogZnVuY3Rpb24gKCkgeyByZXR1cm4gYS5sZW5ndGg7IH0sXG4gICAgICAgIGdldEVsZW1lbnRBdEluZGV4OiBmdW5jdGlvbiAocG9zKSB7IHJldHVybiBhLmNoYXJDb2RlQXQocG9zKTsgfVxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gc3RyaW5nRGlmZihvcmlnaW5hbCwgbW9kaWZpZWQsIHByZXR0eSkge1xuICAgIHJldHVybiBuZXcgTGNzRGlmZihjcmVhdGVTdHJpbmdTZXF1ZW5jZShvcmlnaW5hbCksIGNyZWF0ZVN0cmluZ1NlcXVlbmNlKG1vZGlmaWVkKSkuQ29tcHV0ZURpZmYocHJldHR5KTtcbn1cbi8vXG4vLyBUaGUgY29kZSBiZWxvdyBoYXMgYmVlbiBwb3J0ZWQgZnJvbSBhIEMjIGltcGxlbWVudGF0aW9uIGluIFZTXG4vL1xudmFyIERlYnVnID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERlYnVnKCkge1xuICAgIH1cbiAgICBEZWJ1Zy5Bc3NlcnQgPSBmdW5jdGlvbiAoY29uZGl0aW9uLCBtZXNzYWdlKSB7XG4gICAgICAgIGlmICghY29uZGl0aW9uKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBEZWJ1Zztcbn0oKSk7XG5leHBvcnQgeyBEZWJ1ZyB9O1xudmFyIE15QXJyYXkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTXlBcnJheSgpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29waWVzIGEgcmFuZ2Ugb2YgZWxlbWVudHMgZnJvbSBhbiBBcnJheSBzdGFydGluZyBhdCB0aGUgc3BlY2lmaWVkIHNvdXJjZSBpbmRleCBhbmQgcGFzdGVzXG4gICAgICogdGhlbSB0byBhbm90aGVyIEFycmF5IHN0YXJ0aW5nIGF0IHRoZSBzcGVjaWZpZWQgZGVzdGluYXRpb24gaW5kZXguIFRoZSBsZW5ndGggYW5kIHRoZSBpbmRleGVzXG4gICAgICogYXJlIHNwZWNpZmllZCBhcyA2NC1iaXQgaW50ZWdlcnMuXG4gICAgICogc291cmNlQXJyYXk6XG4gICAgICpcdFx0VGhlIEFycmF5IHRoYXQgY29udGFpbnMgdGhlIGRhdGEgdG8gY29weS5cbiAgICAgKiBzb3VyY2VJbmRleDpcbiAgICAgKlx0XHRBIDY0LWJpdCBpbnRlZ2VyIHRoYXQgcmVwcmVzZW50cyB0aGUgaW5kZXggaW4gdGhlIHNvdXJjZUFycmF5IGF0IHdoaWNoIGNvcHlpbmcgYmVnaW5zLlxuICAgICAqIGRlc3RpbmF0aW9uQXJyYXk6XG4gICAgICpcdFx0VGhlIEFycmF5IHRoYXQgcmVjZWl2ZXMgdGhlIGRhdGEuXG4gICAgICogZGVzdGluYXRpb25JbmRleDpcbiAgICAgKlx0XHRBIDY0LWJpdCBpbnRlZ2VyIHRoYXQgcmVwcmVzZW50cyB0aGUgaW5kZXggaW4gdGhlIGRlc3RpbmF0aW9uQXJyYXkgYXQgd2hpY2ggc3RvcmluZyBiZWdpbnMuXG4gICAgICogbGVuZ3RoOlxuICAgICAqXHRcdEEgNjQtYml0IGludGVnZXIgdGhhdCByZXByZXNlbnRzIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gY29weS5cbiAgICAgKi9cbiAgICBNeUFycmF5LkNvcHkgPSBmdW5jdGlvbiAoc291cmNlQXJyYXksIHNvdXJjZUluZGV4LCBkZXN0aW5hdGlvbkFycmF5LCBkZXN0aW5hdGlvbkluZGV4LCBsZW5ndGgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGVzdGluYXRpb25BcnJheVtkZXN0aW5hdGlvbkluZGV4ICsgaV0gPSBzb3VyY2VBcnJheVtzb3VyY2VJbmRleCArIGldO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTXlBcnJheTtcbn0oKSk7XG5leHBvcnQgeyBNeUFycmF5IH07XG4vLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4vLyBMY3NEaWZmLmNzXG4vL1xuLy8gQW4gaW1wbGVtZW50YXRpb24gb2YgdGhlIGRpZmZlcmVuY2UgYWxnb3JpdGhtIGRlc2NyaWJlZCBpblxuLy8gXCJBbiBPKE5EKSBEaWZmZXJlbmNlIEFsZ29yaXRobSBhbmQgaXRzIHZhcmlhdGlvbnNcIiBieSBFdWdlbmUgVy4gTXllcnNcbi8vXG4vLyBDb3B5cmlnaHQgKEMpIDIwMDggTWljcm9zb2Z0IENvcnBvcmF0aW9uIEBtaW5pZmllcl9kb19ub3RfcHJlc2VydmVcbi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbi8vIE91ciB0b3RhbCBtZW1vcnkgdXNhZ2UgZm9yIHN0b3JpbmcgaGlzdG9yeSBpcyAod29yc3QtY2FzZSk6XG4vLyAyICogWyhNYXhEaWZmZXJlbmNlc0hpc3RvcnkgKyAxKSAqIChNYXhEaWZmZXJlbmNlc0hpc3RvcnkgKyAxKSAtIDFdICogc2l6ZW9mKGludClcbi8vIDIgKiBbMTQ0OCoxNDQ4IC0gMV0gKiA0ID0gMTY3NzM2MjQgPSAxNk1CXG52YXIgTWF4RGlmZmVyZW5jZXNIaXN0b3J5ID0gMTQ0Nztcbi8vbGV0IE1heERpZmZlcmVuY2VzSGlzdG9yeSA9IDEwMDtcbi8qKlxuICogQSB1dGlsaXR5IGNsYXNzIHdoaWNoIGhlbHBzIHRvIGNyZWF0ZSB0aGUgc2V0IG9mIERpZmZDaGFuZ2VzIGZyb21cbiAqIGEgZGlmZmVyZW5jZSBvcGVyYXRpb24uIFRoaXMgY2xhc3MgYWNjZXB0cyBvcmlnaW5hbCBEaWZmRWxlbWVudHMgYW5kXG4gKiBtb2RpZmllZCBEaWZmRWxlbWVudHMgdGhhdCBhcmUgaW52b2x2ZWQgaW4gYSBwYXJ0aWN1bGFyIGNoYW5nZS4gVGhlXG4gKiBNYXJrdE5leHRDaGFuZ2UoKSBtZXRob2QgY2FuIGJlIGNhbGxlZCB0byBtYXJrIHRoZSBzZXBhcmF0aW9uIGJldHdlZW5cbiAqIGRpc3RpbmN0IGNoYW5nZXMuIEF0IHRoZSBlbmQsIHRoZSBDaGFuZ2VzIHByb3BlcnR5IGNhbiBiZSBjYWxsZWQgdG8gcmV0cmlldmVcbiAqIHRoZSBjb25zdHJ1Y3RlZCBjaGFuZ2VzLlxuICovXG52YXIgRGlmZkNoYW5nZUhlbHBlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RzIGEgbmV3IERpZmZDaGFuZ2VIZWxwZXIgZm9yIHRoZSBnaXZlbiBEaWZmU2VxdWVuY2VzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIERpZmZDaGFuZ2VIZWxwZXIoKSB7XG4gICAgICAgIHRoaXMubV9jaGFuZ2VzID0gW107XG4gICAgICAgIHRoaXMubV9vcmlnaW5hbFN0YXJ0ID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgICAgICAgdGhpcy5tX21vZGlmaWVkU3RhcnQgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgICAgICB0aGlzLm1fb3JpZ2luYWxDb3VudCA9IDA7XG4gICAgICAgIHRoaXMubV9tb2RpZmllZENvdW50ID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFya3MgdGhlIGJlZ2lubmluZyBvZiB0aGUgbmV4dCBjaGFuZ2UgaW4gdGhlIHNldCBvZiBkaWZmZXJlbmNlcy5cbiAgICAgKi9cbiAgICBEaWZmQ2hhbmdlSGVscGVyLnByb3RvdHlwZS5NYXJrTmV4dENoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gT25seSBhZGQgdG8gdGhlIGxpc3QgaWYgdGhlcmUgaXMgc29tZXRoaW5nIHRvIGFkZFxuICAgICAgICBpZiAodGhpcy5tX29yaWdpbmFsQ291bnQgPiAwIHx8IHRoaXMubV9tb2RpZmllZENvdW50ID4gMCkge1xuICAgICAgICAgICAgLy8gQWRkIHRoZSBuZXcgY2hhbmdlIHRvIG91ciBsaXN0XG4gICAgICAgICAgICB0aGlzLm1fY2hhbmdlcy5wdXNoKG5ldyBEaWZmQ2hhbmdlKHRoaXMubV9vcmlnaW5hbFN0YXJ0LCB0aGlzLm1fb3JpZ2luYWxDb3VudCwgdGhpcy5tX21vZGlmaWVkU3RhcnQsIHRoaXMubV9tb2RpZmllZENvdW50KSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVzZXQgZm9yIHRoZSBuZXh0IGNoYW5nZVxuICAgICAgICB0aGlzLm1fb3JpZ2luYWxDb3VudCA9IDA7XG4gICAgICAgIHRoaXMubV9tb2RpZmllZENvdW50ID0gMDtcbiAgICAgICAgdGhpcy5tX29yaWdpbmFsU3RhcnQgPSBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgICAgICB0aGlzLm1fbW9kaWZpZWRTdGFydCA9IE51bWJlci5NQVhfVkFMVUU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIHRoZSBvcmlnaW5hbCBlbGVtZW50IGF0IHRoZSBnaXZlbiBwb3NpdGlvbiB0byB0aGUgZWxlbWVudHNcbiAgICAgKiBhZmZlY3RlZCBieSB0aGUgY3VycmVudCBjaGFuZ2UuIFRoZSBtb2RpZmllZCBpbmRleCBnaXZlcyBjb250ZXh0XG4gICAgICogdG8gdGhlIGNoYW5nZSBwb3NpdGlvbiB3aXRoIHJlc3BlY3QgdG8gdGhlIG9yaWdpbmFsIHNlcXVlbmNlLlxuICAgICAqIEBwYXJhbSBvcmlnaW5hbEluZGV4IFRoZSBpbmRleCBvZiB0aGUgb3JpZ2luYWwgZWxlbWVudCB0byBhZGQuXG4gICAgICogQHBhcmFtIG1vZGlmaWVkSW5kZXggVGhlIGluZGV4IG9mIHRoZSBtb2RpZmllZCBlbGVtZW50IHRoYXQgcHJvdmlkZXMgY29ycmVzcG9uZGluZyBwb3NpdGlvbiBpbiB0aGUgbW9kaWZpZWQgc2VxdWVuY2UuXG4gICAgICovXG4gICAgRGlmZkNoYW5nZUhlbHBlci5wcm90b3R5cGUuQWRkT3JpZ2luYWxFbGVtZW50ID0gZnVuY3Rpb24gKG9yaWdpbmFsSW5kZXgsIG1vZGlmaWVkSW5kZXgpIHtcbiAgICAgICAgLy8gVGhlICd0cnVlJyBzdGFydCBpbmRleCBpcyB0aGUgc21hbGxlc3Qgb2YgdGhlIG9uZXMgd2UndmUgc2VlblxuICAgICAgICB0aGlzLm1fb3JpZ2luYWxTdGFydCA9IE1hdGgubWluKHRoaXMubV9vcmlnaW5hbFN0YXJ0LCBvcmlnaW5hbEluZGV4KTtcbiAgICAgICAgdGhpcy5tX21vZGlmaWVkU3RhcnQgPSBNYXRoLm1pbih0aGlzLm1fbW9kaWZpZWRTdGFydCwgbW9kaWZpZWRJbmRleCk7XG4gICAgICAgIHRoaXMubV9vcmlnaW5hbENvdW50Kys7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIHRoZSBtb2RpZmllZCBlbGVtZW50IGF0IHRoZSBnaXZlbiBwb3NpdGlvbiB0byB0aGUgZWxlbWVudHNcbiAgICAgKiBhZmZlY3RlZCBieSB0aGUgY3VycmVudCBjaGFuZ2UuIFRoZSBvcmlnaW5hbCBpbmRleCBnaXZlcyBjb250ZXh0XG4gICAgICogdG8gdGhlIGNoYW5nZSBwb3NpdGlvbiB3aXRoIHJlc3BlY3QgdG8gdGhlIG1vZGlmaWVkIHNlcXVlbmNlLlxuICAgICAqIEBwYXJhbSBvcmlnaW5hbEluZGV4IFRoZSBpbmRleCBvZiB0aGUgb3JpZ2luYWwgZWxlbWVudCB0aGF0IHByb3ZpZGVzIGNvcnJlc3BvbmRpbmcgcG9zaXRpb24gaW4gdGhlIG9yaWdpbmFsIHNlcXVlbmNlLlxuICAgICAqIEBwYXJhbSBtb2RpZmllZEluZGV4IFRoZSBpbmRleCBvZiB0aGUgbW9kaWZpZWQgZWxlbWVudCB0byBhZGQuXG4gICAgICovXG4gICAgRGlmZkNoYW5nZUhlbHBlci5wcm90b3R5cGUuQWRkTW9kaWZpZWRFbGVtZW50ID0gZnVuY3Rpb24gKG9yaWdpbmFsSW5kZXgsIG1vZGlmaWVkSW5kZXgpIHtcbiAgICAgICAgLy8gVGhlICd0cnVlJyBzdGFydCBpbmRleCBpcyB0aGUgc21hbGxlc3Qgb2YgdGhlIG9uZXMgd2UndmUgc2VlblxuICAgICAgICB0aGlzLm1fb3JpZ2luYWxTdGFydCA9IE1hdGgubWluKHRoaXMubV9vcmlnaW5hbFN0YXJ0LCBvcmlnaW5hbEluZGV4KTtcbiAgICAgICAgdGhpcy5tX21vZGlmaWVkU3RhcnQgPSBNYXRoLm1pbih0aGlzLm1fbW9kaWZpZWRTdGFydCwgbW9kaWZpZWRJbmRleCk7XG4gICAgICAgIHRoaXMubV9tb2RpZmllZENvdW50Kys7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYWxsIG9mIHRoZSBjaGFuZ2VzIG1hcmtlZCBieSB0aGUgY2xhc3MuXG4gICAgICovXG4gICAgRGlmZkNoYW5nZUhlbHBlci5wcm90b3R5cGUuZ2V0Q2hhbmdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMubV9vcmlnaW5hbENvdW50ID4gMCB8fCB0aGlzLm1fbW9kaWZpZWRDb3VudCA+IDApIHtcbiAgICAgICAgICAgIC8vIEZpbmlzaCB1cCBvbiB3aGF0ZXZlciBpcyBsZWZ0XG4gICAgICAgICAgICB0aGlzLk1hcmtOZXh0Q2hhbmdlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubV9jaGFuZ2VzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGFsbCBvZiB0aGUgY2hhbmdlcyBtYXJrZWQgYnkgdGhlIGNsYXNzIGluIHRoZSByZXZlcnNlIG9yZGVyXG4gICAgICovXG4gICAgRGlmZkNoYW5nZUhlbHBlci5wcm90b3R5cGUuZ2V0UmV2ZXJzZUNoYW5nZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm1fb3JpZ2luYWxDb3VudCA+IDAgfHwgdGhpcy5tX21vZGlmaWVkQ291bnQgPiAwKSB7XG4gICAgICAgICAgICAvLyBGaW5pc2ggdXAgb24gd2hhdGV2ZXIgaXMgbGVmdFxuICAgICAgICAgICAgdGhpcy5NYXJrTmV4dENoYW5nZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubV9jaGFuZ2VzLnJldmVyc2UoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubV9jaGFuZ2VzO1xuICAgIH07XG4gICAgcmV0dXJuIERpZmZDaGFuZ2VIZWxwZXI7XG59KCkpO1xuLyoqXG4gKiBBbiBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgZGlmZmVyZW5jZSBhbGdvcml0aG0gZGVzY3JpYmVkIGluXG4gKiBcIkFuIE8oTkQpIERpZmZlcmVuY2UgQWxnb3JpdGhtIGFuZCBpdHMgdmFyaWF0aW9uc1wiIGJ5IEV1Z2VuZSBXLiBNeWVyc1xuICovXG52YXIgTGNzRGlmZiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RzIHRoZSBEaWZmRmluZGVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gTGNzRGlmZihvcmlnaW5hbFNlcXVlbmNlLCBuZXdTZXF1ZW5jZSwgY29udGludWVQcm9jZXNzaW5nUHJlZGljYXRlKSB7XG4gICAgICAgIGlmIChjb250aW51ZVByb2Nlc3NpbmdQcmVkaWNhdGUgPT09IHZvaWQgMCkgeyBjb250aW51ZVByb2Nlc3NpbmdQcmVkaWNhdGUgPSBudWxsOyB9XG4gICAgICAgIHRoaXMuT3JpZ2luYWxTZXF1ZW5jZSA9IG9yaWdpbmFsU2VxdWVuY2U7XG4gICAgICAgIHRoaXMuTW9kaWZpZWRTZXF1ZW5jZSA9IG5ld1NlcXVlbmNlO1xuICAgICAgICB0aGlzLkNvbnRpbnVlUHJvY2Vzc2luZ1ByZWRpY2F0ZSA9IGNvbnRpbnVlUHJvY2Vzc2luZ1ByZWRpY2F0ZTtcbiAgICAgICAgdGhpcy5tX2ZvcndhcmRIaXN0b3J5ID0gW107XG4gICAgICAgIHRoaXMubV9yZXZlcnNlSGlzdG9yeSA9IFtdO1xuICAgIH1cbiAgICBMY3NEaWZmLnByb3RvdHlwZS5FbGVtZW50c0FyZUVxdWFsID0gZnVuY3Rpb24gKG9yaWdpbmFsSW5kZXgsIG5ld0luZGV4KSB7XG4gICAgICAgIHJldHVybiAodGhpcy5PcmlnaW5hbFNlcXVlbmNlLmdldEVsZW1lbnRBdEluZGV4KG9yaWdpbmFsSW5kZXgpID09PSB0aGlzLk1vZGlmaWVkU2VxdWVuY2UuZ2V0RWxlbWVudEF0SW5kZXgobmV3SW5kZXgpKTtcbiAgICB9O1xuICAgIExjc0RpZmYucHJvdG90eXBlLk9yaWdpbmFsRWxlbWVudHNBcmVFcXVhbCA9IGZ1bmN0aW9uIChpbmRleDEsIGluZGV4Mikge1xuICAgICAgICByZXR1cm4gKHRoaXMuT3JpZ2luYWxTZXF1ZW5jZS5nZXRFbGVtZW50QXRJbmRleChpbmRleDEpID09PSB0aGlzLk9yaWdpbmFsU2VxdWVuY2UuZ2V0RWxlbWVudEF0SW5kZXgoaW5kZXgyKSk7XG4gICAgfTtcbiAgICBMY3NEaWZmLnByb3RvdHlwZS5Nb2RpZmllZEVsZW1lbnRzQXJlRXF1YWwgPSBmdW5jdGlvbiAoaW5kZXgxLCBpbmRleDIpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLk1vZGlmaWVkU2VxdWVuY2UuZ2V0RWxlbWVudEF0SW5kZXgoaW5kZXgxKSA9PT0gdGhpcy5Nb2RpZmllZFNlcXVlbmNlLmdldEVsZW1lbnRBdEluZGV4KGluZGV4MikpO1xuICAgIH07XG4gICAgTGNzRGlmZi5wcm90b3R5cGUuQ29tcHV0ZURpZmYgPSBmdW5jdGlvbiAocHJldHR5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9Db21wdXRlRGlmZigwLCB0aGlzLk9yaWdpbmFsU2VxdWVuY2UuZ2V0TGVuZ3RoKCkgLSAxLCAwLCB0aGlzLk1vZGlmaWVkU2VxdWVuY2UuZ2V0TGVuZ3RoKCkgLSAxLCBwcmV0dHkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gdGhlIG9yaWdpbmFsIGFuZCBtb2RpZmllZCBpbnB1dFxuICAgICAqIHNlcXVlbmNlcyBvbiB0aGUgYm91bmRlZCByYW5nZS5cbiAgICAgKiBAcmV0dXJucyBBbiBhcnJheSBvZiB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiB0aGUgdHdvIGlucHV0IHNlcXVlbmNlcy5cbiAgICAgKi9cbiAgICBMY3NEaWZmLnByb3RvdHlwZS5fQ29tcHV0ZURpZmYgPSBmdW5jdGlvbiAob3JpZ2luYWxTdGFydCwgb3JpZ2luYWxFbmQsIG1vZGlmaWVkU3RhcnQsIG1vZGlmaWVkRW5kLCBwcmV0dHkpIHtcbiAgICAgICAgdmFyIHF1aXRFYXJseUFyciA9IFtmYWxzZV07XG4gICAgICAgIHZhciBjaGFuZ2VzID0gdGhpcy5Db21wdXRlRGlmZlJlY3Vyc2l2ZShvcmlnaW5hbFN0YXJ0LCBvcmlnaW5hbEVuZCwgbW9kaWZpZWRTdGFydCwgbW9kaWZpZWRFbmQsIHF1aXRFYXJseUFycik7XG4gICAgICAgIGlmIChwcmV0dHkpIHtcbiAgICAgICAgICAgIC8vIFdlIGhhdmUgdG8gY2xlYW4gdXAgdGhlIGNvbXB1dGVkIGRpZmYgdG8gYmUgbW9yZSBpbnR1aXRpdmVcbiAgICAgICAgICAgIC8vIGJ1dCBpdCB0dXJucyBvdXQgdGhpcyBjYW5ub3QgYmUgZG9uZSBjb3JyZWN0bHkgdW50aWwgdGhlIGVudGlyZSBzZXRcbiAgICAgICAgICAgIC8vIG9mIGRpZmZzIGhhdmUgYmVlbiBjb21wdXRlZFxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuU2hpZnRDaGFuZ2VzKGNoYW5nZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGFuZ2VzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJpdmF0ZSBoZWxwZXIgbWV0aG9kIHdoaWNoIGNvbXB1dGVzIHRoZSBkaWZmZXJlbmNlcyBvbiB0aGUgYm91bmRlZCByYW5nZVxuICAgICAqIHJlY3Vyc2l2ZWx5LlxuICAgICAqIEByZXR1cm5zIEFuIGFycmF5IG9mIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIHRoZSB0d28gaW5wdXQgc2VxdWVuY2VzLlxuICAgICAqL1xuICAgIExjc0RpZmYucHJvdG90eXBlLkNvbXB1dGVEaWZmUmVjdXJzaXZlID0gZnVuY3Rpb24gKG9yaWdpbmFsU3RhcnQsIG9yaWdpbmFsRW5kLCBtb2RpZmllZFN0YXJ0LCBtb2RpZmllZEVuZCwgcXVpdEVhcmx5QXJyKSB7XG4gICAgICAgIHF1aXRFYXJseUFyclswXSA9IGZhbHNlO1xuICAgICAgICAvLyBGaW5kIHRoZSBzdGFydCBvZiB0aGUgZGlmZmVyZW5jZXNcbiAgICAgICAgd2hpbGUgKG9yaWdpbmFsU3RhcnQgPD0gb3JpZ2luYWxFbmQgJiYgbW9kaWZpZWRTdGFydCA8PSBtb2RpZmllZEVuZCAmJiB0aGlzLkVsZW1lbnRzQXJlRXF1YWwob3JpZ2luYWxTdGFydCwgbW9kaWZpZWRTdGFydCkpIHtcbiAgICAgICAgICAgIG9yaWdpbmFsU3RhcnQrKztcbiAgICAgICAgICAgIG1vZGlmaWVkU3RhcnQrKztcbiAgICAgICAgfVxuICAgICAgICAvLyBGaW5kIHRoZSBlbmQgb2YgdGhlIGRpZmZlcmVuY2VzXG4gICAgICAgIHdoaWxlIChvcmlnaW5hbEVuZCA+PSBvcmlnaW5hbFN0YXJ0ICYmIG1vZGlmaWVkRW5kID49IG1vZGlmaWVkU3RhcnQgJiYgdGhpcy5FbGVtZW50c0FyZUVxdWFsKG9yaWdpbmFsRW5kLCBtb2RpZmllZEVuZCkpIHtcbiAgICAgICAgICAgIG9yaWdpbmFsRW5kLS07XG4gICAgICAgICAgICBtb2RpZmllZEVuZC0tO1xuICAgICAgICB9XG4gICAgICAgIC8vIEluIHRoZSBzcGVjaWFsIGNhc2Ugd2hlcmUgd2UgZWl0aGVyIGhhdmUgYWxsIGluc2VydGlvbnMgb3IgYWxsIGRlbGV0aW9ucyBvciB0aGUgc2VxdWVuY2VzIGFyZSBpZGVudGljYWxcbiAgICAgICAgaWYgKG9yaWdpbmFsU3RhcnQgPiBvcmlnaW5hbEVuZCB8fCBtb2RpZmllZFN0YXJ0ID4gbW9kaWZpZWRFbmQpIHtcbiAgICAgICAgICAgIHZhciBjaGFuZ2VzID0gdm9pZCAwO1xuICAgICAgICAgICAgaWYgKG1vZGlmaWVkU3RhcnQgPD0gbW9kaWZpZWRFbmQpIHtcbiAgICAgICAgICAgICAgICBEZWJ1Zy5Bc3NlcnQob3JpZ2luYWxTdGFydCA9PT0gb3JpZ2luYWxFbmQgKyAxLCAnb3JpZ2luYWxTdGFydCBzaG91bGQgb25seSBiZSBvbmUgbW9yZSB0aGFuIG9yaWdpbmFsRW5kJyk7XG4gICAgICAgICAgICAgICAgLy8gQWxsIGluc2VydGlvbnNcbiAgICAgICAgICAgICAgICBjaGFuZ2VzID0gW1xuICAgICAgICAgICAgICAgICAgICBuZXcgRGlmZkNoYW5nZShvcmlnaW5hbFN0YXJ0LCAwLCBtb2RpZmllZFN0YXJ0LCBtb2RpZmllZEVuZCAtIG1vZGlmaWVkU3RhcnQgKyAxKVxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChvcmlnaW5hbFN0YXJ0IDw9IG9yaWdpbmFsRW5kKSB7XG4gICAgICAgICAgICAgICAgRGVidWcuQXNzZXJ0KG1vZGlmaWVkU3RhcnQgPT09IG1vZGlmaWVkRW5kICsgMSwgJ21vZGlmaWVkU3RhcnQgc2hvdWxkIG9ubHkgYmUgb25lIG1vcmUgdGhhbiBtb2RpZmllZEVuZCcpO1xuICAgICAgICAgICAgICAgIC8vIEFsbCBkZWxldGlvbnNcbiAgICAgICAgICAgICAgICBjaGFuZ2VzID0gW1xuICAgICAgICAgICAgICAgICAgICBuZXcgRGlmZkNoYW5nZShvcmlnaW5hbFN0YXJ0LCBvcmlnaW5hbEVuZCAtIG9yaWdpbmFsU3RhcnQgKyAxLCBtb2RpZmllZFN0YXJ0LCAwKVxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBEZWJ1Zy5Bc3NlcnQob3JpZ2luYWxTdGFydCA9PT0gb3JpZ2luYWxFbmQgKyAxLCAnb3JpZ2luYWxTdGFydCBzaG91bGQgb25seSBiZSBvbmUgbW9yZSB0aGFuIG9yaWdpbmFsRW5kJyk7XG4gICAgICAgICAgICAgICAgRGVidWcuQXNzZXJ0KG1vZGlmaWVkU3RhcnQgPT09IG1vZGlmaWVkRW5kICsgMSwgJ21vZGlmaWVkU3RhcnQgc2hvdWxkIG9ubHkgYmUgb25lIG1vcmUgdGhhbiBtb2RpZmllZEVuZCcpO1xuICAgICAgICAgICAgICAgIC8vIElkZW50aWNhbCBzZXF1ZW5jZXMgLSBObyBkaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgIGNoYW5nZXMgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjaGFuZ2VzO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoaXMgcHJvYmxlbSBjYW4gYmUgc29sdmVkIHVzaW5nIHRoZSBEaXZpZGUtQW5kLUNvbnF1ZXIgdGVjaG5pcXVlLlxuICAgICAgICB2YXIgbWlkT3JpZ2luYWxBcnIgPSBbMF0sIG1pZE1vZGlmaWVkQXJyID0gWzBdO1xuICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5Db21wdXRlUmVjdXJzaW9uUG9pbnQob3JpZ2luYWxTdGFydCwgb3JpZ2luYWxFbmQsIG1vZGlmaWVkU3RhcnQsIG1vZGlmaWVkRW5kLCBtaWRPcmlnaW5hbEFyciwgbWlkTW9kaWZpZWRBcnIsIHF1aXRFYXJseUFycik7XG4gICAgICAgIHZhciBtaWRPcmlnaW5hbCA9IG1pZE9yaWdpbmFsQXJyWzBdO1xuICAgICAgICB2YXIgbWlkTW9kaWZpZWQgPSBtaWRNb2RpZmllZEFyclswXTtcbiAgICAgICAgaWYgKHJlc3VsdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gUmVzdWx0IGlzIG5vdC1udWxsIHdoZW4gdGhlcmUgd2FzIGVub3VnaCBtZW1vcnkgdG8gY29tcHV0ZSB0aGUgY2hhbmdlcyB3aGlsZVxuICAgICAgICAgICAgLy8gc2VhcmNoaW5nIGZvciB0aGUgcmVjdXJzaW9uIHBvaW50XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFxdWl0RWFybHlBcnJbMF0pIHtcbiAgICAgICAgICAgIC8vIFdlIGNhbiBicmVhayB0aGUgcHJvYmxlbSBkb3duIHJlY3Vyc2l2ZWx5IGJ5IGZpbmRpbmcgdGhlIGNoYW5nZXMgaW4gdGhlXG4gICAgICAgICAgICAvLyBGaXJzdCBIYWxmOiAgIChvcmlnaW5hbFN0YXJ0LCBtb2RpZmllZFN0YXJ0KSB0byAobWlkT3JpZ2luYWwsIG1pZE1vZGlmaWVkKVxuICAgICAgICAgICAgLy8gU2Vjb25kIEhhbGY6ICAobWlkT3JpZ2luYWwgKyAxLCBtaW5Nb2RpZmllZCArIDEpIHRvIChvcmlnaW5hbEVuZCwgbW9kaWZpZWRFbmQpXG4gICAgICAgICAgICAvLyBOT1RFOiBDb21wdXRlRGlmZigpIGlzIGluY2x1c2l2ZSwgdGhlcmVmb3JlIHRoZSBzZWNvbmQgcmFuZ2Ugc3RhcnRzIG9uIHRoZSBuZXh0IHBvaW50XG4gICAgICAgICAgICB2YXIgbGVmdENoYW5nZXMgPSB0aGlzLkNvbXB1dGVEaWZmUmVjdXJzaXZlKG9yaWdpbmFsU3RhcnQsIG1pZE9yaWdpbmFsLCBtb2RpZmllZFN0YXJ0LCBtaWRNb2RpZmllZCwgcXVpdEVhcmx5QXJyKTtcbiAgICAgICAgICAgIHZhciByaWdodENoYW5nZXMgPSBbXTtcbiAgICAgICAgICAgIGlmICghcXVpdEVhcmx5QXJyWzBdKSB7XG4gICAgICAgICAgICAgICAgcmlnaHRDaGFuZ2VzID0gdGhpcy5Db21wdXRlRGlmZlJlY3Vyc2l2ZShtaWRPcmlnaW5hbCArIDEsIG9yaWdpbmFsRW5kLCBtaWRNb2RpZmllZCArIDEsIG1vZGlmaWVkRW5kLCBxdWl0RWFybHlBcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgZGlkJ3QgaGF2ZSB0aW1lIHRvIGZpbmlzaCB0aGUgZmlyc3QgaGFsZiwgc28gd2UgZG9uJ3QgaGF2ZSB0aW1lIHRvIGNvbXB1dGUgdGhpcyBoYWxmLlxuICAgICAgICAgICAgICAgIC8vIENvbnNpZGVyIHRoZSBlbnRpcmUgcmVzdCBvZiB0aGUgc2VxdWVuY2UgZGlmZmVyZW50LlxuICAgICAgICAgICAgICAgIHJpZ2h0Q2hhbmdlcyA9IFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IERpZmZDaGFuZ2UobWlkT3JpZ2luYWwgKyAxLCBvcmlnaW5hbEVuZCAtIChtaWRPcmlnaW5hbCArIDEpICsgMSwgbWlkTW9kaWZpZWQgKyAxLCBtb2RpZmllZEVuZCAtIChtaWRNb2RpZmllZCArIDEpICsgMSlcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuQ29uY2F0ZW5hdGVDaGFuZ2VzKGxlZnRDaGFuZ2VzLCByaWdodENoYW5nZXMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHdlIGhpdCBoZXJlLCB3ZSBxdWl0IGVhcmx5LCBhbmQgc28gY2FuJ3QgcmV0dXJuIGFueXRoaW5nIG1lYW5pbmdmdWxcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIG5ldyBEaWZmQ2hhbmdlKG9yaWdpbmFsU3RhcnQsIG9yaWdpbmFsRW5kIC0gb3JpZ2luYWxTdGFydCArIDEsIG1vZGlmaWVkU3RhcnQsIG1vZGlmaWVkRW5kIC0gbW9kaWZpZWRTdGFydCArIDEpXG4gICAgICAgIF07XG4gICAgfTtcbiAgICBMY3NEaWZmLnByb3RvdHlwZS5XQUxLVFJBQ0UgPSBmdW5jdGlvbiAoZGlhZ29uYWxGb3J3YXJkQmFzZSwgZGlhZ29uYWxGb3J3YXJkU3RhcnQsIGRpYWdvbmFsRm9yd2FyZEVuZCwgZGlhZ29uYWxGb3J3YXJkT2Zmc2V0LCBkaWFnb25hbFJldmVyc2VCYXNlLCBkaWFnb25hbFJldmVyc2VTdGFydCwgZGlhZ29uYWxSZXZlcnNlRW5kLCBkaWFnb25hbFJldmVyc2VPZmZzZXQsIGZvcndhcmRQb2ludHMsIHJldmVyc2VQb2ludHMsIG9yaWdpbmFsSW5kZXgsIG9yaWdpbmFsRW5kLCBtaWRPcmlnaW5hbEFyciwgbW9kaWZpZWRJbmRleCwgbW9kaWZpZWRFbmQsIG1pZE1vZGlmaWVkQXJyLCBkZWx0YUlzRXZlbiwgcXVpdEVhcmx5QXJyKSB7XG4gICAgICAgIHZhciBmb3J3YXJkQ2hhbmdlcyA9IG51bGwsIHJldmVyc2VDaGFuZ2VzID0gbnVsbDtcbiAgICAgICAgLy8gRmlyc3QsIHdhbGsgYmFja3dhcmQgdGhyb3VnaCB0aGUgZm9yd2FyZCBkaWFnb25hbHMgaGlzdG9yeVxuICAgICAgICB2YXIgY2hhbmdlSGVscGVyID0gbmV3IERpZmZDaGFuZ2VIZWxwZXIoKTtcbiAgICAgICAgdmFyIGRpYWdvbmFsTWluID0gZGlhZ29uYWxGb3J3YXJkU3RhcnQ7XG4gICAgICAgIHZhciBkaWFnb25hbE1heCA9IGRpYWdvbmFsRm9yd2FyZEVuZDtcbiAgICAgICAgdmFyIGRpYWdvbmFsUmVsYXRpdmUgPSAobWlkT3JpZ2luYWxBcnJbMF0gLSBtaWRNb2RpZmllZEFyclswXSkgLSBkaWFnb25hbEZvcndhcmRPZmZzZXQ7XG4gICAgICAgIHZhciBsYXN0T3JpZ2luYWxJbmRleCA9IE51bWJlci5NSU5fVkFMVUU7XG4gICAgICAgIHZhciBoaXN0b3J5SW5kZXggPSB0aGlzLm1fZm9yd2FyZEhpc3RvcnkubGVuZ3RoIC0gMTtcbiAgICAgICAgdmFyIGRpYWdvbmFsO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICAvLyBHZXQgdGhlIGRpYWdvbmFsIGluZGV4IGZyb20gdGhlIHJlbGF0aXZlIGRpYWdvbmFsIG51bWJlclxuICAgICAgICAgICAgZGlhZ29uYWwgPSBkaWFnb25hbFJlbGF0aXZlICsgZGlhZ29uYWxGb3J3YXJkQmFzZTtcbiAgICAgICAgICAgIC8vIEZpZ3VyZSBvdXQgd2hlcmUgd2UgY2FtZSBmcm9tXG4gICAgICAgICAgICBpZiAoZGlhZ29uYWwgPT09IGRpYWdvbmFsTWluIHx8IChkaWFnb25hbCA8IGRpYWdvbmFsTWF4ICYmIGZvcndhcmRQb2ludHNbZGlhZ29uYWwgLSAxXSA8IGZvcndhcmRQb2ludHNbZGlhZ29uYWwgKyAxXSkpIHtcbiAgICAgICAgICAgICAgICAvLyBWZXJ0aWNhbCBsaW5lICh0aGUgZWxlbWVudCBpcyBhbiBpbnNlcnQpXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxJbmRleCA9IGZvcndhcmRQb2ludHNbZGlhZ29uYWwgKyAxXTtcbiAgICAgICAgICAgICAgICBtb2RpZmllZEluZGV4ID0gb3JpZ2luYWxJbmRleCAtIGRpYWdvbmFsUmVsYXRpdmUgLSBkaWFnb25hbEZvcndhcmRPZmZzZXQ7XG4gICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsSW5kZXggPCBsYXN0T3JpZ2luYWxJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VIZWxwZXIuTWFya05leHRDaGFuZ2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGFzdE9yaWdpbmFsSW5kZXggPSBvcmlnaW5hbEluZGV4O1xuICAgICAgICAgICAgICAgIGNoYW5nZUhlbHBlci5BZGRNb2RpZmllZEVsZW1lbnQob3JpZ2luYWxJbmRleCArIDEsIG1vZGlmaWVkSW5kZXgpO1xuICAgICAgICAgICAgICAgIGRpYWdvbmFsUmVsYXRpdmUgPSAoZGlhZ29uYWwgKyAxKSAtIGRpYWdvbmFsRm9yd2FyZEJhc2U7IC8vU2V0dXAgZm9yIHRoZSBuZXh0IGl0ZXJhdGlvblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSG9yaXpvbnRhbCBsaW5lICh0aGUgZWxlbWVudCBpcyBhIGRlbGV0aW9uKVxuICAgICAgICAgICAgICAgIG9yaWdpbmFsSW5kZXggPSBmb3J3YXJkUG9pbnRzW2RpYWdvbmFsIC0gMV0gKyAxO1xuICAgICAgICAgICAgICAgIG1vZGlmaWVkSW5kZXggPSBvcmlnaW5hbEluZGV4IC0gZGlhZ29uYWxSZWxhdGl2ZSAtIGRpYWdvbmFsRm9yd2FyZE9mZnNldDtcbiAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxJbmRleCA8IGxhc3RPcmlnaW5hbEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZUhlbHBlci5NYXJrTmV4dENoYW5nZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsYXN0T3JpZ2luYWxJbmRleCA9IG9yaWdpbmFsSW5kZXggLSAxO1xuICAgICAgICAgICAgICAgIGNoYW5nZUhlbHBlci5BZGRPcmlnaW5hbEVsZW1lbnQob3JpZ2luYWxJbmRleCwgbW9kaWZpZWRJbmRleCArIDEpO1xuICAgICAgICAgICAgICAgIGRpYWdvbmFsUmVsYXRpdmUgPSAoZGlhZ29uYWwgLSAxKSAtIGRpYWdvbmFsRm9yd2FyZEJhc2U7IC8vU2V0dXAgZm9yIHRoZSBuZXh0IGl0ZXJhdGlvblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGhpc3RvcnlJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgZm9yd2FyZFBvaW50cyA9IHRoaXMubV9mb3J3YXJkSGlzdG9yeVtoaXN0b3J5SW5kZXhdO1xuICAgICAgICAgICAgICAgIGRpYWdvbmFsRm9yd2FyZEJhc2UgPSBmb3J3YXJkUG9pbnRzWzBdOyAvL1dlIHN0b3JlZCB0aGlzIGluIHRoZSBmaXJzdCBzcG90XG4gICAgICAgICAgICAgICAgZGlhZ29uYWxNaW4gPSAxO1xuICAgICAgICAgICAgICAgIGRpYWdvbmFsTWF4ID0gZm9yd2FyZFBvaW50cy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlICgtLWhpc3RvcnlJbmRleCA+PSAtMSk7XG4gICAgICAgIC8vIElyb25pY2FsbHksIHdlIGdldCB0aGUgZm9yd2FyZCBjaGFuZ2VzIGFzIHRoZSByZXZlcnNlIG9mIHRoZVxuICAgICAgICAvLyBvcmRlciB3ZSBhZGRlZCB0aGVtIHNpbmNlIHdlIHRlY2huaWNhbGx5IGFkZGVkIHRoZW0gYmFja3dhcmRzXG4gICAgICAgIGZvcndhcmRDaGFuZ2VzID0gY2hhbmdlSGVscGVyLmdldFJldmVyc2VDaGFuZ2VzKCk7XG4gICAgICAgIGlmIChxdWl0RWFybHlBcnJbMF0pIHtcbiAgICAgICAgICAgIC8vIFRPRE86IENhbGN1bGF0ZSBhIHBhcnRpYWwgZnJvbSB0aGUgcmV2ZXJzZSBkaWFnb25hbHMuXG4gICAgICAgICAgICAvLyAgICAgICBGb3Igbm93LCBqdXN0IGFzc3VtZSBldmVyeXRoaW5nIGFmdGVyIHRoZSBtaWRPcmlnaW5hbC9taWRNb2RpZmllZCBwb2ludCBpcyBhIGRpZmZcbiAgICAgICAgICAgIHZhciBvcmlnaW5hbFN0YXJ0UG9pbnQgPSBtaWRPcmlnaW5hbEFyclswXSArIDE7XG4gICAgICAgICAgICB2YXIgbW9kaWZpZWRTdGFydFBvaW50ID0gbWlkTW9kaWZpZWRBcnJbMF0gKyAxO1xuICAgICAgICAgICAgaWYgKGZvcndhcmRDaGFuZ2VzICE9PSBudWxsICYmIGZvcndhcmRDaGFuZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgbGFzdEZvcndhcmRDaGFuZ2UgPSBmb3J3YXJkQ2hhbmdlc1tmb3J3YXJkQ2hhbmdlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICBvcmlnaW5hbFN0YXJ0UG9pbnQgPSBNYXRoLm1heChvcmlnaW5hbFN0YXJ0UG9pbnQsIGxhc3RGb3J3YXJkQ2hhbmdlLmdldE9yaWdpbmFsRW5kKCkpO1xuICAgICAgICAgICAgICAgIG1vZGlmaWVkU3RhcnRQb2ludCA9IE1hdGgubWF4KG1vZGlmaWVkU3RhcnRQb2ludCwgbGFzdEZvcndhcmRDaGFuZ2UuZ2V0TW9kaWZpZWRFbmQoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXZlcnNlQ2hhbmdlcyA9IFtcbiAgICAgICAgICAgICAgICBuZXcgRGlmZkNoYW5nZShvcmlnaW5hbFN0YXJ0UG9pbnQsIG9yaWdpbmFsRW5kIC0gb3JpZ2luYWxTdGFydFBvaW50ICsgMSwgbW9kaWZpZWRTdGFydFBvaW50LCBtb2RpZmllZEVuZCAtIG1vZGlmaWVkU3RhcnRQb2ludCArIDEpXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gTm93IHdhbGsgYmFja3dhcmQgdGhyb3VnaCB0aGUgcmV2ZXJzZSBkaWFnb25hbHMgaGlzdG9yeVxuICAgICAgICAgICAgY2hhbmdlSGVscGVyID0gbmV3IERpZmZDaGFuZ2VIZWxwZXIoKTtcbiAgICAgICAgICAgIGRpYWdvbmFsTWluID0gZGlhZ29uYWxSZXZlcnNlU3RhcnQ7XG4gICAgICAgICAgICBkaWFnb25hbE1heCA9IGRpYWdvbmFsUmV2ZXJzZUVuZDtcbiAgICAgICAgICAgIGRpYWdvbmFsUmVsYXRpdmUgPSAobWlkT3JpZ2luYWxBcnJbMF0gLSBtaWRNb2RpZmllZEFyclswXSkgLSBkaWFnb25hbFJldmVyc2VPZmZzZXQ7XG4gICAgICAgICAgICBsYXN0T3JpZ2luYWxJbmRleCA9IE51bWJlci5NQVhfVkFMVUU7XG4gICAgICAgICAgICBoaXN0b3J5SW5kZXggPSAoZGVsdGFJc0V2ZW4pID8gdGhpcy5tX3JldmVyc2VIaXN0b3J5Lmxlbmd0aCAtIDEgOiB0aGlzLm1fcmV2ZXJzZUhpc3RvcnkubGVuZ3RoIC0gMjtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIGRpYWdvbmFsIGluZGV4IGZyb20gdGhlIHJlbGF0aXZlIGRpYWdvbmFsIG51bWJlclxuICAgICAgICAgICAgICAgIGRpYWdvbmFsID0gZGlhZ29uYWxSZWxhdGl2ZSArIGRpYWdvbmFsUmV2ZXJzZUJhc2U7XG4gICAgICAgICAgICAgICAgLy8gRmlndXJlIG91dCB3aGVyZSB3ZSBjYW1lIGZyb21cbiAgICAgICAgICAgICAgICBpZiAoZGlhZ29uYWwgPT09IGRpYWdvbmFsTWluIHx8IChkaWFnb25hbCA8IGRpYWdvbmFsTWF4ICYmIHJldmVyc2VQb2ludHNbZGlhZ29uYWwgLSAxXSA+PSByZXZlcnNlUG9pbnRzW2RpYWdvbmFsICsgMV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEhvcml6b250YWwgbGluZSAodGhlIGVsZW1lbnQgaXMgYSBkZWxldGlvbikpXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsSW5kZXggPSByZXZlcnNlUG9pbnRzW2RpYWdvbmFsICsgMV0gLSAxO1xuICAgICAgICAgICAgICAgICAgICBtb2RpZmllZEluZGV4ID0gb3JpZ2luYWxJbmRleCAtIGRpYWdvbmFsUmVsYXRpdmUgLSBkaWFnb25hbFJldmVyc2VPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbEluZGV4ID4gbGFzdE9yaWdpbmFsSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZUhlbHBlci5NYXJrTmV4dENoYW5nZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxhc3RPcmlnaW5hbEluZGV4ID0gb3JpZ2luYWxJbmRleCArIDE7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZUhlbHBlci5BZGRPcmlnaW5hbEVsZW1lbnQob3JpZ2luYWxJbmRleCArIDEsIG1vZGlmaWVkSW5kZXggKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgZGlhZ29uYWxSZWxhdGl2ZSA9IChkaWFnb25hbCArIDEpIC0gZGlhZ29uYWxSZXZlcnNlQmFzZTsgLy9TZXR1cCBmb3IgdGhlIG5leHQgaXRlcmF0aW9uXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBWZXJ0aWNhbCBsaW5lICh0aGUgZWxlbWVudCBpcyBhbiBpbnNlcnRpb24pXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsSW5kZXggPSByZXZlcnNlUG9pbnRzW2RpYWdvbmFsIC0gMV07XG4gICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkSW5kZXggPSBvcmlnaW5hbEluZGV4IC0gZGlhZ29uYWxSZWxhdGl2ZSAtIGRpYWdvbmFsUmV2ZXJzZU9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsSW5kZXggPiBsYXN0T3JpZ2luYWxJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlSGVscGVyLk1hcmtOZXh0Q2hhbmdlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGFzdE9yaWdpbmFsSW5kZXggPSBvcmlnaW5hbEluZGV4O1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VIZWxwZXIuQWRkTW9kaWZpZWRFbGVtZW50KG9yaWdpbmFsSW5kZXggKyAxLCBtb2RpZmllZEluZGV4ICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGRpYWdvbmFsUmVsYXRpdmUgPSAoZGlhZ29uYWwgLSAxKSAtIGRpYWdvbmFsUmV2ZXJzZUJhc2U7IC8vU2V0dXAgZm9yIHRoZSBuZXh0IGl0ZXJhdGlvblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaGlzdG9yeUluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV2ZXJzZVBvaW50cyA9IHRoaXMubV9yZXZlcnNlSGlzdG9yeVtoaXN0b3J5SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBkaWFnb25hbFJldmVyc2VCYXNlID0gcmV2ZXJzZVBvaW50c1swXTsgLy9XZSBzdG9yZWQgdGhpcyBpbiB0aGUgZmlyc3Qgc3BvdFxuICAgICAgICAgICAgICAgICAgICBkaWFnb25hbE1pbiA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGRpYWdvbmFsTWF4ID0gcmV2ZXJzZVBvaW50cy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gd2hpbGUgKC0taGlzdG9yeUluZGV4ID49IC0xKTtcbiAgICAgICAgICAgIC8vIFRoZXJlIGFyZSBjYXNlcyB3aGVyZSB0aGUgcmV2ZXJzZSBoaXN0b3J5IHdpbGwgZmluZCBkaWZmcyB0aGF0XG4gICAgICAgICAgICAvLyBhcmUgY29ycmVjdCwgYnV0IG5vdCBpbnR1aXRpdmUsIHNvIHdlIG5lZWQgc2hpZnQgdGhlbS5cbiAgICAgICAgICAgIHJldmVyc2VDaGFuZ2VzID0gY2hhbmdlSGVscGVyLmdldENoYW5nZXMoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5Db25jYXRlbmF0ZUNoYW5nZXMoZm9yd2FyZENoYW5nZXMsIHJldmVyc2VDaGFuZ2VzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdpdmVuIHRoZSByYW5nZSB0byBjb21wdXRlIHRoZSBkaWZmIG9uLCB0aGlzIG1ldGhvZCBmaW5kcyB0aGUgcG9pbnQ6XG4gICAgICogKG1pZE9yaWdpbmFsLCBtaWRNb2RpZmllZClcbiAgICAgKiB0aGF0IGV4aXN0cyBpbiB0aGUgbWlkZGxlIG9mIHRoZSBMQ1Mgb2YgdGhlIHR3byBzZXF1ZW5jZXMgYW5kXG4gICAgICogaXMgdGhlIHBvaW50IGF0IHdoaWNoIHRoZSBMQ1MgcHJvYmxlbSBtYXkgYmUgYnJva2VuIGRvd24gcmVjdXJzaXZlbHkuXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCB0cnkgdG8ga2VlcCB0aGUgTENTIHRyYWNlIGluIG1lbW9yeS4gSWYgdGhlIExDUyByZWN1cnNpb25cbiAgICAgKiBwb2ludCBpcyBjYWxjdWxhdGVkIGFuZCB0aGUgZnVsbCB0cmFjZSBpcyBhdmFpbGFibGUgaW4gbWVtb3J5LCB0aGVuIHRoaXMgbWV0aG9kXG4gICAgICogd2lsbCByZXR1cm4gdGhlIGNoYW5nZSBsaXN0LlxuICAgICAqIEBwYXJhbSBvcmlnaW5hbFN0YXJ0IFRoZSBzdGFydCBib3VuZCBvZiB0aGUgb3JpZ2luYWwgc2VxdWVuY2UgcmFuZ2VcbiAgICAgKiBAcGFyYW0gb3JpZ2luYWxFbmQgVGhlIGVuZCBib3VuZCBvZiB0aGUgb3JpZ2luYWwgc2VxdWVuY2UgcmFuZ2VcbiAgICAgKiBAcGFyYW0gbW9kaWZpZWRTdGFydCBUaGUgc3RhcnQgYm91bmQgb2YgdGhlIG1vZGlmaWVkIHNlcXVlbmNlIHJhbmdlXG4gICAgICogQHBhcmFtIG1vZGlmaWVkRW5kIFRoZSBlbmQgYm91bmQgb2YgdGhlIG1vZGlmaWVkIHNlcXVlbmNlIHJhbmdlXG4gICAgICogQHBhcmFtIG1pZE9yaWdpbmFsIFRoZSBtaWRkbGUgcG9pbnQgb2YgdGhlIG9yaWdpbmFsIHNlcXVlbmNlIHJhbmdlXG4gICAgICogQHBhcmFtIG1pZE1vZGlmaWVkIFRoZSBtaWRkbGUgcG9pbnQgb2YgdGhlIG1vZGlmaWVkIHNlcXVlbmNlIHJhbmdlXG4gICAgICogQHJldHVybnMgVGhlIGRpZmYgY2hhbmdlcywgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgbnVsbFxuICAgICAqL1xuICAgIExjc0RpZmYucHJvdG90eXBlLkNvbXB1dGVSZWN1cnNpb25Qb2ludCA9IGZ1bmN0aW9uIChvcmlnaW5hbFN0YXJ0LCBvcmlnaW5hbEVuZCwgbW9kaWZpZWRTdGFydCwgbW9kaWZpZWRFbmQsIG1pZE9yaWdpbmFsQXJyLCBtaWRNb2RpZmllZEFyciwgcXVpdEVhcmx5QXJyKSB7XG4gICAgICAgIHZhciBvcmlnaW5hbEluZGV4LCBtb2RpZmllZEluZGV4O1xuICAgICAgICB2YXIgZGlhZ29uYWxGb3J3YXJkU3RhcnQgPSAwLCBkaWFnb25hbEZvcndhcmRFbmQgPSAwO1xuICAgICAgICB2YXIgZGlhZ29uYWxSZXZlcnNlU3RhcnQgPSAwLCBkaWFnb25hbFJldmVyc2VFbmQgPSAwO1xuICAgICAgICB2YXIgbnVtRGlmZmVyZW5jZXM7XG4gICAgICAgIC8vIFRvIHRyYXZlcnNlIHRoZSBlZGl0IGdyYXBoIGFuZCBwcm9kdWNlIHRoZSBwcm9wZXIgTENTLCBvdXIgYWN0dWFsXG4gICAgICAgIC8vIHN0YXJ0IHBvc2l0aW9uIGlzIGp1c3Qgb3V0c2lkZSB0aGUgZ2l2ZW4gYm91bmRhcnlcbiAgICAgICAgb3JpZ2luYWxTdGFydC0tO1xuICAgICAgICBtb2RpZmllZFN0YXJ0LS07XG4gICAgICAgIC8vIFdlIHNldCB0aGVzZSB1cCB0byBtYWtlIHRoZSBjb21waWxlciBoYXBweSwgYnV0IHRoZXkgd2lsbFxuICAgICAgICAvLyBiZSByZXBsYWNlZCBiZWZvcmUgd2UgcmV0dXJuIHdpdGggdGhlIGFjdHVhbCByZWN1cnNpb24gcG9pbnRcbiAgICAgICAgbWlkT3JpZ2luYWxBcnJbMF0gPSAwO1xuICAgICAgICBtaWRNb2RpZmllZEFyclswXSA9IDA7XG4gICAgICAgIC8vIENsZWFyIG91dCB0aGUgaGlzdG9yeVxuICAgICAgICB0aGlzLm1fZm9yd2FyZEhpc3RvcnkgPSBbXTtcbiAgICAgICAgdGhpcy5tX3JldmVyc2VIaXN0b3J5ID0gW107XG4gICAgICAgIC8vIEVhY2ggY2VsbCBpbiB0aGUgdHdvIGFycmF5cyBjb3JyZXNwb25kcyB0byBhIGRpYWdvbmFsIGluIHRoZSBlZGl0IGdyYXBoLlxuICAgICAgICAvLyBUaGUgaW50ZWdlciB2YWx1ZSBpbiB0aGUgY2VsbCByZXByZXNlbnRzIHRoZSBvcmlnaW5hbEluZGV4IG9mIHRoZSBmdXJ0aGVzdFxuICAgICAgICAvLyByZWFjaGluZyBwb2ludCBmb3VuZCBzbyBmYXIgdGhhdCBlbmRzIGluIHRoYXQgZGlhZ29uYWwuXG4gICAgICAgIC8vIFRoZSBtb2RpZmllZEluZGV4IGNhbiBiZSBjb21wdXRlZCBtYXRoZW1hdGljYWxseSBmcm9tIHRoZSBvcmlnaW5hbEluZGV4IGFuZCB0aGUgZGlhZ29uYWwgbnVtYmVyLlxuICAgICAgICB2YXIgbWF4RGlmZmVyZW5jZXMgPSAob3JpZ2luYWxFbmQgLSBvcmlnaW5hbFN0YXJ0KSArIChtb2RpZmllZEVuZCAtIG1vZGlmaWVkU3RhcnQpO1xuICAgICAgICB2YXIgbnVtRGlhZ29uYWxzID0gbWF4RGlmZmVyZW5jZXMgKyAxO1xuICAgICAgICB2YXIgZm9yd2FyZFBvaW50cyA9IG5ldyBBcnJheShudW1EaWFnb25hbHMpO1xuICAgICAgICB2YXIgcmV2ZXJzZVBvaW50cyA9IG5ldyBBcnJheShudW1EaWFnb25hbHMpO1xuICAgICAgICAvLyBkaWFnb25hbEZvcndhcmRCYXNlOiBJbmRleCBpbnRvIGZvcndhcmRQb2ludHMgb2YgdGhlIGRpYWdvbmFsIHdoaWNoIHBhc3NlcyB0aHJvdWdoIChvcmlnaW5hbFN0YXJ0LCBtb2RpZmllZFN0YXJ0KVxuICAgICAgICAvLyBkaWFnb25hbFJldmVyc2VCYXNlOiBJbmRleCBpbnRvIHJldmVyc2VQb2ludHMgb2YgdGhlIGRpYWdvbmFsIHdoaWNoIHBhc3NlcyB0aHJvdWdoIChvcmlnaW5hbEVuZCwgbW9kaWZpZWRFbmQpXG4gICAgICAgIHZhciBkaWFnb25hbEZvcndhcmRCYXNlID0gKG1vZGlmaWVkRW5kIC0gbW9kaWZpZWRTdGFydCk7XG4gICAgICAgIHZhciBkaWFnb25hbFJldmVyc2VCYXNlID0gKG9yaWdpbmFsRW5kIC0gb3JpZ2luYWxTdGFydCk7XG4gICAgICAgIC8vIGRpYWdvbmFsRm9yd2FyZE9mZnNldDogR2VvbWV0cmljIG9mZnNldCB3aGljaCBhbGxvd3MgbW9kaWZpZWRJbmRleCB0byBiZSBjb21wdXRlZCBmcm9tIG9yaWdpbmFsSW5kZXggYW5kIHRoZVxuICAgICAgICAvLyAgICBkaWFnb25hbCBudW1iZXIgKHJlbGF0aXZlIHRvIGRpYWdvbmFsRm9yd2FyZEJhc2UpXG4gICAgICAgIC8vIGRpYWdvbmFsUmV2ZXJzZU9mZnNldDogR2VvbWV0cmljIG9mZnNldCB3aGljaCBhbGxvd3MgbW9kaWZpZWRJbmRleCB0byBiZSBjb21wdXRlZCBmcm9tIG9yaWdpbmFsSW5kZXggYW5kIHRoZVxuICAgICAgICAvLyAgICBkaWFnb25hbCBudW1iZXIgKHJlbGF0aXZlIHRvIGRpYWdvbmFsUmV2ZXJzZUJhc2UpXG4gICAgICAgIHZhciBkaWFnb25hbEZvcndhcmRPZmZzZXQgPSAob3JpZ2luYWxTdGFydCAtIG1vZGlmaWVkU3RhcnQpO1xuICAgICAgICB2YXIgZGlhZ29uYWxSZXZlcnNlT2Zmc2V0ID0gKG9yaWdpbmFsRW5kIC0gbW9kaWZpZWRFbmQpO1xuICAgICAgICAvLyBkZWx0YTogVGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgZW5kIGRpYWdvbmFsIGFuZCB0aGUgc3RhcnQgZGlhZ29uYWwuIFRoaXMgaXMgdXNlZCB0byByZWxhdGUgZGlhZ29uYWwgbnVtYmVyc1xuICAgICAgICAvLyAgIHJlbGF0aXZlIHRvIHRoZSBzdGFydCBkaWFnb25hbCB3aXRoIGRpYWdvbmFsIG51bWJlcnMgcmVsYXRpdmUgdG8gdGhlIGVuZCBkaWFnb25hbC5cbiAgICAgICAgLy8gVGhlIEV2ZW4vT2Rkbi1uZXNzIG9mIHRoaXMgZGVsdGEgaXMgaW1wb3J0YW50IGZvciBkZXRlcm1pbmluZyB3aGVuIHdlIHNob3VsZCBjaGVjayBmb3Igb3ZlcmxhcFxuICAgICAgICB2YXIgZGVsdGEgPSBkaWFnb25hbFJldmVyc2VCYXNlIC0gZGlhZ29uYWxGb3J3YXJkQmFzZTtcbiAgICAgICAgdmFyIGRlbHRhSXNFdmVuID0gKGRlbHRhICUgMiA9PT0gMCk7XG4gICAgICAgIC8vIEhlcmUgd2Ugc2V0IHVwIHRoZSBzdGFydCBhbmQgZW5kIHBvaW50cyBhcyB0aGUgZnVydGhlc3QgcG9pbnRzIGZvdW5kIHNvIGZhclxuICAgICAgICAvLyBpbiBib3RoIHRoZSBmb3J3YXJkIGFuZCByZXZlcnNlIGRpcmVjdGlvbnMsIHJlc3BlY3RpdmVseVxuICAgICAgICBmb3J3YXJkUG9pbnRzW2RpYWdvbmFsRm9yd2FyZEJhc2VdID0gb3JpZ2luYWxTdGFydDtcbiAgICAgICAgcmV2ZXJzZVBvaW50c1tkaWFnb25hbFJldmVyc2VCYXNlXSA9IG9yaWdpbmFsRW5kO1xuICAgICAgICAvLyBSZW1lbWJlciBpZiB3ZSBxdWl0IGVhcmx5LCBhbmQgdGh1cyBuZWVkIHRvIGRvIGEgYmVzdC1lZmZvcnQgcmVzdWx0IGluc3RlYWQgb2YgYSByZWFsIHJlc3VsdC5cbiAgICAgICAgcXVpdEVhcmx5QXJyWzBdID0gZmFsc2U7XG4gICAgICAgIC8vIEEgY291cGxlIG9mIHBvaW50czpcbiAgICAgICAgLy8gLS1XaXRoIHRoaXMgbWV0aG9kLCB3ZSBpdGVyYXRlIG9uIHRoZSBudW1iZXIgb2YgZGlmZmVyZW5jZXMgYmV0d2VlbiB0aGUgdHdvIHNlcXVlbmNlcy5cbiAgICAgICAgLy8gICBUaGUgbW9yZSBkaWZmZXJlbmNlcyB0aGVyZSBhY3R1YWxseSBhcmUsIHRoZSBsb25nZXIgdGhpcyB3aWxsIHRha2UuXG4gICAgICAgIC8vIC0tQWxzbywgYXMgdGhlIG51bWJlciBvZiBkaWZmZXJlbmNlcyBpbmNyZWFzZXMsIHdlIGhhdmUgdG8gc2VhcmNoIG9uIGRpYWdvbmFscyBmdXJ0aGVyXG4gICAgICAgIC8vICAgYXdheSBmcm9tIHRoZSByZWZlcmVuY2UgZGlhZ29uYWwgKHdoaWNoIGlzIGRpYWdvbmFsRm9yd2FyZEJhc2UgZm9yIGZvcndhcmQsIGRpYWdvbmFsUmV2ZXJzZUJhc2UgZm9yIHJldmVyc2UpLlxuICAgICAgICAvLyAtLVdlIGV4dGVuZCBvbiBldmVuIGRpYWdvbmFscyAocmVsYXRpdmUgdG8gdGhlIHJlZmVyZW5jZSBkaWFnb25hbCkgb25seSB3aGVuIG51bURpZmZlcmVuY2VzXG4gICAgICAgIC8vICAgaXMgZXZlbiBhbmQgb2RkIGRpYWdvbmFscyBvbmx5IHdoZW4gbnVtRGlmZmVyZW5jZXMgaXMgb2RkLlxuICAgICAgICB2YXIgZGlhZ29uYWwsIHRlbXBPcmlnaW5hbEluZGV4O1xuICAgICAgICBmb3IgKG51bURpZmZlcmVuY2VzID0gMTsgbnVtRGlmZmVyZW5jZXMgPD0gKG1heERpZmZlcmVuY2VzIC8gMikgKyAxOyBudW1EaWZmZXJlbmNlcysrKSB7XG4gICAgICAgICAgICB2YXIgZnVydGhlc3RPcmlnaW5hbEluZGV4ID0gMDtcbiAgICAgICAgICAgIHZhciBmdXJ0aGVzdE1vZGlmaWVkSW5kZXggPSAwO1xuICAgICAgICAgICAgLy8gUnVuIHRoZSBhbGdvcml0aG0gaW4gdGhlIGZvcndhcmQgZGlyZWN0aW9uXG4gICAgICAgICAgICBkaWFnb25hbEZvcndhcmRTdGFydCA9IHRoaXMuQ2xpcERpYWdvbmFsQm91bmQoZGlhZ29uYWxGb3J3YXJkQmFzZSAtIG51bURpZmZlcmVuY2VzLCBudW1EaWZmZXJlbmNlcywgZGlhZ29uYWxGb3J3YXJkQmFzZSwgbnVtRGlhZ29uYWxzKTtcbiAgICAgICAgICAgIGRpYWdvbmFsRm9yd2FyZEVuZCA9IHRoaXMuQ2xpcERpYWdvbmFsQm91bmQoZGlhZ29uYWxGb3J3YXJkQmFzZSArIG51bURpZmZlcmVuY2VzLCBudW1EaWZmZXJlbmNlcywgZGlhZ29uYWxGb3J3YXJkQmFzZSwgbnVtRGlhZ29uYWxzKTtcbiAgICAgICAgICAgIGZvciAoZGlhZ29uYWwgPSBkaWFnb25hbEZvcndhcmRTdGFydDsgZGlhZ29uYWwgPD0gZGlhZ29uYWxGb3J3YXJkRW5kOyBkaWFnb25hbCArPSAyKSB7XG4gICAgICAgICAgICAgICAgLy8gU1RFUCAxOiBXZSBleHRlbmQgdGhlIGZ1cnRoZXN0IHJlYWNoaW5nIHBvaW50IGluIHRoZSBwcmVzZW50IGRpYWdvbmFsXG4gICAgICAgICAgICAgICAgLy8gYnkgbG9va2luZyBhdCB0aGUgZGlhZ29uYWxzIGFib3ZlIGFuZCBiZWxvdyBhbmQgcGlja2luZyB0aGUgb25lIHdob3NlIHBvaW50XG4gICAgICAgICAgICAgICAgLy8gaXMgZnVydGhlciBhd2F5IGZyb20gdGhlIHN0YXJ0IHBvaW50IChvcmlnaW5hbFN0YXJ0LCBtb2RpZmllZFN0YXJ0KVxuICAgICAgICAgICAgICAgIGlmIChkaWFnb25hbCA9PT0gZGlhZ29uYWxGb3J3YXJkU3RhcnQgfHwgKGRpYWdvbmFsIDwgZGlhZ29uYWxGb3J3YXJkRW5kICYmIGZvcndhcmRQb2ludHNbZGlhZ29uYWwgLSAxXSA8IGZvcndhcmRQb2ludHNbZGlhZ29uYWwgKyAxXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxJbmRleCA9IGZvcndhcmRQb2ludHNbZGlhZ29uYWwgKyAxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsSW5kZXggPSBmb3J3YXJkUG9pbnRzW2RpYWdvbmFsIC0gMV0gKyAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtb2RpZmllZEluZGV4ID0gb3JpZ2luYWxJbmRleCAtIChkaWFnb25hbCAtIGRpYWdvbmFsRm9yd2FyZEJhc2UpIC0gZGlhZ29uYWxGb3J3YXJkT2Zmc2V0O1xuICAgICAgICAgICAgICAgIC8vIFNhdmUgdGhlIGN1cnJlbnQgb3JpZ2luYWxJbmRleCBzbyB3ZSBjYW4gdGVzdCBmb3IgZmFsc2Ugb3ZlcmxhcCBpbiBzdGVwIDNcbiAgICAgICAgICAgICAgICB0ZW1wT3JpZ2luYWxJbmRleCA9IG9yaWdpbmFsSW5kZXg7XG4gICAgICAgICAgICAgICAgLy8gU1RFUCAyOiBXZSBjYW4gY29udGludWUgdG8gZXh0ZW5kIHRoZSBmdXJ0aGVzdCByZWFjaGluZyBwb2ludCBpbiB0aGUgcHJlc2VudCBkaWFnb25hbFxuICAgICAgICAgICAgICAgIC8vIHNvIGxvbmcgYXMgdGhlIGVsZW1lbnRzIGFyZSBlcXVhbC5cbiAgICAgICAgICAgICAgICB3aGlsZSAob3JpZ2luYWxJbmRleCA8IG9yaWdpbmFsRW5kICYmIG1vZGlmaWVkSW5kZXggPCBtb2RpZmllZEVuZCAmJiB0aGlzLkVsZW1lbnRzQXJlRXF1YWwob3JpZ2luYWxJbmRleCArIDEsIG1vZGlmaWVkSW5kZXggKyAxKSkge1xuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkSW5kZXgrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yd2FyZFBvaW50c1tkaWFnb25hbF0gPSBvcmlnaW5hbEluZGV4O1xuICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbEluZGV4ICsgbW9kaWZpZWRJbmRleCA+IGZ1cnRoZXN0T3JpZ2luYWxJbmRleCArIGZ1cnRoZXN0TW9kaWZpZWRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBmdXJ0aGVzdE9yaWdpbmFsSW5kZXggPSBvcmlnaW5hbEluZGV4O1xuICAgICAgICAgICAgICAgICAgICBmdXJ0aGVzdE1vZGlmaWVkSW5kZXggPSBtb2RpZmllZEluZGV4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTVEVQIDM6IElmIGRlbHRhIGlzIG9kZCAob3ZlcmxhcCBmaXJzdCBoYXBwZW5zIG9uIGZvcndhcmQgd2hlbiBkZWx0YSBpcyBvZGQpXG4gICAgICAgICAgICAgICAgLy8gYW5kIGRpYWdvbmFsIGlzIGluIHRoZSByYW5nZSBvZiByZXZlcnNlIGRpYWdvbmFscyBjb21wdXRlZCBmb3IgbnVtRGlmZmVyZW5jZXMtMVxuICAgICAgICAgICAgICAgIC8vICh0aGUgcHJldmlvdXMgaXRlcmF0aW9uOyB3ZSBoYXZlbid0IGNvbXB1dGVkIHJldmVyc2UgZGlhZ29uYWxzIGZvciBudW1EaWZmZXJlbmNlcyB5ZXQpXG4gICAgICAgICAgICAgICAgLy8gdGhlbiBjaGVjayBmb3Igb3ZlcmxhcC5cbiAgICAgICAgICAgICAgICBpZiAoIWRlbHRhSXNFdmVuICYmIE1hdGguYWJzKGRpYWdvbmFsIC0gZGlhZ29uYWxSZXZlcnNlQmFzZSkgPD0gKG51bURpZmZlcmVuY2VzIC0gMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsSW5kZXggPj0gcmV2ZXJzZVBvaW50c1tkaWFnb25hbF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pZE9yaWdpbmFsQXJyWzBdID0gb3JpZ2luYWxJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pZE1vZGlmaWVkQXJyWzBdID0gbW9kaWZpZWRJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZW1wT3JpZ2luYWxJbmRleCA8PSByZXZlcnNlUG9pbnRzW2RpYWdvbmFsXSAmJiBNYXhEaWZmZXJlbmNlc0hpc3RvcnkgPiAwICYmIG51bURpZmZlcmVuY2VzIDw9IChNYXhEaWZmZXJlbmNlc0hpc3RvcnkgKyAxKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJJTkdPISBXZSBvdmVybGFwcGVkLCBhbmQgd2UgaGF2ZSB0aGUgZnVsbCB0cmFjZSBpbiBtZW1vcnkhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuV0FMS1RSQUNFKGRpYWdvbmFsRm9yd2FyZEJhc2UsIGRpYWdvbmFsRm9yd2FyZFN0YXJ0LCBkaWFnb25hbEZvcndhcmRFbmQsIGRpYWdvbmFsRm9yd2FyZE9mZnNldCwgZGlhZ29uYWxSZXZlcnNlQmFzZSwgZGlhZ29uYWxSZXZlcnNlU3RhcnQsIGRpYWdvbmFsUmV2ZXJzZUVuZCwgZGlhZ29uYWxSZXZlcnNlT2Zmc2V0LCBmb3J3YXJkUG9pbnRzLCByZXZlcnNlUG9pbnRzLCBvcmlnaW5hbEluZGV4LCBvcmlnaW5hbEVuZCwgbWlkT3JpZ2luYWxBcnIsIG1vZGlmaWVkSW5kZXgsIG1vZGlmaWVkRW5kLCBtaWRNb2RpZmllZEFyciwgZGVsdGFJc0V2ZW4sIHF1aXRFYXJseUFycik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBFaXRoZXIgZmFsc2Ugb3ZlcmxhcCwgb3Igd2UgZGlkbid0IGhhdmUgZW5vdWdoIG1lbW9yeSBmb3IgdGhlIGZ1bGwgdHJhY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBKdXN0IHJldHVybiB0aGUgcmVjdXJzaW9uIHBvaW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDaGVjayB0byBzZWUgaWYgd2Ugc2hvdWxkIGJlIHF1aXR0aW5nIGVhcmx5LCBiZWZvcmUgbW92aW5nIG9uIHRvIHRoZSBuZXh0IGl0ZXJhdGlvbi5cbiAgICAgICAgICAgIHZhciBtYXRjaExlbmd0aE9mTG9uZ2VzdCA9ICgoZnVydGhlc3RPcmlnaW5hbEluZGV4IC0gb3JpZ2luYWxTdGFydCkgKyAoZnVydGhlc3RNb2RpZmllZEluZGV4IC0gbW9kaWZpZWRTdGFydCkgLSBudW1EaWZmZXJlbmNlcykgLyAyO1xuICAgICAgICAgICAgaWYgKHRoaXMuQ29udGludWVQcm9jZXNzaW5nUHJlZGljYXRlICE9PSBudWxsICYmICF0aGlzLkNvbnRpbnVlUHJvY2Vzc2luZ1ByZWRpY2F0ZShmdXJ0aGVzdE9yaWdpbmFsSW5kZXgsIHRoaXMuT3JpZ2luYWxTZXF1ZW5jZSwgbWF0Y2hMZW5ndGhPZkxvbmdlc3QpKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgY2FuJ3QgZmluaXNoLCBzbyBza2lwIGFoZWFkIHRvIGdlbmVyYXRpbmcgYSByZXN1bHQgZnJvbSB3aGF0IHdlIGhhdmUuXG4gICAgICAgICAgICAgICAgcXVpdEVhcmx5QXJyWzBdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyBVc2UgdGhlIGZ1cnRoZXN0IGRpc3RhbmNlIHdlIGdvdCBpbiB0aGUgZm9yd2FyZCBkaXJlY3Rpb24uXG4gICAgICAgICAgICAgICAgbWlkT3JpZ2luYWxBcnJbMF0gPSBmdXJ0aGVzdE9yaWdpbmFsSW5kZXg7XG4gICAgICAgICAgICAgICAgbWlkTW9kaWZpZWRBcnJbMF0gPSBmdXJ0aGVzdE1vZGlmaWVkSW5kZXg7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoTGVuZ3RoT2ZMb25nZXN0ID4gMCAmJiBNYXhEaWZmZXJlbmNlc0hpc3RvcnkgPiAwICYmIG51bURpZmZlcmVuY2VzIDw9IChNYXhEaWZmZXJlbmNlc0hpc3RvcnkgKyAxKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBFbm91Z2ggb2YgdGhlIGhpc3RvcnkgaXMgaW4gbWVtb3J5IHRvIHdhbGsgaXQgYmFja3dhcmRzXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLldBTEtUUkFDRShkaWFnb25hbEZvcndhcmRCYXNlLCBkaWFnb25hbEZvcndhcmRTdGFydCwgZGlhZ29uYWxGb3J3YXJkRW5kLCBkaWFnb25hbEZvcndhcmRPZmZzZXQsIGRpYWdvbmFsUmV2ZXJzZUJhc2UsIGRpYWdvbmFsUmV2ZXJzZVN0YXJ0LCBkaWFnb25hbFJldmVyc2VFbmQsIGRpYWdvbmFsUmV2ZXJzZU9mZnNldCwgZm9yd2FyZFBvaW50cywgcmV2ZXJzZVBvaW50cywgb3JpZ2luYWxJbmRleCwgb3JpZ2luYWxFbmQsIG1pZE9yaWdpbmFsQXJyLCBtb2RpZmllZEluZGV4LCBtb2RpZmllZEVuZCwgbWlkTW9kaWZpZWRBcnIsIGRlbHRhSXNFdmVuLCBxdWl0RWFybHlBcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgZGlkbid0IGFjdHVhbGx5IHJlbWVtYmVyIGVub3VnaCBvZiB0aGUgaGlzdG9yeS5cbiAgICAgICAgICAgICAgICAgICAgLy9TaW5jZSB3ZSBhcmUgcXVpdGluZyB0aGUgZGlmZiBlYXJseSwgd2UgbmVlZCB0byBzaGlmdCBiYWNrIHRoZSBvcmlnaW5hbFN0YXJ0IGFuZCBtb2RpZmllZCBzdGFydFxuICAgICAgICAgICAgICAgICAgICAvL2JhY2sgaW50byB0aGUgYm91bmRhcnkgbGltaXRzIHNpbmNlIHdlIGRlY3JlbWVudGVkIHRoZWlyIHZhbHVlIGFib3ZlIGJleW9uZCB0aGUgYm91bmRhcnkgbGltaXQuXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsU3RhcnQrKztcbiAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRTdGFydCsrO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IERpZmZDaGFuZ2Uob3JpZ2luYWxTdGFydCwgb3JpZ2luYWxFbmQgLSBvcmlnaW5hbFN0YXJ0ICsgMSwgbW9kaWZpZWRTdGFydCwgbW9kaWZpZWRFbmQgLSBtb2RpZmllZFN0YXJ0ICsgMSlcbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSdW4gdGhlIGFsZ29yaXRobSBpbiB0aGUgcmV2ZXJzZSBkaXJlY3Rpb25cbiAgICAgICAgICAgIGRpYWdvbmFsUmV2ZXJzZVN0YXJ0ID0gdGhpcy5DbGlwRGlhZ29uYWxCb3VuZChkaWFnb25hbFJldmVyc2VCYXNlIC0gbnVtRGlmZmVyZW5jZXMsIG51bURpZmZlcmVuY2VzLCBkaWFnb25hbFJldmVyc2VCYXNlLCBudW1EaWFnb25hbHMpO1xuICAgICAgICAgICAgZGlhZ29uYWxSZXZlcnNlRW5kID0gdGhpcy5DbGlwRGlhZ29uYWxCb3VuZChkaWFnb25hbFJldmVyc2VCYXNlICsgbnVtRGlmZmVyZW5jZXMsIG51bURpZmZlcmVuY2VzLCBkaWFnb25hbFJldmVyc2VCYXNlLCBudW1EaWFnb25hbHMpO1xuICAgICAgICAgICAgZm9yIChkaWFnb25hbCA9IGRpYWdvbmFsUmV2ZXJzZVN0YXJ0OyBkaWFnb25hbCA8PSBkaWFnb25hbFJldmVyc2VFbmQ7IGRpYWdvbmFsICs9IDIpIHtcbiAgICAgICAgICAgICAgICAvLyBTVEVQIDE6IFdlIGV4dGVuZCB0aGUgZnVydGhlc3QgcmVhY2hpbmcgcG9pbnQgaW4gdGhlIHByZXNlbnQgZGlhZ29uYWxcbiAgICAgICAgICAgICAgICAvLyBieSBsb29raW5nIGF0IHRoZSBkaWFnb25hbHMgYWJvdmUgYW5kIGJlbG93IGFuZCBwaWNraW5nIHRoZSBvbmUgd2hvc2UgcG9pbnRcbiAgICAgICAgICAgICAgICAvLyBpcyBmdXJ0aGVyIGF3YXkgZnJvbSB0aGUgc3RhcnQgcG9pbnQgKG9yaWdpbmFsRW5kLCBtb2RpZmllZEVuZClcbiAgICAgICAgICAgICAgICBpZiAoZGlhZ29uYWwgPT09IGRpYWdvbmFsUmV2ZXJzZVN0YXJ0IHx8IChkaWFnb25hbCA8IGRpYWdvbmFsUmV2ZXJzZUVuZCAmJiByZXZlcnNlUG9pbnRzW2RpYWdvbmFsIC0gMV0gPj0gcmV2ZXJzZVBvaW50c1tkaWFnb25hbCArIDFdKSkge1xuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEluZGV4ID0gcmV2ZXJzZVBvaW50c1tkaWFnb25hbCArIDFdIC0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsSW5kZXggPSByZXZlcnNlUG9pbnRzW2RpYWdvbmFsIC0gMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1vZGlmaWVkSW5kZXggPSBvcmlnaW5hbEluZGV4IC0gKGRpYWdvbmFsIC0gZGlhZ29uYWxSZXZlcnNlQmFzZSkgLSBkaWFnb25hbFJldmVyc2VPZmZzZXQ7XG4gICAgICAgICAgICAgICAgLy8gU2F2ZSB0aGUgY3VycmVudCBvcmlnaW5hbEluZGV4IHNvIHdlIGNhbiB0ZXN0IGZvciBmYWxzZSBvdmVybGFwXG4gICAgICAgICAgICAgICAgdGVtcE9yaWdpbmFsSW5kZXggPSBvcmlnaW5hbEluZGV4O1xuICAgICAgICAgICAgICAgIC8vIFNURVAgMjogV2UgY2FuIGNvbnRpbnVlIHRvIGV4dGVuZCB0aGUgZnVydGhlc3QgcmVhY2hpbmcgcG9pbnQgaW4gdGhlIHByZXNlbnQgZGlhZ29uYWxcbiAgICAgICAgICAgICAgICAvLyBhcyBsb25nIGFzIHRoZSBlbGVtZW50cyBhcmUgZXF1YWwuXG4gICAgICAgICAgICAgICAgd2hpbGUgKG9yaWdpbmFsSW5kZXggPiBvcmlnaW5hbFN0YXJ0ICYmIG1vZGlmaWVkSW5kZXggPiBtb2RpZmllZFN0YXJ0ICYmIHRoaXMuRWxlbWVudHNBcmVFcXVhbChvcmlnaW5hbEluZGV4LCBtb2RpZmllZEluZGV4KSkge1xuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEluZGV4LS07XG4gICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkSW5kZXgtLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV2ZXJzZVBvaW50c1tkaWFnb25hbF0gPSBvcmlnaW5hbEluZGV4O1xuICAgICAgICAgICAgICAgIC8vIFNURVAgNDogSWYgZGVsdGEgaXMgZXZlbiAob3ZlcmxhcCBmaXJzdCBoYXBwZW5zIG9uIHJldmVyc2Ugd2hlbiBkZWx0YSBpcyBldmVuKVxuICAgICAgICAgICAgICAgIC8vIGFuZCBkaWFnb25hbCBpcyBpbiB0aGUgcmFuZ2Ugb2YgZm9yd2FyZCBkaWFnb25hbHMgY29tcHV0ZWQgZm9yIG51bURpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgLy8gdGhlbiBjaGVjayBmb3Igb3ZlcmxhcC5cbiAgICAgICAgICAgICAgICBpZiAoZGVsdGFJc0V2ZW4gJiYgTWF0aC5hYnMoZGlhZ29uYWwgLSBkaWFnb25hbEZvcndhcmRCYXNlKSA8PSBudW1EaWZmZXJlbmNlcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxJbmRleCA8PSBmb3J3YXJkUG9pbnRzW2RpYWdvbmFsXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWlkT3JpZ2luYWxBcnJbMF0gPSBvcmlnaW5hbEluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgbWlkTW9kaWZpZWRBcnJbMF0gPSBtb2RpZmllZEluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXBPcmlnaW5hbEluZGV4ID49IGZvcndhcmRQb2ludHNbZGlhZ29uYWxdICYmIE1heERpZmZlcmVuY2VzSGlzdG9yeSA+IDAgJiYgbnVtRGlmZmVyZW5jZXMgPD0gKE1heERpZmZlcmVuY2VzSGlzdG9yeSArIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQklOR08hIFdlIG92ZXJsYXBwZWQsIGFuZCB3ZSBoYXZlIHRoZSBmdWxsIHRyYWNlIGluIG1lbW9yeSFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5XQUxLVFJBQ0UoZGlhZ29uYWxGb3J3YXJkQmFzZSwgZGlhZ29uYWxGb3J3YXJkU3RhcnQsIGRpYWdvbmFsRm9yd2FyZEVuZCwgZGlhZ29uYWxGb3J3YXJkT2Zmc2V0LCBkaWFnb25hbFJldmVyc2VCYXNlLCBkaWFnb25hbFJldmVyc2VTdGFydCwgZGlhZ29uYWxSZXZlcnNlRW5kLCBkaWFnb25hbFJldmVyc2VPZmZzZXQsIGZvcndhcmRQb2ludHMsIHJldmVyc2VQb2ludHMsIG9yaWdpbmFsSW5kZXgsIG9yaWdpbmFsRW5kLCBtaWRPcmlnaW5hbEFyciwgbW9kaWZpZWRJbmRleCwgbW9kaWZpZWRFbmQsIG1pZE1vZGlmaWVkQXJyLCBkZWx0YUlzRXZlbiwgcXVpdEVhcmx5QXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVpdGhlciBmYWxzZSBvdmVybGFwLCBvciB3ZSBkaWRuJ3QgaGF2ZSBlbm91Z2ggbWVtb3J5IGZvciB0aGUgZnVsbCB0cmFjZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEp1c3QgcmV0dXJuIHRoZSByZWN1cnNpb24gcG9pbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNhdmUgY3VycmVudCB2ZWN0b3JzIHRvIGhpc3RvcnkgYmVmb3JlIHRoZSBuZXh0IGl0ZXJhdGlvblxuICAgICAgICAgICAgaWYgKG51bURpZmZlcmVuY2VzIDw9IE1heERpZmZlcmVuY2VzSGlzdG9yeSkge1xuICAgICAgICAgICAgICAgIC8vIFdlIGFyZSBhbGxvY2F0aW5nIHNwYWNlIGZvciBvbmUgZXh0cmEgaW50LCB3aGljaCB3ZSBmaWxsIHdpdGhcbiAgICAgICAgICAgICAgICAvLyB0aGUgaW5kZXggb2YgdGhlIGRpYWdvbmFsIGJhc2UgaW5kZXhcbiAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IG5ldyBBcnJheShkaWFnb25hbEZvcndhcmRFbmQgLSBkaWFnb25hbEZvcndhcmRTdGFydCArIDIpO1xuICAgICAgICAgICAgICAgIHRlbXBbMF0gPSBkaWFnb25hbEZvcndhcmRCYXNlIC0gZGlhZ29uYWxGb3J3YXJkU3RhcnQgKyAxO1xuICAgICAgICAgICAgICAgIE15QXJyYXkuQ29weShmb3J3YXJkUG9pbnRzLCBkaWFnb25hbEZvcndhcmRTdGFydCwgdGVtcCwgMSwgZGlhZ29uYWxGb3J3YXJkRW5kIC0gZGlhZ29uYWxGb3J3YXJkU3RhcnQgKyAxKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1fZm9yd2FyZEhpc3RvcnkucHVzaCh0ZW1wKTtcbiAgICAgICAgICAgICAgICB0ZW1wID0gbmV3IEFycmF5KGRpYWdvbmFsUmV2ZXJzZUVuZCAtIGRpYWdvbmFsUmV2ZXJzZVN0YXJ0ICsgMik7XG4gICAgICAgICAgICAgICAgdGVtcFswXSA9IGRpYWdvbmFsUmV2ZXJzZUJhc2UgLSBkaWFnb25hbFJldmVyc2VTdGFydCArIDE7XG4gICAgICAgICAgICAgICAgTXlBcnJheS5Db3B5KHJldmVyc2VQb2ludHMsIGRpYWdvbmFsUmV2ZXJzZVN0YXJ0LCB0ZW1wLCAxLCBkaWFnb25hbFJldmVyc2VFbmQgLSBkaWFnb25hbFJldmVyc2VTdGFydCArIDEpO1xuICAgICAgICAgICAgICAgIHRoaXMubV9yZXZlcnNlSGlzdG9yeS5wdXNoKHRlbXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIElmIHdlIGdvdCBoZXJlLCB0aGVuIHdlIGhhdmUgdGhlIGZ1bGwgdHJhY2UgaW4gaGlzdG9yeS4gV2UganVzdCBoYXZlIHRvIGNvbnZlcnQgaXQgdG8gYSBjaGFuZ2UgbGlzdFxuICAgICAgICAvLyBOT1RFOiBUaGlzIHBhcnQgaXMgYSBiaXQgbWVzc3lcbiAgICAgICAgcmV0dXJuIHRoaXMuV0FMS1RSQUNFKGRpYWdvbmFsRm9yd2FyZEJhc2UsIGRpYWdvbmFsRm9yd2FyZFN0YXJ0LCBkaWFnb25hbEZvcndhcmRFbmQsIGRpYWdvbmFsRm9yd2FyZE9mZnNldCwgZGlhZ29uYWxSZXZlcnNlQmFzZSwgZGlhZ29uYWxSZXZlcnNlU3RhcnQsIGRpYWdvbmFsUmV2ZXJzZUVuZCwgZGlhZ29uYWxSZXZlcnNlT2Zmc2V0LCBmb3J3YXJkUG9pbnRzLCByZXZlcnNlUG9pbnRzLCBvcmlnaW5hbEluZGV4LCBvcmlnaW5hbEVuZCwgbWlkT3JpZ2luYWxBcnIsIG1vZGlmaWVkSW5kZXgsIG1vZGlmaWVkRW5kLCBtaWRNb2RpZmllZEFyciwgZGVsdGFJc0V2ZW4sIHF1aXRFYXJseUFycik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTaGlmdHMgdGhlIGdpdmVuIGNoYW5nZXMgdG8gcHJvdmlkZSBhIG1vcmUgaW50dWl0aXZlIGRpZmYuXG4gICAgICogV2hpbGUgdGhlIGZpcnN0IGVsZW1lbnQgaW4gYSBkaWZmIG1hdGNoZXMgdGhlIGZpcnN0IGVsZW1lbnQgYWZ0ZXIgdGhlIGRpZmYsXG4gICAgICogd2Ugc2hpZnQgdGhlIGRpZmYgZG93bi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjaGFuZ2VzIFRoZSBsaXN0IG9mIGNoYW5nZXMgdG8gc2hpZnRcbiAgICAgKiBAcmV0dXJucyBUaGUgc2hpZnRlZCBjaGFuZ2VzXG4gICAgICovXG4gICAgTGNzRGlmZi5wcm90b3R5cGUuU2hpZnRDaGFuZ2VzID0gZnVuY3Rpb24gKGNoYW5nZXMpIHtcbiAgICAgICAgdmFyIG1lcmdlZERpZmZzO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBtZXJnZWREaWZmcyA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gU2hpZnQgYWxsIHRoZSBjaGFuZ2VzIGRvd24gZmlyc3RcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBjaGFuZ2UgPSBjaGFuZ2VzW2ldO1xuICAgICAgICAgICAgICAgIHZhciBvcmlnaW5hbFN0b3AgPSAoaSA8IGNoYW5nZXMubGVuZ3RoIC0gMSkgPyBjaGFuZ2VzW2kgKyAxXS5vcmlnaW5hbFN0YXJ0IDogdGhpcy5PcmlnaW5hbFNlcXVlbmNlLmdldExlbmd0aCgpO1xuICAgICAgICAgICAgICAgIHZhciBtb2RpZmllZFN0b3AgPSAoaSA8IGNoYW5nZXMubGVuZ3RoIC0gMSkgPyBjaGFuZ2VzW2kgKyAxXS5tb2RpZmllZFN0YXJ0IDogdGhpcy5Nb2RpZmllZFNlcXVlbmNlLmdldExlbmd0aCgpO1xuICAgICAgICAgICAgICAgIHZhciBjaGVja09yaWdpbmFsID0gY2hhbmdlLm9yaWdpbmFsTGVuZ3RoID4gMDtcbiAgICAgICAgICAgICAgICB2YXIgY2hlY2tNb2RpZmllZCA9IGNoYW5nZS5tb2RpZmllZExlbmd0aCA+IDA7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGNoYW5nZS5vcmlnaW5hbFN0YXJ0ICsgY2hhbmdlLm9yaWdpbmFsTGVuZ3RoIDwgb3JpZ2luYWxTdG9wICYmXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZS5tb2RpZmllZFN0YXJ0ICsgY2hhbmdlLm1vZGlmaWVkTGVuZ3RoIDwgbW9kaWZpZWRTdG9wICYmXG4gICAgICAgICAgICAgICAgICAgICghY2hlY2tPcmlnaW5hbCB8fCB0aGlzLk9yaWdpbmFsRWxlbWVudHNBcmVFcXVhbChjaGFuZ2Uub3JpZ2luYWxTdGFydCwgY2hhbmdlLm9yaWdpbmFsU3RhcnQgKyBjaGFuZ2Uub3JpZ2luYWxMZW5ndGgpKSAmJlxuICAgICAgICAgICAgICAgICAgICAoIWNoZWNrTW9kaWZpZWQgfHwgdGhpcy5Nb2RpZmllZEVsZW1lbnRzQXJlRXF1YWwoY2hhbmdlLm1vZGlmaWVkU3RhcnQsIGNoYW5nZS5tb2RpZmllZFN0YXJ0ICsgY2hhbmdlLm1vZGlmaWVkTGVuZ3RoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlLm9yaWdpbmFsU3RhcnQrKztcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlLm1vZGlmaWVkU3RhcnQrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBCdWlsZCB1cCB0aGUgbmV3IGxpc3QgKHdlIGhhdmUgdG8gYnVpbGQgYSBuZXcgbGlzdCBiZWNhdXNlIHdlXG4gICAgICAgICAgICAvLyBtaWdodCBoYXZlIGNoYW5nZXMgd2UgY2FuIG1lcmdlIHRvZ2V0aGVyIG5vdylcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAgIHZhciBtZXJnZWRDaGFuZ2VBcnIgPSBbbnVsbF07XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaSA8IGNoYW5nZXMubGVuZ3RoIC0gMSAmJiB0aGlzLkNoYW5nZXNPdmVybGFwKGNoYW5nZXNbaV0sIGNoYW5nZXNbaSArIDFdLCBtZXJnZWRDaGFuZ2VBcnIpKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lcmdlZERpZmZzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobWVyZ2VkQ2hhbmdlQXJyWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY2hhbmdlc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hhbmdlcyA9IHJlc3VsdDtcbiAgICAgICAgfSB3aGlsZSAobWVyZ2VkRGlmZnMpO1xuICAgICAgICAvLyBTaGlmdCBjaGFuZ2VzIGJhY2sgdXAgdW50aWwgd2UgaGl0IGVtcHR5IG9yIHdoaXRlc3BhY2Utb25seSBsaW5lc1xuICAgICAgICBmb3IgKHZhciBpID0gY2hhbmdlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgdmFyIGNoYW5nZSA9IGNoYW5nZXNbaV07XG4gICAgICAgICAgICB2YXIgb3JpZ2luYWxTdG9wID0gMDtcbiAgICAgICAgICAgIHZhciBtb2RpZmllZFN0b3AgPSAwO1xuICAgICAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHByZXZDaGFuZ2UgPSBjaGFuZ2VzW2kgLSAxXTtcbiAgICAgICAgICAgICAgICBpZiAocHJldkNoYW5nZS5vcmlnaW5hbExlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxTdG9wID0gcHJldkNoYW5nZS5vcmlnaW5hbFN0YXJ0ICsgcHJldkNoYW5nZS5vcmlnaW5hbExlbmd0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHByZXZDaGFuZ2UubW9kaWZpZWRMZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkU3RvcCA9IHByZXZDaGFuZ2UubW9kaWZpZWRTdGFydCArIHByZXZDaGFuZ2UubW9kaWZpZWRMZW5ndGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNoZWNrT3JpZ2luYWwgPSBjaGFuZ2Uub3JpZ2luYWxMZW5ndGggPiAwO1xuICAgICAgICAgICAgdmFyIGNoZWNrTW9kaWZpZWQgPSBjaGFuZ2UubW9kaWZpZWRMZW5ndGggPiAwO1xuICAgICAgICAgICAgdmFyIGJlc3REZWx0YSA9IDA7XG4gICAgICAgICAgICB2YXIgYmVzdFNjb3JlID0gdGhpcy5fYm91bmRhcnlTY29yZShjaGFuZ2Uub3JpZ2luYWxTdGFydCwgY2hhbmdlLm9yaWdpbmFsTGVuZ3RoLCBjaGFuZ2UubW9kaWZpZWRTdGFydCwgY2hhbmdlLm1vZGlmaWVkTGVuZ3RoKTtcbiAgICAgICAgICAgIGZvciAodmFyIGRlbHRhID0gMTs7IGRlbHRhKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgb3JpZ2luYWxTdGFydCA9IGNoYW5nZS5vcmlnaW5hbFN0YXJ0IC0gZGVsdGE7XG4gICAgICAgICAgICAgICAgdmFyIG1vZGlmaWVkU3RhcnQgPSBjaGFuZ2UubW9kaWZpZWRTdGFydCAtIGRlbHRhO1xuICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbFN0YXJ0IDwgb3JpZ2luYWxTdG9wIHx8IG1vZGlmaWVkU3RhcnQgPCBtb2RpZmllZFN0b3ApIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjaGVja09yaWdpbmFsICYmICF0aGlzLk9yaWdpbmFsRWxlbWVudHNBcmVFcXVhbChvcmlnaW5hbFN0YXJ0LCBvcmlnaW5hbFN0YXJ0ICsgY2hhbmdlLm9yaWdpbmFsTGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrTW9kaWZpZWQgJiYgIXRoaXMuTW9kaWZpZWRFbGVtZW50c0FyZUVxdWFsKG1vZGlmaWVkU3RhcnQsIG1vZGlmaWVkU3RhcnQgKyBjaGFuZ2UubW9kaWZpZWRMZW5ndGgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgc2NvcmUgPSB0aGlzLl9ib3VuZGFyeVNjb3JlKG9yaWdpbmFsU3RhcnQsIGNoYW5nZS5vcmlnaW5hbExlbmd0aCwgbW9kaWZpZWRTdGFydCwgY2hhbmdlLm1vZGlmaWVkTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBpZiAoc2NvcmUgPiBiZXN0U2NvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgYmVzdFNjb3JlID0gc2NvcmU7XG4gICAgICAgICAgICAgICAgICAgIGJlc3REZWx0YSA9IGRlbHRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoYW5nZS5vcmlnaW5hbFN0YXJ0IC09IGJlc3REZWx0YTtcbiAgICAgICAgICAgIGNoYW5nZS5tb2RpZmllZFN0YXJ0IC09IGJlc3REZWx0YTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hhbmdlcztcbiAgICB9O1xuICAgIExjc0RpZmYucHJvdG90eXBlLl9PcmlnaW5hbElzQm91bmRhcnkgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4IDw9IDAgfHwgaW5kZXggPj0gdGhpcy5PcmlnaW5hbFNlcXVlbmNlLmdldExlbmd0aCgpIC0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLk9yaWdpbmFsU2VxdWVuY2UuZ2V0RWxlbWVudEF0SW5kZXgoaW5kZXgpO1xuICAgICAgICByZXR1cm4gKHR5cGVvZiBlbGVtZW50ID09PSAnc3RyaW5nJyAmJiAvXlxccyokLy50ZXN0KGVsZW1lbnQpKTtcbiAgICB9O1xuICAgIExjc0RpZmYucHJvdG90eXBlLl9PcmlnaW5hbFJlZ2lvbklzQm91bmRhcnkgPSBmdW5jdGlvbiAob3JpZ2luYWxTdGFydCwgb3JpZ2luYWxMZW5ndGgpIHtcbiAgICAgICAgaWYgKHRoaXMuX09yaWdpbmFsSXNCb3VuZGFyeShvcmlnaW5hbFN0YXJ0KSB8fCB0aGlzLl9PcmlnaW5hbElzQm91bmRhcnkob3JpZ2luYWxTdGFydCAtIDEpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3JpZ2luYWxMZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgb3JpZ2luYWxFbmQgPSBvcmlnaW5hbFN0YXJ0ICsgb3JpZ2luYWxMZW5ndGg7XG4gICAgICAgICAgICBpZiAodGhpcy5fT3JpZ2luYWxJc0JvdW5kYXJ5KG9yaWdpbmFsRW5kIC0gMSkgfHwgdGhpcy5fT3JpZ2luYWxJc0JvdW5kYXJ5KG9yaWdpbmFsRW5kKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIExjc0RpZmYucHJvdG90eXBlLl9Nb2RpZmllZElzQm91bmRhcnkgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4IDw9IDAgfHwgaW5kZXggPj0gdGhpcy5Nb2RpZmllZFNlcXVlbmNlLmdldExlbmd0aCgpIC0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLk1vZGlmaWVkU2VxdWVuY2UuZ2V0RWxlbWVudEF0SW5kZXgoaW5kZXgpO1xuICAgICAgICByZXR1cm4gKHR5cGVvZiBlbGVtZW50ID09PSAnc3RyaW5nJyAmJiAvXlxccyokLy50ZXN0KGVsZW1lbnQpKTtcbiAgICB9O1xuICAgIExjc0RpZmYucHJvdG90eXBlLl9Nb2RpZmllZFJlZ2lvbklzQm91bmRhcnkgPSBmdW5jdGlvbiAobW9kaWZpZWRTdGFydCwgbW9kaWZpZWRMZW5ndGgpIHtcbiAgICAgICAgaWYgKHRoaXMuX01vZGlmaWVkSXNCb3VuZGFyeShtb2RpZmllZFN0YXJ0KSB8fCB0aGlzLl9Nb2RpZmllZElzQm91bmRhcnkobW9kaWZpZWRTdGFydCAtIDEpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW9kaWZpZWRMZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgbW9kaWZpZWRFbmQgPSBtb2RpZmllZFN0YXJ0ICsgbW9kaWZpZWRMZW5ndGg7XG4gICAgICAgICAgICBpZiAodGhpcy5fTW9kaWZpZWRJc0JvdW5kYXJ5KG1vZGlmaWVkRW5kIC0gMSkgfHwgdGhpcy5fTW9kaWZpZWRJc0JvdW5kYXJ5KG1vZGlmaWVkRW5kKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIExjc0RpZmYucHJvdG90eXBlLl9ib3VuZGFyeVNjb3JlID0gZnVuY3Rpb24gKG9yaWdpbmFsU3RhcnQsIG9yaWdpbmFsTGVuZ3RoLCBtb2RpZmllZFN0YXJ0LCBtb2RpZmllZExlbmd0aCkge1xuICAgICAgICB2YXIgb3JpZ2luYWxTY29yZSA9ICh0aGlzLl9PcmlnaW5hbFJlZ2lvbklzQm91bmRhcnkob3JpZ2luYWxTdGFydCwgb3JpZ2luYWxMZW5ndGgpID8gMSA6IDApO1xuICAgICAgICB2YXIgbW9kaWZpZWRTY29yZSA9ICh0aGlzLl9Nb2RpZmllZFJlZ2lvbklzQm91bmRhcnkobW9kaWZpZWRTdGFydCwgbW9kaWZpZWRMZW5ndGgpID8gMSA6IDApO1xuICAgICAgICByZXR1cm4gKG9yaWdpbmFsU2NvcmUgKyBtb2RpZmllZFNjb3JlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbmNhdGVuYXRlcyB0aGUgdHdvIGlucHV0IERpZmZDaGFuZ2UgbGlzdHMgYW5kIHJldHVybnMgdGhlIHJlc3VsdGluZ1xuICAgICAqIGxpc3QuXG4gICAgICogQHBhcmFtIFRoZSBsZWZ0IGNoYW5nZXNcbiAgICAgKiBAcGFyYW0gVGhlIHJpZ2h0IGNoYW5nZXNcbiAgICAgKiBAcmV0dXJucyBUaGUgY29uY2F0ZW5hdGVkIGxpc3RcbiAgICAgKi9cbiAgICBMY3NEaWZmLnByb3RvdHlwZS5Db25jYXRlbmF0ZUNoYW5nZXMgPSBmdW5jdGlvbiAobGVmdCwgcmlnaHQpIHtcbiAgICAgICAgdmFyIG1lcmdlZENoYW5nZUFyciA9IFtdO1xuICAgICAgICB2YXIgcmVzdWx0ID0gbnVsbDtcbiAgICAgICAgaWYgKGxlZnQubGVuZ3RoID09PSAwIHx8IHJpZ2h0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIChyaWdodC5sZW5ndGggPiAwKSA/IHJpZ2h0IDogbGVmdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLkNoYW5nZXNPdmVybGFwKGxlZnRbbGVmdC5sZW5ndGggLSAxXSwgcmlnaHRbMF0sIG1lcmdlZENoYW5nZUFycikpIHtcbiAgICAgICAgICAgIC8vIFNpbmNlIHdlIGJyZWFrIHRoZSBwcm9ibGVtIGRvd24gcmVjdXJzaXZlbHksIGl0IGlzIHBvc3NpYmxlIHRoYXQgd2VcbiAgICAgICAgICAgIC8vIG1pZ2h0IHJlY3Vyc2UgaW4gdGhlIG1pZGRsZSBvZiBhIGNoYW5nZSB0aGVyZWJ5IHNwbGl0dGluZyBpdCBpbnRvXG4gICAgICAgICAgICAvLyB0d28gY2hhbmdlcy4gSGVyZSBpbiB0aGUgY29tYmluaW5nIHN0YWdlLCB3ZSBkZXRlY3QgYW5kIGZ1c2UgdGhvc2VcbiAgICAgICAgICAgIC8vIGNoYW5nZXMgYmFjayB0b2dldGhlclxuICAgICAgICAgICAgcmVzdWx0ID0gbmV3IEFycmF5KGxlZnQubGVuZ3RoICsgcmlnaHQubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICBNeUFycmF5LkNvcHkobGVmdCwgMCwgcmVzdWx0LCAwLCBsZWZ0Lmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgcmVzdWx0W2xlZnQubGVuZ3RoIC0gMV0gPSBtZXJnZWRDaGFuZ2VBcnJbMF07XG4gICAgICAgICAgICBNeUFycmF5LkNvcHkocmlnaHQsIDEsIHJlc3VsdCwgbGVmdC5sZW5ndGgsIHJpZ2h0Lmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBBcnJheShsZWZ0Lmxlbmd0aCArIHJpZ2h0Lmxlbmd0aCk7XG4gICAgICAgICAgICBNeUFycmF5LkNvcHkobGVmdCwgMCwgcmVzdWx0LCAwLCBsZWZ0Lmxlbmd0aCk7XG4gICAgICAgICAgICBNeUFycmF5LkNvcHkocmlnaHQsIDAsIHJlc3VsdCwgbGVmdC5sZW5ndGgsIHJpZ2h0Lmxlbmd0aCk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHR3byBjaGFuZ2VzIG92ZXJsYXAgYW5kIGNhbiBiZSBtZXJnZWQgaW50byBhIHNpbmdsZVxuICAgICAqIGNoYW5nZVxuICAgICAqIEBwYXJhbSBsZWZ0IFRoZSBsZWZ0IGNoYW5nZVxuICAgICAqIEBwYXJhbSByaWdodCBUaGUgcmlnaHQgY2hhbmdlXG4gICAgICogQHBhcmFtIG1lcmdlZENoYW5nZSBUaGUgbWVyZ2VkIGNoYW5nZSBpZiB0aGUgdHdvIG92ZXJsYXAsIG51bGwgb3RoZXJ3aXNlXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgdHdvIGNoYW5nZXMgb3ZlcmxhcFxuICAgICAqL1xuICAgIExjc0RpZmYucHJvdG90eXBlLkNoYW5nZXNPdmVybGFwID0gZnVuY3Rpb24gKGxlZnQsIHJpZ2h0LCBtZXJnZWRDaGFuZ2VBcnIpIHtcbiAgICAgICAgRGVidWcuQXNzZXJ0KGxlZnQub3JpZ2luYWxTdGFydCA8PSByaWdodC5vcmlnaW5hbFN0YXJ0LCAnTGVmdCBjaGFuZ2UgaXMgbm90IGxlc3MgdGhhbiBvciBlcXVhbCB0byByaWdodCBjaGFuZ2UnKTtcbiAgICAgICAgRGVidWcuQXNzZXJ0KGxlZnQubW9kaWZpZWRTdGFydCA8PSByaWdodC5tb2RpZmllZFN0YXJ0LCAnTGVmdCBjaGFuZ2UgaXMgbm90IGxlc3MgdGhhbiBvciBlcXVhbCB0byByaWdodCBjaGFuZ2UnKTtcbiAgICAgICAgaWYgKGxlZnQub3JpZ2luYWxTdGFydCArIGxlZnQub3JpZ2luYWxMZW5ndGggPj0gcmlnaHQub3JpZ2luYWxTdGFydCB8fCBsZWZ0Lm1vZGlmaWVkU3RhcnQgKyBsZWZ0Lm1vZGlmaWVkTGVuZ3RoID49IHJpZ2h0Lm1vZGlmaWVkU3RhcnQpIHtcbiAgICAgICAgICAgIHZhciBvcmlnaW5hbFN0YXJ0ID0gbGVmdC5vcmlnaW5hbFN0YXJ0O1xuICAgICAgICAgICAgdmFyIG9yaWdpbmFsTGVuZ3RoID0gbGVmdC5vcmlnaW5hbExlbmd0aDtcbiAgICAgICAgICAgIHZhciBtb2RpZmllZFN0YXJ0ID0gbGVmdC5tb2RpZmllZFN0YXJ0O1xuICAgICAgICAgICAgdmFyIG1vZGlmaWVkTGVuZ3RoID0gbGVmdC5tb2RpZmllZExlbmd0aDtcbiAgICAgICAgICAgIGlmIChsZWZ0Lm9yaWdpbmFsU3RhcnQgKyBsZWZ0Lm9yaWdpbmFsTGVuZ3RoID49IHJpZ2h0Lm9yaWdpbmFsU3RhcnQpIHtcbiAgICAgICAgICAgICAgICBvcmlnaW5hbExlbmd0aCA9IHJpZ2h0Lm9yaWdpbmFsU3RhcnQgKyByaWdodC5vcmlnaW5hbExlbmd0aCAtIGxlZnQub3JpZ2luYWxTdGFydDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsZWZ0Lm1vZGlmaWVkU3RhcnQgKyBsZWZ0Lm1vZGlmaWVkTGVuZ3RoID49IHJpZ2h0Lm1vZGlmaWVkU3RhcnQpIHtcbiAgICAgICAgICAgICAgICBtb2RpZmllZExlbmd0aCA9IHJpZ2h0Lm1vZGlmaWVkU3RhcnQgKyByaWdodC5tb2RpZmllZExlbmd0aCAtIGxlZnQubW9kaWZpZWRTdGFydDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1lcmdlZENoYW5nZUFyclswXSA9IG5ldyBEaWZmQ2hhbmdlKG9yaWdpbmFsU3RhcnQsIG9yaWdpbmFsTGVuZ3RoLCBtb2RpZmllZFN0YXJ0LCBtb2RpZmllZExlbmd0aCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG1lcmdlZENoYW5nZUFyclswXSA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEhlbHBlciBtZXRob2QgdXNlZCB0byBjbGlwIGEgZGlhZ29uYWwgaW5kZXggdG8gdGhlIHJhbmdlIG9mIHZhbGlkXG4gICAgICogZGlhZ29uYWxzLiBUaGlzIGFsc28gZGVjaWRlcyB3aGV0aGVyIG9yIG5vdCB0aGUgZGlhZ29uYWwgaW5kZXgsXG4gICAgICogaWYgaXQgZXhjZWVkcyB0aGUgYm91bmRhcnksIHNob3VsZCBiZSBjbGlwcGVkIHRvIHRoZSBib3VuZGFyeSBvciBjbGlwcGVkXG4gICAgICogb25lIGluc2lkZSB0aGUgYm91bmRhcnkgZGVwZW5kaW5nIG9uIHRoZSBFdmVuL09kZCBzdGF0dXMgb2YgdGhlIGJvdW5kYXJ5XG4gICAgICogYW5kIG51bURpZmZlcmVuY2VzLlxuICAgICAqIEBwYXJhbSBkaWFnb25hbCBUaGUgaW5kZXggb2YgdGhlIGRpYWdvbmFsIHRvIGNsaXAuXG4gICAgICogQHBhcmFtIG51bURpZmZlcmVuY2VzIFRoZSBjdXJyZW50IG51bWJlciBvZiBkaWZmZXJlbmNlcyBiZWluZyBpdGVyYXRlZCB1cG9uLlxuICAgICAqIEBwYXJhbSBkaWFnb25hbEJhc2VJbmRleCBUaGUgYmFzZSByZWZlcmVuY2UgZGlhZ29uYWwuXG4gICAgICogQHBhcmFtIG51bURpYWdvbmFscyBUaGUgdG90YWwgbnVtYmVyIG9mIGRpYWdvbmFscy5cbiAgICAgKiBAcmV0dXJucyBUaGUgY2xpcHBlZCBkaWFnb25hbCBpbmRleC5cbiAgICAgKi9cbiAgICBMY3NEaWZmLnByb3RvdHlwZS5DbGlwRGlhZ29uYWxCb3VuZCA9IGZ1bmN0aW9uIChkaWFnb25hbCwgbnVtRGlmZmVyZW5jZXMsIGRpYWdvbmFsQmFzZUluZGV4LCBudW1EaWFnb25hbHMpIHtcbiAgICAgICAgaWYgKGRpYWdvbmFsID49IDAgJiYgZGlhZ29uYWwgPCBudW1EaWFnb25hbHMpIHtcbiAgICAgICAgICAgIC8vIE5vdGhpbmcgdG8gY2xpcCwgaXRzIGluIHJhbmdlXG4gICAgICAgICAgICByZXR1cm4gZGlhZ29uYWw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZGlhZ29uYWxzQmVsb3c6IFRoZSBudW1iZXIgb2YgZGlhZ29uYWxzIGJlbG93IHRoZSByZWZlcmVuY2UgZGlhZ29uYWxcbiAgICAgICAgLy8gZGlhZ29uYWxzQWJvdmU6IFRoZSBudW1iZXIgb2YgZGlhZ29uYWxzIGFib3ZlIHRoZSByZWZlcmVuY2UgZGlhZ29uYWxcbiAgICAgICAgdmFyIGRpYWdvbmFsc0JlbG93ID0gZGlhZ29uYWxCYXNlSW5kZXg7XG4gICAgICAgIHZhciBkaWFnb25hbHNBYm92ZSA9IG51bURpYWdvbmFscyAtIGRpYWdvbmFsQmFzZUluZGV4IC0gMTtcbiAgICAgICAgdmFyIGRpZmZFdmVuID0gKG51bURpZmZlcmVuY2VzICUgMiA9PT0gMCk7XG4gICAgICAgIGlmIChkaWFnb25hbCA8IDApIHtcbiAgICAgICAgICAgIHZhciBsb3dlckJvdW5kRXZlbiA9IChkaWFnb25hbHNCZWxvdyAlIDIgPT09IDApO1xuICAgICAgICAgICAgcmV0dXJuIChkaWZmRXZlbiA9PT0gbG93ZXJCb3VuZEV2ZW4pID8gMCA6IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgdXBwZXJCb3VuZEV2ZW4gPSAoZGlhZ29uYWxzQWJvdmUgJSAyID09PSAwKTtcbiAgICAgICAgICAgIHJldHVybiAoZGlmZkV2ZW4gPT09IHVwcGVyQm91bmRFdmVuKSA/IG51bURpYWdvbmFscyAtIDEgOiBudW1EaWFnb25hbHMgLSAyO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTGNzRGlmZjtcbn0oKSk7XG5leHBvcnQgeyBMY3NEaWZmIH07XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbid1c2Ugc3RyaWN0Jztcbi8qKlxuICogVGhlIGVtcHR5IHN0cmluZy5cbiAqL1xuZXhwb3J0IHZhciBlbXB0eSA9ICcnO1xuZXhwb3J0IGZ1bmN0aW9uIGlzRmFsc3lPcldoaXRlc3BhY2Uoc3RyKSB7XG4gICAgaWYgKCFzdHIgfHwgdHlwZW9mIHN0ciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBzdHIudHJpbSgpLmxlbmd0aCA9PT0gMDtcbn1cbi8qKlxuICogQHJldHVybnMgdGhlIHByb3ZpZGVkIG51bWJlciB3aXRoIHRoZSBnaXZlbiBudW1iZXIgb2YgcHJlY2VkaW5nIHplcm9zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFkKG4sIGwsIGNoYXIpIHtcbiAgICBpZiAoY2hhciA9PT0gdm9pZCAwKSB7IGNoYXIgPSAnMCc7IH1cbiAgICB2YXIgc3RyID0gJycgKyBuO1xuICAgIHZhciByID0gW3N0cl07XG4gICAgZm9yICh2YXIgaSA9IHN0ci5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgci5wdXNoKGNoYXIpO1xuICAgIH1cbiAgICByZXR1cm4gci5yZXZlcnNlKCkuam9pbignJyk7XG59XG52YXIgX2Zvcm1hdFJlZ2V4cCA9IC97KFxcZCspfS9nO1xuLyoqXG4gKiBIZWxwZXIgdG8gcHJvZHVjZSBhIHN0cmluZyB3aXRoIGEgdmFyaWFibGUgbnVtYmVyIG9mIGFyZ3VtZW50cy4gSW5zZXJ0IHZhcmlhYmxlIHNlZ21lbnRzXG4gKiBpbnRvIHRoZSBzdHJpbmcgdXNpbmcgdGhlIHtufSBub3RhdGlvbiB3aGVyZSBOIGlzIHRoZSBpbmRleCBvZiB0aGUgYXJndW1lbnQgZm9sbG93aW5nIHRoZSBzdHJpbmcuXG4gKiBAcGFyYW0gdmFsdWUgc3RyaW5nIHRvIHdoaWNoIGZvcm1hdHRpbmcgaXMgYXBwbGllZFxuICogQHBhcmFtIGFyZ3MgcmVwbGFjZW1lbnRzIGZvciB7bn0tZW50cmllc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0KHZhbHVlKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWUucmVwbGFjZShfZm9ybWF0UmVnZXhwLCBmdW5jdGlvbiAobWF0Y2gsIGdyb3VwKSB7XG4gICAgICAgIHZhciBpZHggPSBwYXJzZUludChncm91cCwgMTApO1xuICAgICAgICByZXR1cm4gaXNOYU4oaWR4KSB8fCBpZHggPCAwIHx8IGlkeCA+PSBhcmdzLmxlbmd0aCA/XG4gICAgICAgICAgICBtYXRjaCA6XG4gICAgICAgICAgICBhcmdzW2lkeF07XG4gICAgfSk7XG59XG4vKipcbiAqIENvbnZlcnRzIEhUTUwgY2hhcmFjdGVycyBpbnNpZGUgdGhlIHN0cmluZyB0byB1c2UgZW50aXRpZXMgaW5zdGVhZC4gTWFrZXMgdGhlIHN0cmluZyBzYWZlIGZyb21cbiAqIGJlaW5nIHVzZWQgZS5nLiBpbiBIVE1MRWxlbWVudC5pbm5lckhUTUwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGUoaHRtbCkge1xuICAgIHJldHVybiBodG1sLnJlcGxhY2UoL1s8fD58Jl0vZywgZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgICAgIHN3aXRjaCAobWF0Y2gpIHtcbiAgICAgICAgICAgIGNhc2UgJzwnOiByZXR1cm4gJyZsdDsnO1xuICAgICAgICAgICAgY2FzZSAnPic6IHJldHVybiAnJmd0Oyc7XG4gICAgICAgICAgICBjYXNlICcmJzogcmV0dXJuICcmYW1wOyc7XG4gICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gbWF0Y2g7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8qKlxuICogRXNjYXBlcyByZWd1bGFyIGV4cHJlc3Npb24gY2hhcmFjdGVycyBpbiBhIGdpdmVuIHN0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlUmVnRXhwQ2hhcmFjdGVycyh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS5yZXBsYWNlKC9bXFwtXFxcXFxce1xcfVxcKlxcK1xcP1xcfFxcXlxcJFxcLlxcW1xcXVxcKFxcKVxcI10vZywgJ1xcXFwkJicpO1xufVxuLyoqXG4gKiBSZW1vdmVzIGFsbCBvY2N1cnJlbmNlcyBvZiBuZWVkbGUgZnJvbSB0aGUgYmVnaW5uaW5nIGFuZCBlbmQgb2YgaGF5c3RhY2suXG4gKiBAcGFyYW0gaGF5c3RhY2sgc3RyaW5nIHRvIHRyaW1cbiAqIEBwYXJhbSBuZWVkbGUgdGhlIHRoaW5nIHRvIHRyaW0gKGRlZmF1bHQgaXMgYSBibGFuaylcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaW0oaGF5c3RhY2ssIG5lZWRsZSkge1xuICAgIGlmIChuZWVkbGUgPT09IHZvaWQgMCkgeyBuZWVkbGUgPSAnICc7IH1cbiAgICB2YXIgdHJpbW1lZCA9IGx0cmltKGhheXN0YWNrLCBuZWVkbGUpO1xuICAgIHJldHVybiBydHJpbSh0cmltbWVkLCBuZWVkbGUpO1xufVxuLyoqXG4gKiBSZW1vdmVzIGFsbCBvY2N1cnJlbmNlcyBvZiBuZWVkbGUgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIGhheXN0YWNrLlxuICogQHBhcmFtIGhheXN0YWNrIHN0cmluZyB0byB0cmltXG4gKiBAcGFyYW0gbmVlZGxlIHRoZSB0aGluZyB0byB0cmltXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsdHJpbShoYXlzdGFjaywgbmVlZGxlKSB7XG4gICAgaWYgKCFoYXlzdGFjayB8fCAhbmVlZGxlKSB7XG4gICAgICAgIHJldHVybiBoYXlzdGFjaztcbiAgICB9XG4gICAgdmFyIG5lZWRsZUxlbiA9IG5lZWRsZS5sZW5ndGg7XG4gICAgaWYgKG5lZWRsZUxlbiA9PT0gMCB8fCBoYXlzdGFjay5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGhheXN0YWNrO1xuICAgIH1cbiAgICB2YXIgb2Zmc2V0ID0gMCwgaWR4ID0gLTE7XG4gICAgd2hpbGUgKChpZHggPSBoYXlzdGFjay5pbmRleE9mKG5lZWRsZSwgb2Zmc2V0KSkgPT09IG9mZnNldCkge1xuICAgICAgICBvZmZzZXQgPSBvZmZzZXQgKyBuZWVkbGVMZW47XG4gICAgfVxuICAgIHJldHVybiBoYXlzdGFjay5zdWJzdHJpbmcob2Zmc2V0KTtcbn1cbi8qKlxuICogUmVtb3ZlcyBhbGwgb2NjdXJyZW5jZXMgb2YgbmVlZGxlIGZyb20gdGhlIGVuZCBvZiBoYXlzdGFjay5cbiAqIEBwYXJhbSBoYXlzdGFjayBzdHJpbmcgdG8gdHJpbVxuICogQHBhcmFtIG5lZWRsZSB0aGUgdGhpbmcgdG8gdHJpbVxuICovXG5leHBvcnQgZnVuY3Rpb24gcnRyaW0oaGF5c3RhY2ssIG5lZWRsZSkge1xuICAgIGlmICghaGF5c3RhY2sgfHwgIW5lZWRsZSkge1xuICAgICAgICByZXR1cm4gaGF5c3RhY2s7XG4gICAgfVxuICAgIHZhciBuZWVkbGVMZW4gPSBuZWVkbGUubGVuZ3RoLCBoYXlzdGFja0xlbiA9IGhheXN0YWNrLmxlbmd0aDtcbiAgICBpZiAobmVlZGxlTGVuID09PSAwIHx8IGhheXN0YWNrTGVuID09PSAwKSB7XG4gICAgICAgIHJldHVybiBoYXlzdGFjaztcbiAgICB9XG4gICAgdmFyIG9mZnNldCA9IGhheXN0YWNrTGVuLCBpZHggPSAtMTtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBpZHggPSBoYXlzdGFjay5sYXN0SW5kZXhPZihuZWVkbGUsIG9mZnNldCAtIDEpO1xuICAgICAgICBpZiAoaWR4ID09PSAtMSB8fCBpZHggKyBuZWVkbGVMZW4gIT09IG9mZnNldCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlkeCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIG9mZnNldCA9IGlkeDtcbiAgICB9XG4gICAgcmV0dXJuIGhheXN0YWNrLnN1YnN0cmluZygwLCBvZmZzZXQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRTaW1wbGUyUmVnRXhwUGF0dGVybihwYXR0ZXJuKSB7XG4gICAgcmV0dXJuIHBhdHRlcm4ucmVwbGFjZSgvW1xcLVxcXFxcXHtcXH1cXCtcXD9cXHxcXF5cXCRcXC5cXCxcXFtcXF1cXChcXClcXCNcXHNdL2csICdcXFxcJCYnKS5yZXBsYWNlKC9bXFwqXS9nLCAnLionKTtcbn1cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiBoYXlzdGFjayBzdGFydHMgd2l0aCBuZWVkbGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFydHNXaXRoKGhheXN0YWNrLCBuZWVkbGUpIHtcbiAgICBpZiAoaGF5c3RhY2subGVuZ3RoIDwgbmVlZGxlLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChoYXlzdGFjayA9PT0gbmVlZGxlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5lZWRsZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaGF5c3RhY2tbaV0gIT09IG5lZWRsZVtpXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIGhheXN0YWNrIGVuZHMgd2l0aCBuZWVkbGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmRzV2l0aChoYXlzdGFjaywgbmVlZGxlKSB7XG4gICAgdmFyIGRpZmYgPSBoYXlzdGFjay5sZW5ndGggLSBuZWVkbGUubGVuZ3RoO1xuICAgIGlmIChkaWZmID4gMCkge1xuICAgICAgICByZXR1cm4gaGF5c3RhY2suaW5kZXhPZihuZWVkbGUsIGRpZmYpID09PSBkaWZmO1xuICAgIH1cbiAgICBlbHNlIGlmIChkaWZmID09PSAwKSB7XG4gICAgICAgIHJldHVybiBoYXlzdGFjayA9PT0gbmVlZGxlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSZWdFeHAoc2VhcmNoU3RyaW5nLCBpc1JlZ2V4LCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICBpZiAoIXNlYXJjaFN0cmluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjcmVhdGUgcmVnZXggZnJvbSBlbXB0eSBzdHJpbmcnKTtcbiAgICB9XG4gICAgaWYgKCFpc1JlZ2V4KSB7XG4gICAgICAgIHNlYXJjaFN0cmluZyA9IGVzY2FwZVJlZ0V4cENoYXJhY3RlcnMoc2VhcmNoU3RyaW5nKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMud2hvbGVXb3JkKSB7XG4gICAgICAgIGlmICghL1xcQi8udGVzdChzZWFyY2hTdHJpbmcuY2hhckF0KDApKSkge1xuICAgICAgICAgICAgc2VhcmNoU3RyaW5nID0gJ1xcXFxiJyArIHNlYXJjaFN0cmluZztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIS9cXEIvLnRlc3Qoc2VhcmNoU3RyaW5nLmNoYXJBdChzZWFyY2hTdHJpbmcubGVuZ3RoIC0gMSkpKSB7XG4gICAgICAgICAgICBzZWFyY2hTdHJpbmcgPSBzZWFyY2hTdHJpbmcgKyAnXFxcXGInO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBtb2RpZmllcnMgPSAnJztcbiAgICBpZiAob3B0aW9ucy5nbG9iYWwpIHtcbiAgICAgICAgbW9kaWZpZXJzICs9ICdnJztcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zLm1hdGNoQ2FzZSkge1xuICAgICAgICBtb2RpZmllcnMgKz0gJ2knO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5tdWx0aWxpbmUpIHtcbiAgICAgICAgbW9kaWZpZXJzICs9ICdtJztcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoc2VhcmNoU3RyaW5nLCBtb2RpZmllcnMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlZ0V4cExlYWRzVG9FbmRsZXNzTG9vcChyZWdleHApIHtcbiAgICAvLyBFeGl0IGVhcmx5IGlmIGl0J3Mgb25lIG9mIHRoZXNlIHNwZWNpYWwgY2FzZXMgd2hpY2ggYXJlIG1lYW50IHRvIG1hdGNoXG4gICAgLy8gYWdhaW5zdCBhbiBlbXB0eSBzdHJpbmdcbiAgICBpZiAocmVnZXhwLnNvdXJjZSA9PT0gJ14nIHx8IHJlZ2V4cC5zb3VyY2UgPT09ICdeJCcgfHwgcmVnZXhwLnNvdXJjZSA9PT0gJyQnIHx8IHJlZ2V4cC5zb3VyY2UgPT09ICdeXFxcXHMqJCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyBXZSBjaGVjayBhZ2FpbnN0IGFuIGVtcHR5IHN0cmluZy4gSWYgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBkb2Vzbid0IGFkdmFuY2VcbiAgICAvLyAoZS5nLiBlbmRzIGluIGFuIGVuZGxlc3MgbG9vcCkgaXQgd2lsbCBtYXRjaCBhbiBlbXB0eSBzdHJpbmcuXG4gICAgdmFyIG1hdGNoID0gcmVnZXhwLmV4ZWMoJycpO1xuICAgIHJldHVybiAobWF0Y2ggJiYgcmVnZXhwLmxhc3RJbmRleCA9PT0gMCk7XG59XG4vKipcbiAqIFJldHVybnMgZmlyc3QgaW5kZXggb2YgdGhlIHN0cmluZyB0aGF0IGlzIG5vdCB3aGl0ZXNwYWNlLlxuICogSWYgc3RyaW5nIGlzIGVtcHR5IG9yIGNvbnRhaW5zIG9ubHkgd2hpdGVzcGFjZXMsIHJldHVybnMgLTFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpcnN0Tm9uV2hpdGVzcGFjZUluZGV4KHN0cikge1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBzdHIubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIGNoQ29kZSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBpZiAoY2hDb2RlICE9PSAzMiAvKiBTcGFjZSAqLyAmJiBjaENvZGUgIT09IDkgLyogVGFiICovKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGxlYWRpbmcgd2hpdGVzcGFjZSBvZiB0aGUgc3RyaW5nLlxuICogSWYgdGhlIHN0cmluZyBjb250YWlucyBvbmx5IHdoaXRlc3BhY2VzLCByZXR1cm5zIGVudGlyZSBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldExlYWRpbmdXaGl0ZXNwYWNlKHN0ciwgc3RhcnQsIGVuZCkge1xuICAgIGlmIChzdGFydCA9PT0gdm9pZCAwKSB7IHN0YXJ0ID0gMDsgfVxuICAgIGlmIChlbmQgPT09IHZvaWQgMCkgeyBlbmQgPSBzdHIubGVuZ3RoOyB9XG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHtcbiAgICAgICAgdmFyIGNoQ29kZSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBpZiAoY2hDb2RlICE9PSAzMiAvKiBTcGFjZSAqLyAmJiBjaENvZGUgIT09IDkgLyogVGFiICovKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyLnN1YnN0cmluZyhzdGFydCwgaSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0ci5zdWJzdHJpbmcoc3RhcnQsIGVuZCk7XG59XG4vKipcbiAqIFJldHVybnMgbGFzdCBpbmRleCBvZiB0aGUgc3RyaW5nIHRoYXQgaXMgbm90IHdoaXRlc3BhY2UuXG4gKiBJZiBzdHJpbmcgaXMgZW1wdHkgb3IgY29udGFpbnMgb25seSB3aGl0ZXNwYWNlcywgcmV0dXJucyAtMVxuICovXG5leHBvcnQgZnVuY3Rpb24gbGFzdE5vbldoaXRlc3BhY2VJbmRleChzdHIsIHN0YXJ0SW5kZXgpIHtcbiAgICBpZiAoc3RhcnRJbmRleCA9PT0gdm9pZCAwKSB7IHN0YXJ0SW5kZXggPSBzdHIubGVuZ3RoIC0gMTsgfVxuICAgIGZvciAodmFyIGkgPSBzdGFydEluZGV4OyBpID49IDA7IGktLSkge1xuICAgICAgICB2YXIgY2hDb2RlID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmIChjaENvZGUgIT09IDMyIC8qIFNwYWNlICovICYmIGNoQ29kZSAhPT0gOSAvKiBUYWIgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlKGEsIGIpIHtcbiAgICBpZiAoYSA8IGIpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBlbHNlIGlmIChhID4gYikge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlSWdub3JlQ2FzZShhLCBiKSB7XG4gICAgdmFyIGxlbiA9IE1hdGgubWluKGEubGVuZ3RoLCBiLmxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgY29kZUEgPSBhLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIHZhciBjb2RlQiA9IGIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgaWYgKGNvZGVBID09PSBjb2RlQikge1xuICAgICAgICAgICAgLy8gZXF1YWxcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1VwcGVyQXNjaWlMZXR0ZXIoY29kZUEpKSB7XG4gICAgICAgICAgICBjb2RlQSArPSAzMjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNVcHBlckFzY2lpTGV0dGVyKGNvZGVCKSkge1xuICAgICAgICAgICAgY29kZUIgKz0gMzI7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRpZmYgPSBjb2RlQSAtIGNvZGVCO1xuICAgICAgICBpZiAoZGlmZiA9PT0gMCkge1xuICAgICAgICAgICAgLy8gZXF1YWwgLT4gaWdub3JlQ2FzZVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNMb3dlckFzY2lpTGV0dGVyKGNvZGVBKSAmJiBpc0xvd2VyQXNjaWlMZXR0ZXIoY29kZUIpKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgcmV0dXJuIGRpZmY7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gY29tcGFyZShhLnRvTG93ZXJDYXNlKCksIGIudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGEubGVuZ3RoIDwgYi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBlbHNlIGlmIChhLmxlbmd0aCA+IGIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGlzTG93ZXJBc2NpaUxldHRlcihjb2RlKSB7XG4gICAgcmV0dXJuIGNvZGUgPj0gOTcgLyogYSAqLyAmJiBjb2RlIDw9IDEyMiAvKiB6ICovO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzVXBwZXJBc2NpaUxldHRlcihjb2RlKSB7XG4gICAgcmV0dXJuIGNvZGUgPj0gNjUgLyogQSAqLyAmJiBjb2RlIDw9IDkwIC8qIFogKi87XG59XG5mdW5jdGlvbiBpc0FzY2lpTGV0dGVyKGNvZGUpIHtcbiAgICByZXR1cm4gaXNMb3dlckFzY2lpTGV0dGVyKGNvZGUpIHx8IGlzVXBwZXJBc2NpaUxldHRlcihjb2RlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHNJZ25vcmVDYXNlKGEsIGIpIHtcbiAgICB2YXIgbGVuMSA9IGEgPyBhLmxlbmd0aCA6IDA7XG4gICAgdmFyIGxlbjIgPSBiID8gYi5sZW5ndGggOiAwO1xuICAgIGlmIChsZW4xICE9PSBsZW4yKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGRvRXF1YWxzSWdub3JlQ2FzZShhLCBiKTtcbn1cbmZ1bmN0aW9uIGRvRXF1YWxzSWdub3JlQ2FzZShhLCBiLCBzdG9wQXQpIHtcbiAgICBpZiAoc3RvcEF0ID09PSB2b2lkIDApIHsgc3RvcEF0ID0gYS5sZW5ndGg7IH1cbiAgICBpZiAodHlwZW9mIGEgIT09ICdzdHJpbmcnIHx8IHR5cGVvZiBiICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RvcEF0OyBpKyspIHtcbiAgICAgICAgdmFyIGNvZGVBID0gYS5jaGFyQ29kZUF0KGkpO1xuICAgICAgICB2YXIgY29kZUIgPSBiLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmIChjb2RlQSA9PT0gY29kZUIpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGEteiBBLVpcbiAgICAgICAgaWYgKGlzQXNjaWlMZXR0ZXIoY29kZUEpICYmIGlzQXNjaWlMZXR0ZXIoY29kZUIpKSB7XG4gICAgICAgICAgICB2YXIgZGlmZiA9IE1hdGguYWJzKGNvZGVBIC0gY29kZUIpO1xuICAgICAgICAgICAgaWYgKGRpZmYgIT09IDAgJiYgZGlmZiAhPT0gMzIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQW55IG90aGVyIGNoYXJjb2RlXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZUEpLnRvTG93ZXJDYXNlKCkgIT09IFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZUIpLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRzV2l0aElnbm9yZUNhc2Uoc3RyLCBjYW5kaWRhdGUpIHtcbiAgICB2YXIgY2FuZGlkYXRlTGVuZ3RoID0gY2FuZGlkYXRlLmxlbmd0aDtcbiAgICBpZiAoY2FuZGlkYXRlLmxlbmd0aCA+IHN0ci5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gZG9FcXVhbHNJZ25vcmVDYXNlKHN0ciwgY2FuZGlkYXRlLCBjYW5kaWRhdGVMZW5ndGgpO1xufVxuLyoqXG4gKiBAcmV0dXJucyB0aGUgbGVuZ3RoIG9mIHRoZSBjb21tb24gcHJlZml4IG9mIHRoZSB0d28gc3RyaW5ncy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbW1vblByZWZpeExlbmd0aChhLCBiKSB7XG4gICAgdmFyIGksIGxlbiA9IE1hdGgubWluKGEubGVuZ3RoLCBiLmxlbmd0aCk7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmIChhLmNoYXJDb2RlQXQoaSkgIT09IGIuY2hhckNvZGVBdChpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxlbjtcbn1cbi8qKlxuICogQHJldHVybnMgdGhlIGxlbmd0aCBvZiB0aGUgY29tbW9uIHN1ZmZpeCBvZiB0aGUgdHdvIHN0cmluZ3MuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21tb25TdWZmaXhMZW5ndGgoYSwgYikge1xuICAgIHZhciBpLCBsZW4gPSBNYXRoLm1pbihhLmxlbmd0aCwgYi5sZW5ndGgpO1xuICAgIHZhciBhTGFzdEluZGV4ID0gYS5sZW5ndGggLSAxO1xuICAgIHZhciBiTGFzdEluZGV4ID0gYi5sZW5ndGggLSAxO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBpZiAoYS5jaGFyQ29kZUF0KGFMYXN0SW5kZXggLSBpKSAhPT0gYi5jaGFyQ29kZUF0KGJMYXN0SW5kZXggLSBpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxlbjtcbn1cbi8vIC0tLSB1bmljb2RlXG4vLyBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1N1cnJvZ2F0ZV9wYWlyXG4vLyBSZXR1cm5zIHRoZSBjb2RlIHBvaW50IHN0YXJ0aW5nIGF0IGEgc3BlY2lmaWVkIGluZGV4IGluIGEgc3RyaW5nXG4vLyBDb2RlIHBvaW50cyBVKzAwMDAgdG8gVStEN0ZGIGFuZCBVK0UwMDAgdG8gVStGRkZGIGFyZSByZXByZXNlbnRlZCBvbiBhIHNpbmdsZSBjaGFyYWN0ZXJcbi8vIENvZGUgcG9pbnRzIFUrMTAwMDAgdG8gVSsxMEZGRkYgYXJlIHJlcHJlc2VudGVkIG9uIHR3byBjb25zZWN1dGl2ZSBjaGFyYWN0ZXJzXG4vL2V4cG9ydCBmdW5jdGlvbiBnZXRVbmljb2RlUG9pbnQoc3RyOnN0cmluZywgaW5kZXg6bnVtYmVyLCBsZW46bnVtYmVyKTpudW1iZXIge1xuLy9cdGxldCBjaHJDb2RlID0gc3RyLmNoYXJDb2RlQXQoaW5kZXgpO1xuLy9cdGlmICgweEQ4MDAgPD0gY2hyQ29kZSAmJiBjaHJDb2RlIDw9IDB4REJGRiAmJiBpbmRleCArIDEgPCBsZW4pIHtcbi8vXHRcdGxldCBuZXh0Q2hyQ29kZSA9IHN0ci5jaGFyQ29kZUF0KGluZGV4ICsgMSk7XG4vL1x0XHRpZiAoMHhEQzAwIDw9IG5leHRDaHJDb2RlICYmIG5leHRDaHJDb2RlIDw9IDB4REZGRikge1xuLy9cdFx0XHRyZXR1cm4gKGNockNvZGUgLSAweEQ4MDApIDw8IDEwICsgKG5leHRDaHJDb2RlIC0gMHhEQzAwKSArIDB4MTAwMDA7XG4vL1x0XHR9XG4vL1x0fVxuLy9cdHJldHVybiBjaHJDb2RlO1xuLy99XG5leHBvcnQgZnVuY3Rpb24gaXNIaWdoU3Vycm9nYXRlKGNoYXJDb2RlKSB7XG4gICAgcmV0dXJuICgweEQ4MDAgPD0gY2hhckNvZGUgJiYgY2hhckNvZGUgPD0gMHhEQkZGKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0xvd1N1cnJvZ2F0ZShjaGFyQ29kZSkge1xuICAgIHJldHVybiAoMHhEQzAwIDw9IGNoYXJDb2RlICYmIGNoYXJDb2RlIDw9IDB4REZGRik7XG59XG4vKipcbiAqIEdlbmVyYXRlZCB1c2luZyBodHRwczovL2dpdGh1Yi5jb20vYWxleGFuZHJ1ZGltYS91bmljb2RlLXV0aWxzL2Jsb2IvbWFzdGVyL2dlbmVyYXRlLXJ0bC10ZXN0LmpzXG4gKi9cbnZhciBDT05UQUlOU19SVEwgPSAvKD86W1xcdTA1QkVcXHUwNUMwXFx1MDVDM1xcdTA1QzZcXHUwNUQwLVxcdTA1RjRcXHUwNjA4XFx1MDYwQlxcdTA2MERcXHUwNjFCLVxcdTA2NEFcXHUwNjZELVxcdTA2NkZcXHUwNjcxLVxcdTA2RDVcXHUwNkU1XFx1MDZFNlxcdTA2RUVcXHUwNkVGXFx1MDZGQS1cXHUwNzEwXFx1MDcxMi1cXHUwNzJGXFx1MDc0RC1cXHUwN0E1XFx1MDdCMS1cXHUwN0VBXFx1MDdGNFxcdTA3RjVcXHUwN0ZBLVxcdTA4MTVcXHUwODFBXFx1MDgyNFxcdTA4MjhcXHUwODMwLVxcdTA4NThcXHUwODVFLVxcdTA4QkRcXHUyMDBGXFx1RkIxRFxcdUZCMUYtXFx1RkIyOFxcdUZCMkEtXFx1RkQzRFxcdUZENTAtXFx1RkRGQ1xcdUZFNzAtXFx1RkVGQ118XFx1RDgwMltcXHVEQzAwLVxcdUREMUJcXHVERDIwLVxcdURFMDBcXHVERTEwLVxcdURFMzNcXHVERTQwLVxcdURFRTRcXHVERUVCLVxcdURGMzVcXHVERjQwLVxcdURGRkZdfFxcdUQ4MDNbXFx1REMwMC1cXHVEQ0ZGXXxcXHVEODNBW1xcdURDMDAtXFx1RENDRlxcdUREMDAtXFx1REQ0M1xcdURENTAtXFx1REZGRl18XFx1RDgzQltcXHVEQzAwLVxcdURFQkJdKS87XG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBgc3RyYCBjb250YWlucyBhbnkgVW5pY29kZSBjaGFyYWN0ZXIgdGhhdCBpcyBjbGFzc2lmaWVkIGFzIFwiUlwiIG9yIFwiQUxcIi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zUlRMKHN0cikge1xuICAgIHJldHVybiBDT05UQUlOU19SVEwudGVzdChzdHIpO1xufVxuLyoqXG4gKiBHZW5lcmF0ZWQgdXNpbmcgaHR0cHM6Ly9naXRodWIuY29tL2FsZXhhbmRydWRpbWEvdW5pY29kZS11dGlscy9ibG9iL21hc3Rlci9nZW5lcmF0ZS1lbW9qaS10ZXN0LmpzXG4gKi9cbnZhciBDT05UQUlOU19FTU9KSSA9IC8oPzpbXFx1MjMxQVxcdTIzMUJcXHUyM0YwXFx1MjNGM1xcdTI2MDAtXFx1MjdCRlxcdTJCNTBcXHUyQjU1XXxcXHVEODNDW1xcdURERTYtXFx1RERGRlxcdURGMDAtXFx1REZGRl18XFx1RDgzRFtcXHVEQzAwLVxcdURFNEZcXHVERTgwLVxcdURFRjhdfFxcdUQ4M0VbXFx1REQwMC1cXHVEREU2XSkvO1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zRW1vamkoc3RyKSB7XG4gICAgcmV0dXJuIENPTlRBSU5TX0VNT0pJLnRlc3Qoc3RyKTtcbn1cbnZhciBJU19CQVNJQ19BU0NJSSA9IC9eW1xcdFxcblxcclxceDIwLVxceDdFXSokLztcbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGBzdHJgIGNvbnRhaW5zIG9ubHkgYmFzaWMgQVNDSUkgY2hhcmFjdGVycyBpbiB0aGUgcmFuZ2UgMzIgLSAxMjYgKGluY2x1ZGluZyAzMiBhbmQgMTI2KSBvciBcXG4sIFxcciwgXFx0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Jhc2ljQVNDSUkoc3RyKSB7XG4gICAgcmV0dXJuIElTX0JBU0lDX0FTQ0lJLnRlc3Qoc3RyKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb250YWluc0Z1bGxXaWR0aENoYXJhY3RlcihzdHIpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gc3RyLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmIChpc0Z1bGxXaWR0aENoYXJhY3RlcihzdHIuY2hhckNvZGVBdChpKSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bGxXaWR0aENoYXJhY3RlcihjaGFyQ29kZSkge1xuICAgIC8vIERvIGEgY2hlYXAgdHJpY2sgdG8gYmV0dGVyIHN1cHBvcnQgd3JhcHBpbmcgb2Ygd2lkZSBjaGFyYWN0ZXJzLCB0cmVhdCB0aGVtIGFzIDIgY29sdW1uc1xuICAgIC8vIGh0dHA6Ly9qcmdyYXBoaXgubmV0L3Jlc2VhcmNoL3VuaWNvZGVfYmxvY2tzLnBocFxuICAgIC8vICAgICAgICAgIDJFODAg4oCUIDJFRkYgICBDSksgUmFkaWNhbHMgU3VwcGxlbWVudFxuICAgIC8vICAgICAgICAgIDJGMDAg4oCUIDJGREYgICBLYW5neGkgUmFkaWNhbHNcbiAgICAvLyAgICAgICAgICAyRkYwIOKAlCAyRkZGICAgSWRlb2dyYXBoaWMgRGVzY3JpcHRpb24gQ2hhcmFjdGVyc1xuICAgIC8vICAgICAgICAgIDMwMDAg4oCUIDMwM0YgICBDSksgU3ltYm9scyBhbmQgUHVuY3R1YXRpb25cbiAgICAvLyAgICAgICAgICAzMDQwIOKAlCAzMDlGICAgSGlyYWdhbmFcbiAgICAvLyAgICAgICAgICAzMEEwIOKAlCAzMEZGICAgS2F0YWthbmFcbiAgICAvLyAgICAgICAgICAzMTAwIOKAlCAzMTJGICAgQm9wb21vZm9cbiAgICAvLyAgICAgICAgICAzMTMwIOKAlCAzMThGICAgSGFuZ3VsIENvbXBhdGliaWxpdHkgSmFtb1xuICAgIC8vICAgICAgICAgIDMxOTAg4oCUIDMxOUYgICBLYW5idW5cbiAgICAvLyAgICAgICAgICAzMUEwIOKAlCAzMUJGICAgQm9wb21vZm8gRXh0ZW5kZWRcbiAgICAvLyAgICAgICAgICAzMUYwIOKAlCAzMUZGICAgS2F0YWthbmEgUGhvbmV0aWMgRXh0ZW5zaW9uc1xuICAgIC8vICAgICAgICAgIDMyMDAg4oCUIDMyRkYgICBFbmNsb3NlZCBDSksgTGV0dGVycyBhbmQgTW9udGhzXG4gICAgLy8gICAgICAgICAgMzMwMCDigJQgMzNGRiAgIENKSyBDb21wYXRpYmlsaXR5XG4gICAgLy8gICAgICAgICAgMzQwMCDigJQgNERCRiAgIENKSyBVbmlmaWVkIElkZW9ncmFwaHMgRXh0ZW5zaW9uIEFcbiAgICAvLyAgICAgICAgICA0REMwIOKAlCA0REZGICAgWWlqaW5nIEhleGFncmFtIFN5bWJvbHNcbiAgICAvLyAgICAgICAgICA0RTAwIOKAlCA5RkZGICAgQ0pLIFVuaWZpZWQgSWRlb2dyYXBoc1xuICAgIC8vICAgICAgICAgIEEwMDAg4oCUIEE0OEYgICBZaSBTeWxsYWJsZXNcbiAgICAvLyAgICAgICAgICBBNDkwIOKAlCBBNENGICAgWWkgUmFkaWNhbHNcbiAgICAvLyAgICAgICAgICBBQzAwIOKAlCBEN0FGICAgSGFuZ3VsIFN5bGxhYmxlc1xuICAgIC8vIFtJR05PUkVdIEQ4MDAg4oCUIERCN0YgICBIaWdoIFN1cnJvZ2F0ZXNcbiAgICAvLyBbSUdOT1JFXSBEQjgwIOKAlCBEQkZGICAgSGlnaCBQcml2YXRlIFVzZSBTdXJyb2dhdGVzXG4gICAgLy8gW0lHTk9SRV0gREMwMCDigJQgREZGRiAgIExvdyBTdXJyb2dhdGVzXG4gICAgLy8gW0lHTk9SRV0gRTAwMCDigJQgRjhGRiAgIFByaXZhdGUgVXNlIEFyZWFcbiAgICAvLyAgICAgICAgICBGOTAwIOKAlCBGQUZGICAgQ0pLIENvbXBhdGliaWxpdHkgSWRlb2dyYXBoc1xuICAgIC8vIFtJR05PUkVdIEZCMDAg4oCUIEZCNEYgICBBbHBoYWJldGljIFByZXNlbnRhdGlvbiBGb3Jtc1xuICAgIC8vIFtJR05PUkVdIEZCNTAg4oCUIEZERkYgICBBcmFiaWMgUHJlc2VudGF0aW9uIEZvcm1zLUFcbiAgICAvLyBbSUdOT1JFXSBGRTAwIOKAlCBGRTBGICAgVmFyaWF0aW9uIFNlbGVjdG9yc1xuICAgIC8vIFtJR05PUkVdIEZFMjAg4oCUIEZFMkYgICBDb21iaW5pbmcgSGFsZiBNYXJrc1xuICAgIC8vIFtJR05PUkVdIEZFMzAg4oCUIEZFNEYgICBDSksgQ29tcGF0aWJpbGl0eSBGb3Jtc1xuICAgIC8vIFtJR05PUkVdIEZFNTAg4oCUIEZFNkYgICBTbWFsbCBGb3JtIFZhcmlhbnRzXG4gICAgLy8gW0lHTk9SRV0gRkU3MCDigJQgRkVGRiAgIEFyYWJpYyBQcmVzZW50YXRpb24gRm9ybXMtQlxuICAgIC8vICAgICAgICAgIEZGMDAg4oCUIEZGRUYgICBIYWxmd2lkdGggYW5kIEZ1bGx3aWR0aCBGb3Jtc1xuICAgIC8vICAgICAgICAgICAgICAgW2h0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0hhbGZ3aWR0aF9hbmRfZnVsbHdpZHRoX2Zvcm1zXVxuICAgIC8vICAgICAgICAgICAgICAgb2Ygd2hpY2ggRkYwMSAtIEZGNUUgZnVsbHdpZHRoIEFTQ0lJIG9mIDIxIHRvIDdFXG4gICAgLy8gW0lHTk9SRV0gICAgYW5kIEZGNjUgLSBGRkRDIGhhbGZ3aWR0aCBvZiBLYXRha2FuYSBhbmQgSGFuZ3VsXG4gICAgLy8gW0lHTk9SRV0gRkZGMCDigJQgRkZGRiAgIFNwZWNpYWxzXG4gICAgY2hhckNvZGUgPSArY2hhckNvZGU7IC8vIEBwZXJmXG4gICAgcmV0dXJuICgoY2hhckNvZGUgPj0gMHgyRTgwICYmIGNoYXJDb2RlIDw9IDB4RDdBRilcbiAgICAgICAgfHwgKGNoYXJDb2RlID49IDB4RjkwMCAmJiBjaGFyQ29kZSA8PSAweEZBRkYpXG4gICAgICAgIHx8IChjaGFyQ29kZSA+PSAweEZGMDEgJiYgY2hhckNvZGUgPD0gMHhGRjVFKSk7XG59XG4vLyAtLSBVVEYtOCBCT01cbmV4cG9ydCB2YXIgVVRGOF9CT01fQ0hBUkFDVEVSID0gU3RyaW5nLmZyb21DaGFyQ29kZSg2NTI3OSAvKiBVVEY4X0JPTSAqLyk7XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRzV2l0aFVURjhCT00oc3RyKSB7XG4gICAgcmV0dXJuIChzdHIgJiYgc3RyLmxlbmd0aCA+IDAgJiYgc3RyLmNoYXJDb2RlQXQoMCkgPT09IDY1Mjc5IC8qIFVURjhfQk9NICovKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzYWZlQnRvYShzdHIpIHtcbiAgICByZXR1cm4gYnRvYShlbmNvZGVVUklDb21wb25lbnQoc3RyKSk7IC8vIHdlIHVzZSBlbmNvZGVVUklDb21wb25lbnQgYmVjYXVzZSBidG9hIGZhaWxzIGZvciBub24gTGF0aW4gMSB2YWx1ZXNcbn1cbmV4cG9ydCBmdW5jdGlvbiByZXBlYXQocywgY291bnQpIHtcbiAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgIHJlc3VsdCArPSBzO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBMY3NEaWZmIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vZGlmZi9kaWZmLmpzJztcbmltcG9ydCAqIGFzIHN0cmluZ3MgZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vc3RyaW5ncy5qcyc7XG52YXIgTUFYSU1VTV9SVU5fVElNRSA9IDUwMDA7IC8vIDUgc2Vjb25kc1xudmFyIE1JTklNVU1fTUFUQ0hJTkdfQ0hBUkFDVEVSX0xFTkdUSCA9IDM7XG5mdW5jdGlvbiBjb21wdXRlRGlmZihvcmlnaW5hbFNlcXVlbmNlLCBtb2RpZmllZFNlcXVlbmNlLCBjb250aW51ZVByb2Nlc3NpbmdQcmVkaWNhdGUsIHByZXR0eSkge1xuICAgIHZhciBkaWZmQWxnbyA9IG5ldyBMY3NEaWZmKG9yaWdpbmFsU2VxdWVuY2UsIG1vZGlmaWVkU2VxdWVuY2UsIGNvbnRpbnVlUHJvY2Vzc2luZ1ByZWRpY2F0ZSk7XG4gICAgcmV0dXJuIGRpZmZBbGdvLkNvbXB1dGVEaWZmKHByZXR0eSk7XG59XG52YXIgTGluZU1hcmtlclNlcXVlbmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExpbmVNYXJrZXJTZXF1ZW5jZShsaW5lcykge1xuICAgICAgICB2YXIgc3RhcnRDb2x1bW5zID0gW107XG4gICAgICAgIHZhciBlbmRDb2x1bW5zID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IGxpbmVzLmxlbmd0aDsgaSA8IGxlbmd0aF8xOyBpKyspIHtcbiAgICAgICAgICAgIHN0YXJ0Q29sdW1uc1tpXSA9IExpbmVNYXJrZXJTZXF1ZW5jZS5fZ2V0Rmlyc3ROb25CbGFua0NvbHVtbihsaW5lc1tpXSwgMSk7XG4gICAgICAgICAgICBlbmRDb2x1bW5zW2ldID0gTGluZU1hcmtlclNlcXVlbmNlLl9nZXRMYXN0Tm9uQmxhbmtDb2x1bW4obGluZXNbaV0sIDEpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2xpbmVzID0gbGluZXM7XG4gICAgICAgIHRoaXMuX3N0YXJ0Q29sdW1ucyA9IHN0YXJ0Q29sdW1ucztcbiAgICAgICAgdGhpcy5fZW5kQ29sdW1ucyA9IGVuZENvbHVtbnM7XG4gICAgfVxuICAgIExpbmVNYXJrZXJTZXF1ZW5jZS5wcm90b3R5cGUuZ2V0TGVuZ3RoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGluZXMubGVuZ3RoO1xuICAgIH07XG4gICAgTGluZU1hcmtlclNlcXVlbmNlLnByb3RvdHlwZS5nZXRFbGVtZW50QXRJbmRleCA9IGZ1bmN0aW9uIChpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9saW5lc1tpXS5zdWJzdHJpbmcodGhpcy5fc3RhcnRDb2x1bW5zW2ldIC0gMSwgdGhpcy5fZW5kQ29sdW1uc1tpXSAtIDEpO1xuICAgIH07XG4gICAgTGluZU1hcmtlclNlcXVlbmNlLnByb3RvdHlwZS5nZXRTdGFydExpbmVOdW1iZXIgPSBmdW5jdGlvbiAoaSkge1xuICAgICAgICByZXR1cm4gaSArIDE7XG4gICAgfTtcbiAgICBMaW5lTWFya2VyU2VxdWVuY2UucHJvdG90eXBlLmdldEVuZExpbmVOdW1iZXIgPSBmdW5jdGlvbiAoaSkge1xuICAgICAgICByZXR1cm4gaSArIDE7XG4gICAgfTtcbiAgICBMaW5lTWFya2VyU2VxdWVuY2UuX2dldEZpcnN0Tm9uQmxhbmtDb2x1bW4gPSBmdW5jdGlvbiAodHh0LCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgdmFyIHIgPSBzdHJpbmdzLmZpcnN0Tm9uV2hpdGVzcGFjZUluZGV4KHR4dCk7XG4gICAgICAgIGlmIChyID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gciArIDE7XG4gICAgfTtcbiAgICBMaW5lTWFya2VyU2VxdWVuY2UuX2dldExhc3ROb25CbGFua0NvbHVtbiA9IGZ1bmN0aW9uICh0eHQsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgICB2YXIgciA9IHN0cmluZ3MubGFzdE5vbldoaXRlc3BhY2VJbmRleCh0eHQpO1xuICAgICAgICBpZiAociA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHIgKyAyO1xuICAgIH07XG4gICAgTGluZU1hcmtlclNlcXVlbmNlLnByb3RvdHlwZS5nZXRDaGFyU2VxdWVuY2UgPSBmdW5jdGlvbiAoc2hvdWxkSWdub3JlVHJpbVdoaXRlc3BhY2UsIHN0YXJ0SW5kZXgsIGVuZEluZGV4KSB7XG4gICAgICAgIHZhciBjaGFyQ29kZXMgPSBbXTtcbiAgICAgICAgdmFyIGxpbmVOdW1iZXJzID0gW107XG4gICAgICAgIHZhciBjb2x1bW5zID0gW107XG4gICAgICAgIHZhciBsZW4gPSAwO1xuICAgICAgICBmb3IgKHZhciBpbmRleCA9IHN0YXJ0SW5kZXg7IGluZGV4IDw9IGVuZEluZGV4OyBpbmRleCsrKSB7XG4gICAgICAgICAgICB2YXIgbGluZUNvbnRlbnQgPSB0aGlzLl9saW5lc1tpbmRleF07XG4gICAgICAgICAgICB2YXIgc3RhcnRDb2x1bW4gPSAoc2hvdWxkSWdub3JlVHJpbVdoaXRlc3BhY2UgPyB0aGlzLl9zdGFydENvbHVtbnNbaW5kZXhdIDogMSk7XG4gICAgICAgICAgICB2YXIgZW5kQ29sdW1uID0gKHNob3VsZElnbm9yZVRyaW1XaGl0ZXNwYWNlID8gdGhpcy5fZW5kQ29sdW1uc1tpbmRleF0gOiBsaW5lQ29udGVudC5sZW5ndGggKyAxKTtcbiAgICAgICAgICAgIGZvciAodmFyIGNvbCA9IHN0YXJ0Q29sdW1uOyBjb2wgPCBlbmRDb2x1bW47IGNvbCsrKSB7XG4gICAgICAgICAgICAgICAgY2hhckNvZGVzW2xlbl0gPSBsaW5lQ29udGVudC5jaGFyQ29kZUF0KGNvbCAtIDEpO1xuICAgICAgICAgICAgICAgIGxpbmVOdW1iZXJzW2xlbl0gPSBpbmRleCArIDE7XG4gICAgICAgICAgICAgICAgY29sdW1uc1tsZW5dID0gY29sO1xuICAgICAgICAgICAgICAgIGxlbisrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQ2hhclNlcXVlbmNlKGNoYXJDb2RlcywgbGluZU51bWJlcnMsIGNvbHVtbnMpO1xuICAgIH07XG4gICAgcmV0dXJuIExpbmVNYXJrZXJTZXF1ZW5jZTtcbn0oKSk7XG52YXIgQ2hhclNlcXVlbmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENoYXJTZXF1ZW5jZShjaGFyQ29kZXMsIGxpbmVOdW1iZXJzLCBjb2x1bW5zKSB7XG4gICAgICAgIHRoaXMuX2NoYXJDb2RlcyA9IGNoYXJDb2RlcztcbiAgICAgICAgdGhpcy5fbGluZU51bWJlcnMgPSBsaW5lTnVtYmVycztcbiAgICAgICAgdGhpcy5fY29sdW1ucyA9IGNvbHVtbnM7XG4gICAgfVxuICAgIENoYXJTZXF1ZW5jZS5wcm90b3R5cGUuZ2V0TGVuZ3RoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hhckNvZGVzLmxlbmd0aDtcbiAgICB9O1xuICAgIENoYXJTZXF1ZW5jZS5wcm90b3R5cGUuZ2V0RWxlbWVudEF0SW5kZXggPSBmdW5jdGlvbiAoaSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hhckNvZGVzW2ldO1xuICAgIH07XG4gICAgQ2hhclNlcXVlbmNlLnByb3RvdHlwZS5nZXRTdGFydExpbmVOdW1iZXIgPSBmdW5jdGlvbiAoaSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGluZU51bWJlcnNbaV07XG4gICAgfTtcbiAgICBDaGFyU2VxdWVuY2UucHJvdG90eXBlLmdldFN0YXJ0Q29sdW1uID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbHVtbnNbaV07XG4gICAgfTtcbiAgICBDaGFyU2VxdWVuY2UucHJvdG90eXBlLmdldEVuZExpbmVOdW1iZXIgPSBmdW5jdGlvbiAoaSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGluZU51bWJlcnNbaV07XG4gICAgfTtcbiAgICBDaGFyU2VxdWVuY2UucHJvdG90eXBlLmdldEVuZENvbHVtbiA9IGZ1bmN0aW9uIChpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb2x1bW5zW2ldICsgMTtcbiAgICB9O1xuICAgIHJldHVybiBDaGFyU2VxdWVuY2U7XG59KCkpO1xudmFyIENoYXJDaGFuZ2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2hhckNoYW5nZShvcmlnaW5hbFN0YXJ0TGluZU51bWJlciwgb3JpZ2luYWxTdGFydENvbHVtbiwgb3JpZ2luYWxFbmRMaW5lTnVtYmVyLCBvcmlnaW5hbEVuZENvbHVtbiwgbW9kaWZpZWRTdGFydExpbmVOdW1iZXIsIG1vZGlmaWVkU3RhcnRDb2x1bW4sIG1vZGlmaWVkRW5kTGluZU51bWJlciwgbW9kaWZpZWRFbmRDb2x1bW4pIHtcbiAgICAgICAgdGhpcy5vcmlnaW5hbFN0YXJ0TGluZU51bWJlciA9IG9yaWdpbmFsU3RhcnRMaW5lTnVtYmVyO1xuICAgICAgICB0aGlzLm9yaWdpbmFsU3RhcnRDb2x1bW4gPSBvcmlnaW5hbFN0YXJ0Q29sdW1uO1xuICAgICAgICB0aGlzLm9yaWdpbmFsRW5kTGluZU51bWJlciA9IG9yaWdpbmFsRW5kTGluZU51bWJlcjtcbiAgICAgICAgdGhpcy5vcmlnaW5hbEVuZENvbHVtbiA9IG9yaWdpbmFsRW5kQ29sdW1uO1xuICAgICAgICB0aGlzLm1vZGlmaWVkU3RhcnRMaW5lTnVtYmVyID0gbW9kaWZpZWRTdGFydExpbmVOdW1iZXI7XG4gICAgICAgIHRoaXMubW9kaWZpZWRTdGFydENvbHVtbiA9IG1vZGlmaWVkU3RhcnRDb2x1bW47XG4gICAgICAgIHRoaXMubW9kaWZpZWRFbmRMaW5lTnVtYmVyID0gbW9kaWZpZWRFbmRMaW5lTnVtYmVyO1xuICAgICAgICB0aGlzLm1vZGlmaWVkRW5kQ29sdW1uID0gbW9kaWZpZWRFbmRDb2x1bW47XG4gICAgfVxuICAgIENoYXJDaGFuZ2UuY3JlYXRlRnJvbURpZmZDaGFuZ2UgPSBmdW5jdGlvbiAoZGlmZkNoYW5nZSwgb3JpZ2luYWxDaGFyU2VxdWVuY2UsIG1vZGlmaWVkQ2hhclNlcXVlbmNlKSB7XG4gICAgICAgIHZhciBvcmlnaW5hbFN0YXJ0TGluZU51bWJlcjtcbiAgICAgICAgdmFyIG9yaWdpbmFsU3RhcnRDb2x1bW47XG4gICAgICAgIHZhciBvcmlnaW5hbEVuZExpbmVOdW1iZXI7XG4gICAgICAgIHZhciBvcmlnaW5hbEVuZENvbHVtbjtcbiAgICAgICAgdmFyIG1vZGlmaWVkU3RhcnRMaW5lTnVtYmVyO1xuICAgICAgICB2YXIgbW9kaWZpZWRTdGFydENvbHVtbjtcbiAgICAgICAgdmFyIG1vZGlmaWVkRW5kTGluZU51bWJlcjtcbiAgICAgICAgdmFyIG1vZGlmaWVkRW5kQ29sdW1uO1xuICAgICAgICBpZiAoZGlmZkNoYW5nZS5vcmlnaW5hbExlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgb3JpZ2luYWxTdGFydExpbmVOdW1iZXIgPSAwO1xuICAgICAgICAgICAgb3JpZ2luYWxTdGFydENvbHVtbiA9IDA7XG4gICAgICAgICAgICBvcmlnaW5hbEVuZExpbmVOdW1iZXIgPSAwO1xuICAgICAgICAgICAgb3JpZ2luYWxFbmRDb2x1bW4gPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3JpZ2luYWxTdGFydExpbmVOdW1iZXIgPSBvcmlnaW5hbENoYXJTZXF1ZW5jZS5nZXRTdGFydExpbmVOdW1iZXIoZGlmZkNoYW5nZS5vcmlnaW5hbFN0YXJ0KTtcbiAgICAgICAgICAgIG9yaWdpbmFsU3RhcnRDb2x1bW4gPSBvcmlnaW5hbENoYXJTZXF1ZW5jZS5nZXRTdGFydENvbHVtbihkaWZmQ2hhbmdlLm9yaWdpbmFsU3RhcnQpO1xuICAgICAgICAgICAgb3JpZ2luYWxFbmRMaW5lTnVtYmVyID0gb3JpZ2luYWxDaGFyU2VxdWVuY2UuZ2V0RW5kTGluZU51bWJlcihkaWZmQ2hhbmdlLm9yaWdpbmFsU3RhcnQgKyBkaWZmQ2hhbmdlLm9yaWdpbmFsTGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICBvcmlnaW5hbEVuZENvbHVtbiA9IG9yaWdpbmFsQ2hhclNlcXVlbmNlLmdldEVuZENvbHVtbihkaWZmQ2hhbmdlLm9yaWdpbmFsU3RhcnQgKyBkaWZmQ2hhbmdlLm9yaWdpbmFsTGVuZ3RoIC0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRpZmZDaGFuZ2UubW9kaWZpZWRMZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIG1vZGlmaWVkU3RhcnRMaW5lTnVtYmVyID0gMDtcbiAgICAgICAgICAgIG1vZGlmaWVkU3RhcnRDb2x1bW4gPSAwO1xuICAgICAgICAgICAgbW9kaWZpZWRFbmRMaW5lTnVtYmVyID0gMDtcbiAgICAgICAgICAgIG1vZGlmaWVkRW5kQ29sdW1uID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG1vZGlmaWVkU3RhcnRMaW5lTnVtYmVyID0gbW9kaWZpZWRDaGFyU2VxdWVuY2UuZ2V0U3RhcnRMaW5lTnVtYmVyKGRpZmZDaGFuZ2UubW9kaWZpZWRTdGFydCk7XG4gICAgICAgICAgICBtb2RpZmllZFN0YXJ0Q29sdW1uID0gbW9kaWZpZWRDaGFyU2VxdWVuY2UuZ2V0U3RhcnRDb2x1bW4oZGlmZkNoYW5nZS5tb2RpZmllZFN0YXJ0KTtcbiAgICAgICAgICAgIG1vZGlmaWVkRW5kTGluZU51bWJlciA9IG1vZGlmaWVkQ2hhclNlcXVlbmNlLmdldEVuZExpbmVOdW1iZXIoZGlmZkNoYW5nZS5tb2RpZmllZFN0YXJ0ICsgZGlmZkNoYW5nZS5tb2RpZmllZExlbmd0aCAtIDEpO1xuICAgICAgICAgICAgbW9kaWZpZWRFbmRDb2x1bW4gPSBtb2RpZmllZENoYXJTZXF1ZW5jZS5nZXRFbmRDb2x1bW4oZGlmZkNoYW5nZS5tb2RpZmllZFN0YXJ0ICsgZGlmZkNoYW5nZS5tb2RpZmllZExlbmd0aCAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQ2hhckNoYW5nZShvcmlnaW5hbFN0YXJ0TGluZU51bWJlciwgb3JpZ2luYWxTdGFydENvbHVtbiwgb3JpZ2luYWxFbmRMaW5lTnVtYmVyLCBvcmlnaW5hbEVuZENvbHVtbiwgbW9kaWZpZWRTdGFydExpbmVOdW1iZXIsIG1vZGlmaWVkU3RhcnRDb2x1bW4sIG1vZGlmaWVkRW5kTGluZU51bWJlciwgbW9kaWZpZWRFbmRDb2x1bW4pO1xuICAgIH07XG4gICAgcmV0dXJuIENoYXJDaGFuZ2U7XG59KCkpO1xuZnVuY3Rpb24gcG9zdFByb2Nlc3NDaGFyQ2hhbmdlcyhyYXdDaGFuZ2VzKSB7XG4gICAgaWYgKHJhd0NoYW5nZXMubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgcmV0dXJuIHJhd0NoYW5nZXM7XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSBbcmF3Q2hhbmdlc1swXV07XG4gICAgdmFyIHByZXZDaGFuZ2UgPSByZXN1bHRbMF07XG4gICAgZm9yICh2YXIgaSA9IDEsIGxlbiA9IHJhd0NoYW5nZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIGN1cnJDaGFuZ2UgPSByYXdDaGFuZ2VzW2ldO1xuICAgICAgICB2YXIgb3JpZ2luYWxNYXRjaGluZ0xlbmd0aCA9IGN1cnJDaGFuZ2Uub3JpZ2luYWxTdGFydCAtIChwcmV2Q2hhbmdlLm9yaWdpbmFsU3RhcnQgKyBwcmV2Q2hhbmdlLm9yaWdpbmFsTGVuZ3RoKTtcbiAgICAgICAgdmFyIG1vZGlmaWVkTWF0Y2hpbmdMZW5ndGggPSBjdXJyQ2hhbmdlLm1vZGlmaWVkU3RhcnQgLSAocHJldkNoYW5nZS5tb2RpZmllZFN0YXJ0ICsgcHJldkNoYW5nZS5tb2RpZmllZExlbmd0aCk7XG4gICAgICAgIC8vIEJvdGggb2YgdGhlIGFib3ZlIHNob3VsZCBiZSBlcXVhbCwgYnV0IHRoZSBjb250aW51ZVByb2Nlc3NpbmdQcmVkaWNhdGUgbWF5IHByZXZlbnQgdGhpcyBmcm9tIGJlaW5nIHRydWVcbiAgICAgICAgdmFyIG1hdGNoaW5nTGVuZ3RoID0gTWF0aC5taW4ob3JpZ2luYWxNYXRjaGluZ0xlbmd0aCwgbW9kaWZpZWRNYXRjaGluZ0xlbmd0aCk7XG4gICAgICAgIGlmIChtYXRjaGluZ0xlbmd0aCA8IE1JTklNVU1fTUFUQ0hJTkdfQ0hBUkFDVEVSX0xFTkdUSCkge1xuICAgICAgICAgICAgLy8gTWVyZ2UgdGhlIGN1cnJlbnQgY2hhbmdlIGludG8gdGhlIHByZXZpb3VzIG9uZVxuICAgICAgICAgICAgcHJldkNoYW5nZS5vcmlnaW5hbExlbmd0aCA9IChjdXJyQ2hhbmdlLm9yaWdpbmFsU3RhcnQgKyBjdXJyQ2hhbmdlLm9yaWdpbmFsTGVuZ3RoKSAtIHByZXZDaGFuZ2Uub3JpZ2luYWxTdGFydDtcbiAgICAgICAgICAgIHByZXZDaGFuZ2UubW9kaWZpZWRMZW5ndGggPSAoY3VyckNoYW5nZS5tb2RpZmllZFN0YXJ0ICsgY3VyckNoYW5nZS5tb2RpZmllZExlbmd0aCkgLSBwcmV2Q2hhbmdlLm1vZGlmaWVkU3RhcnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBBZGQgdGhlIGN1cnJlbnQgY2hhbmdlXG4gICAgICAgICAgICByZXN1bHQucHVzaChjdXJyQ2hhbmdlKTtcbiAgICAgICAgICAgIHByZXZDaGFuZ2UgPSBjdXJyQ2hhbmdlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG52YXIgTGluZUNoYW5nZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMaW5lQ2hhbmdlKG9yaWdpbmFsU3RhcnRMaW5lTnVtYmVyLCBvcmlnaW5hbEVuZExpbmVOdW1iZXIsIG1vZGlmaWVkU3RhcnRMaW5lTnVtYmVyLCBtb2RpZmllZEVuZExpbmVOdW1iZXIsIGNoYXJDaGFuZ2VzKSB7XG4gICAgICAgIHRoaXMub3JpZ2luYWxTdGFydExpbmVOdW1iZXIgPSBvcmlnaW5hbFN0YXJ0TGluZU51bWJlcjtcbiAgICAgICAgdGhpcy5vcmlnaW5hbEVuZExpbmVOdW1iZXIgPSBvcmlnaW5hbEVuZExpbmVOdW1iZXI7XG4gICAgICAgIHRoaXMubW9kaWZpZWRTdGFydExpbmVOdW1iZXIgPSBtb2RpZmllZFN0YXJ0TGluZU51bWJlcjtcbiAgICAgICAgdGhpcy5tb2RpZmllZEVuZExpbmVOdW1iZXIgPSBtb2RpZmllZEVuZExpbmVOdW1iZXI7XG4gICAgICAgIHRoaXMuY2hhckNoYW5nZXMgPSBjaGFyQ2hhbmdlcztcbiAgICB9XG4gICAgTGluZUNoYW5nZS5jcmVhdGVGcm9tRGlmZlJlc3VsdCA9IGZ1bmN0aW9uIChzaG91bGRJZ25vcmVUcmltV2hpdGVzcGFjZSwgZGlmZkNoYW5nZSwgb3JpZ2luYWxMaW5lU2VxdWVuY2UsIG1vZGlmaWVkTGluZVNlcXVlbmNlLCBjb250aW51ZVByb2Nlc3NpbmdQcmVkaWNhdGUsIHNob3VsZENvbXB1dGVDaGFyQ2hhbmdlcywgc2hvdWxkUG9zdFByb2Nlc3NDaGFyQ2hhbmdlcykge1xuICAgICAgICB2YXIgb3JpZ2luYWxTdGFydExpbmVOdW1iZXI7XG4gICAgICAgIHZhciBvcmlnaW5hbEVuZExpbmVOdW1iZXI7XG4gICAgICAgIHZhciBtb2RpZmllZFN0YXJ0TGluZU51bWJlcjtcbiAgICAgICAgdmFyIG1vZGlmaWVkRW5kTGluZU51bWJlcjtcbiAgICAgICAgdmFyIGNoYXJDaGFuZ2VzO1xuICAgICAgICBpZiAoZGlmZkNoYW5nZS5vcmlnaW5hbExlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgb3JpZ2luYWxTdGFydExpbmVOdW1iZXIgPSBvcmlnaW5hbExpbmVTZXF1ZW5jZS5nZXRTdGFydExpbmVOdW1iZXIoZGlmZkNoYW5nZS5vcmlnaW5hbFN0YXJ0KSAtIDE7XG4gICAgICAgICAgICBvcmlnaW5hbEVuZExpbmVOdW1iZXIgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb3JpZ2luYWxTdGFydExpbmVOdW1iZXIgPSBvcmlnaW5hbExpbmVTZXF1ZW5jZS5nZXRTdGFydExpbmVOdW1iZXIoZGlmZkNoYW5nZS5vcmlnaW5hbFN0YXJ0KTtcbiAgICAgICAgICAgIG9yaWdpbmFsRW5kTGluZU51bWJlciA9IG9yaWdpbmFsTGluZVNlcXVlbmNlLmdldEVuZExpbmVOdW1iZXIoZGlmZkNoYW5nZS5vcmlnaW5hbFN0YXJ0ICsgZGlmZkNoYW5nZS5vcmlnaW5hbExlbmd0aCAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaWZmQ2hhbmdlLm1vZGlmaWVkTGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBtb2RpZmllZFN0YXJ0TGluZU51bWJlciA9IG1vZGlmaWVkTGluZVNlcXVlbmNlLmdldFN0YXJ0TGluZU51bWJlcihkaWZmQ2hhbmdlLm1vZGlmaWVkU3RhcnQpIC0gMTtcbiAgICAgICAgICAgIG1vZGlmaWVkRW5kTGluZU51bWJlciA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtb2RpZmllZFN0YXJ0TGluZU51bWJlciA9IG1vZGlmaWVkTGluZVNlcXVlbmNlLmdldFN0YXJ0TGluZU51bWJlcihkaWZmQ2hhbmdlLm1vZGlmaWVkU3RhcnQpO1xuICAgICAgICAgICAgbW9kaWZpZWRFbmRMaW5lTnVtYmVyID0gbW9kaWZpZWRMaW5lU2VxdWVuY2UuZ2V0RW5kTGluZU51bWJlcihkaWZmQ2hhbmdlLm1vZGlmaWVkU3RhcnQgKyBkaWZmQ2hhbmdlLm1vZGlmaWVkTGVuZ3RoIC0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNob3VsZENvbXB1dGVDaGFyQ2hhbmdlcyAmJiBkaWZmQ2hhbmdlLm9yaWdpbmFsTGVuZ3RoICE9PSAwICYmIGRpZmZDaGFuZ2UubW9kaWZpZWRMZW5ndGggIT09IDAgJiYgY29udGludWVQcm9jZXNzaW5nUHJlZGljYXRlKCkpIHtcbiAgICAgICAgICAgIHZhciBvcmlnaW5hbENoYXJTZXF1ZW5jZSA9IG9yaWdpbmFsTGluZVNlcXVlbmNlLmdldENoYXJTZXF1ZW5jZShzaG91bGRJZ25vcmVUcmltV2hpdGVzcGFjZSwgZGlmZkNoYW5nZS5vcmlnaW5hbFN0YXJ0LCBkaWZmQ2hhbmdlLm9yaWdpbmFsU3RhcnQgKyBkaWZmQ2hhbmdlLm9yaWdpbmFsTGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICB2YXIgbW9kaWZpZWRDaGFyU2VxdWVuY2UgPSBtb2RpZmllZExpbmVTZXF1ZW5jZS5nZXRDaGFyU2VxdWVuY2Uoc2hvdWxkSWdub3JlVHJpbVdoaXRlc3BhY2UsIGRpZmZDaGFuZ2UubW9kaWZpZWRTdGFydCwgZGlmZkNoYW5nZS5tb2RpZmllZFN0YXJ0ICsgZGlmZkNoYW5nZS5tb2RpZmllZExlbmd0aCAtIDEpO1xuICAgICAgICAgICAgdmFyIHJhd0NoYW5nZXMgPSBjb21wdXRlRGlmZihvcmlnaW5hbENoYXJTZXF1ZW5jZSwgbW9kaWZpZWRDaGFyU2VxdWVuY2UsIGNvbnRpbnVlUHJvY2Vzc2luZ1ByZWRpY2F0ZSwgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAoc2hvdWxkUG9zdFByb2Nlc3NDaGFyQ2hhbmdlcykge1xuICAgICAgICAgICAgICAgIHJhd0NoYW5nZXMgPSBwb3N0UHJvY2Vzc0NoYXJDaGFuZ2VzKHJhd0NoYW5nZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hhckNoYW5nZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMiA9IHJhd0NoYW5nZXMubGVuZ3RoOyBpIDwgbGVuZ3RoXzI7IGkrKykge1xuICAgICAgICAgICAgICAgIGNoYXJDaGFuZ2VzLnB1c2goQ2hhckNoYW5nZS5jcmVhdGVGcm9tRGlmZkNoYW5nZShyYXdDaGFuZ2VzW2ldLCBvcmlnaW5hbENoYXJTZXF1ZW5jZSwgbW9kaWZpZWRDaGFyU2VxdWVuY2UpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IExpbmVDaGFuZ2Uob3JpZ2luYWxTdGFydExpbmVOdW1iZXIsIG9yaWdpbmFsRW5kTGluZU51bWJlciwgbW9kaWZpZWRTdGFydExpbmVOdW1iZXIsIG1vZGlmaWVkRW5kTGluZU51bWJlciwgY2hhckNoYW5nZXMpO1xuICAgIH07XG4gICAgcmV0dXJuIExpbmVDaGFuZ2U7XG59KCkpO1xudmFyIERpZmZDb21wdXRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEaWZmQ29tcHV0ZXIob3JpZ2luYWxMaW5lcywgbW9kaWZpZWRMaW5lcywgb3B0cykge1xuICAgICAgICB0aGlzLnNob3VsZENvbXB1dGVDaGFyQ2hhbmdlcyA9IG9wdHMuc2hvdWxkQ29tcHV0ZUNoYXJDaGFuZ2VzO1xuICAgICAgICB0aGlzLnNob3VsZFBvc3RQcm9jZXNzQ2hhckNoYW5nZXMgPSBvcHRzLnNob3VsZFBvc3RQcm9jZXNzQ2hhckNoYW5nZXM7XG4gICAgICAgIHRoaXMuc2hvdWxkSWdub3JlVHJpbVdoaXRlc3BhY2UgPSBvcHRzLnNob3VsZElnbm9yZVRyaW1XaGl0ZXNwYWNlO1xuICAgICAgICB0aGlzLnNob3VsZE1ha2VQcmV0dHlEaWZmID0gb3B0cy5zaG91bGRNYWtlUHJldHR5RGlmZjtcbiAgICAgICAgdGhpcy5tYXhpbXVtUnVuVGltZU1zID0gTUFYSU1VTV9SVU5fVElNRTtcbiAgICAgICAgdGhpcy5vcmlnaW5hbExpbmVzID0gb3JpZ2luYWxMaW5lcztcbiAgICAgICAgdGhpcy5tb2RpZmllZExpbmVzID0gbW9kaWZpZWRMaW5lcztcbiAgICAgICAgdGhpcy5vcmlnaW5hbCA9IG5ldyBMaW5lTWFya2VyU2VxdWVuY2Uob3JpZ2luYWxMaW5lcyk7XG4gICAgICAgIHRoaXMubW9kaWZpZWQgPSBuZXcgTGluZU1hcmtlclNlcXVlbmNlKG1vZGlmaWVkTGluZXMpO1xuICAgIH1cbiAgICBEaWZmQ29tcHV0ZXIucHJvdG90eXBlLmNvbXB1dGVEaWZmID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5vcmlnaW5hbC5nZXRMZW5ndGgoKSA9PT0gMSAmJiB0aGlzLm9yaWdpbmFsLmdldEVsZW1lbnRBdEluZGV4KDApLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gZW1wdHkgb3JpZ2luYWwgPT4gZmFzdCBwYXRoXG4gICAgICAgICAgICByZXR1cm4gW3tcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxTdGFydExpbmVOdW1iZXI6IDEsXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRW5kTGluZU51bWJlcjogMSxcbiAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRTdGFydExpbmVOdW1iZXI6IDEsXG4gICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkRW5kTGluZU51bWJlcjogdGhpcy5tb2RpZmllZC5nZXRMZW5ndGgoKSxcbiAgICAgICAgICAgICAgICAgICAgY2hhckNoYW5nZXM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRFbmRDb2x1bW46IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRFbmRMaW5lTnVtYmVyOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkU3RhcnRDb2x1bW46IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRTdGFydExpbmVOdW1iZXI6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFbmRDb2x1bW46IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFbmRMaW5lTnVtYmVyOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsU3RhcnRDb2x1bW46IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxTdGFydExpbmVOdW1iZXI6IDBcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICAgICAgfV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubW9kaWZpZWQuZ2V0TGVuZ3RoKCkgPT09IDEgJiYgdGhpcy5tb2RpZmllZC5nZXRFbGVtZW50QXRJbmRleCgwKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vIGVtcHR5IG1vZGlmaWVkID0+IGZhc3QgcGF0aFxuICAgICAgICAgICAgcmV0dXJuIFt7XG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsU3RhcnRMaW5lTnVtYmVyOiAxLFxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEVuZExpbmVOdW1iZXI6IHRoaXMub3JpZ2luYWwuZ2V0TGVuZ3RoKCksXG4gICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkU3RhcnRMaW5lTnVtYmVyOiAxLFxuICAgICAgICAgICAgICAgICAgICBtb2RpZmllZEVuZExpbmVOdW1iZXI6IDEsXG4gICAgICAgICAgICAgICAgICAgIGNoYXJDaGFuZ2VzOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkRW5kQ29sdW1uOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkRW5kTGluZU51bWJlcjogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RpZmllZFN0YXJ0Q29sdW1uOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkU3RhcnRMaW5lTnVtYmVyOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRW5kQ29sdW1uOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRW5kTGluZU51bWJlcjogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFN0YXJ0Q29sdW1uOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsU3RhcnRMaW5lTnVtYmVyOiAwXG4gICAgICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICAgIH1dO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29tcHV0YXRpb25TdGFydFRpbWUgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xuICAgICAgICB2YXIgcmF3Q2hhbmdlcyA9IGNvbXB1dGVEaWZmKHRoaXMub3JpZ2luYWwsIHRoaXMubW9kaWZpZWQsIHRoaXMuX2NvbnRpbnVlUHJvY2Vzc2luZ1ByZWRpY2F0ZS5iaW5kKHRoaXMpLCB0aGlzLnNob3VsZE1ha2VQcmV0dHlEaWZmKTtcbiAgICAgICAgLy8gVGhlIGRpZmYgaXMgYWx3YXlzIGNvbXB1dGVkIHdpdGggaWdub3JpbmcgdHJpbSB3aGl0ZXNwYWNlXG4gICAgICAgIC8vIFRoaXMgZW5zdXJlcyB3ZSBnZXQgdGhlIHByZXR0aWVzdCBkaWZmXG4gICAgICAgIGlmICh0aGlzLnNob3VsZElnbm9yZVRyaW1XaGl0ZXNwYWNlKSB7XG4gICAgICAgICAgICB2YXIgbGluZUNoYW5nZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMyA9IHJhd0NoYW5nZXMubGVuZ3RoOyBpIDwgbGVuZ3RoXzM7IGkrKykge1xuICAgICAgICAgICAgICAgIGxpbmVDaGFuZ2VzLnB1c2goTGluZUNoYW5nZS5jcmVhdGVGcm9tRGlmZlJlc3VsdCh0aGlzLnNob3VsZElnbm9yZVRyaW1XaGl0ZXNwYWNlLCByYXdDaGFuZ2VzW2ldLCB0aGlzLm9yaWdpbmFsLCB0aGlzLm1vZGlmaWVkLCB0aGlzLl9jb250aW51ZVByb2Nlc3NpbmdQcmVkaWNhdGUuYmluZCh0aGlzKSwgdGhpcy5zaG91bGRDb21wdXRlQ2hhckNoYW5nZXMsIHRoaXMuc2hvdWxkUG9zdFByb2Nlc3NDaGFyQ2hhbmdlcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGxpbmVDaGFuZ2VzO1xuICAgICAgICB9XG4gICAgICAgIC8vIE5lZWQgdG8gcG9zdC1wcm9jZXNzIGFuZCBpbnRyb2R1Y2UgY2hhbmdlcyB3aGVyZSB0aGUgdHJpbSB3aGl0ZXNwYWNlIGlzIGRpZmZlcmVudFxuICAgICAgICAvLyBOb3RlIHRoYXQgd2UgYXJlIGxvb3Bpbmcgc3RhcnRpbmcgYXQgLTEgdG8gYWxzbyBjb3ZlciB0aGUgbGluZXMgYmVmb3JlIHRoZSBmaXJzdCBjaGFuZ2VcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgICB2YXIgb3JpZ2luYWxMaW5lSW5kZXggPSAwO1xuICAgICAgICB2YXIgbW9kaWZpZWRMaW5lSW5kZXggPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gLTEgLyogISEhISAqLywgbGVuID0gcmF3Q2hhbmdlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIG5leHRDaGFuZ2UgPSAoaSArIDEgPCBsZW4gPyByYXdDaGFuZ2VzW2kgKyAxXSA6IG51bGwpO1xuICAgICAgICAgICAgdmFyIG9yaWdpbmFsU3RvcCA9IChuZXh0Q2hhbmdlID8gbmV4dENoYW5nZS5vcmlnaW5hbFN0YXJ0IDogdGhpcy5vcmlnaW5hbExpbmVzLmxlbmd0aCk7XG4gICAgICAgICAgICB2YXIgbW9kaWZpZWRTdG9wID0gKG5leHRDaGFuZ2UgPyBuZXh0Q2hhbmdlLm1vZGlmaWVkU3RhcnQgOiB0aGlzLm1vZGlmaWVkTGluZXMubGVuZ3RoKTtcbiAgICAgICAgICAgIHdoaWxlIChvcmlnaW5hbExpbmVJbmRleCA8IG9yaWdpbmFsU3RvcCAmJiBtb2RpZmllZExpbmVJbmRleCA8IG1vZGlmaWVkU3RvcCkge1xuICAgICAgICAgICAgICAgIHZhciBvcmlnaW5hbExpbmUgPSB0aGlzLm9yaWdpbmFsTGluZXNbb3JpZ2luYWxMaW5lSW5kZXhdO1xuICAgICAgICAgICAgICAgIHZhciBtb2RpZmllZExpbmUgPSB0aGlzLm1vZGlmaWVkTGluZXNbbW9kaWZpZWRMaW5lSW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbExpbmUgIT09IG1vZGlmaWVkTGluZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGVzZSBsaW5lcyBkaWZmZXIgb25seSBpbiB0cmltIHdoaXRlc3BhY2VcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgdGhlIGxlYWRpbmcgd2hpdGVzcGFjZVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3JpZ2luYWxTdGFydENvbHVtbiA9IExpbmVNYXJrZXJTZXF1ZW5jZS5fZ2V0Rmlyc3ROb25CbGFua0NvbHVtbihvcmlnaW5hbExpbmUsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGlmaWVkU3RhcnRDb2x1bW4gPSBMaW5lTWFya2VyU2VxdWVuY2UuX2dldEZpcnN0Tm9uQmxhbmtDb2x1bW4obW9kaWZpZWRMaW5lLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChvcmlnaW5hbFN0YXJ0Q29sdW1uID4gMSAmJiBtb2RpZmllZFN0YXJ0Q29sdW1uID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcmlnaW5hbENoYXIgPSBvcmlnaW5hbExpbmUuY2hhckNvZGVBdChvcmlnaW5hbFN0YXJ0Q29sdW1uIC0gMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGlmaWVkQ2hhciA9IG1vZGlmaWVkTGluZS5jaGFyQ29kZUF0KG1vZGlmaWVkU3RhcnRDb2x1bW4gLSAyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxDaGFyICE9PSBtb2RpZmllZENoYXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsU3RhcnRDb2x1bW4tLTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RpZmllZFN0YXJ0Q29sdW1uLS07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxTdGFydENvbHVtbiA+IDEgfHwgbW9kaWZpZWRTdGFydENvbHVtbiA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wdXNoVHJpbVdoaXRlc3BhY2VDaGFyQ2hhbmdlKHJlc3VsdCwgb3JpZ2luYWxMaW5lSW5kZXggKyAxLCAxLCBvcmlnaW5hbFN0YXJ0Q29sdW1uLCBtb2RpZmllZExpbmVJbmRleCArIDEsIDEsIG1vZGlmaWVkU3RhcnRDb2x1bW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIHRoZSB0cmFpbGluZyB3aGl0ZXNwYWNlXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcmlnaW5hbEVuZENvbHVtbiA9IExpbmVNYXJrZXJTZXF1ZW5jZS5fZ2V0TGFzdE5vbkJsYW5rQ29sdW1uKG9yaWdpbmFsTGluZSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbW9kaWZpZWRFbmRDb2x1bW4gPSBMaW5lTWFya2VyU2VxdWVuY2UuX2dldExhc3ROb25CbGFua0NvbHVtbihtb2RpZmllZExpbmUsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9yaWdpbmFsTWF4Q29sdW1uID0gb3JpZ2luYWxMaW5lLmxlbmd0aCArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbW9kaWZpZWRNYXhDb2x1bW4gPSBtb2RpZmllZExpbmUubGVuZ3RoICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChvcmlnaW5hbEVuZENvbHVtbiA8IG9yaWdpbmFsTWF4Q29sdW1uICYmIG1vZGlmaWVkRW5kQ29sdW1uIDwgbW9kaWZpZWRNYXhDb2x1bW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3JpZ2luYWxDaGFyID0gb3JpZ2luYWxMaW5lLmNoYXJDb2RlQXQob3JpZ2luYWxFbmRDb2x1bW4gLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbW9kaWZpZWRDaGFyID0gb3JpZ2luYWxMaW5lLmNoYXJDb2RlQXQobW9kaWZpZWRFbmRDb2x1bW4gLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxDaGFyICE9PSBtb2RpZmllZENoYXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRW5kQ29sdW1uKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRFbmRDb2x1bW4rKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbEVuZENvbHVtbiA8IG9yaWdpbmFsTWF4Q29sdW1uIHx8IG1vZGlmaWVkRW5kQ29sdW1uIDwgbW9kaWZpZWRNYXhDb2x1bW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wdXNoVHJpbVdoaXRlc3BhY2VDaGFyQ2hhbmdlKHJlc3VsdCwgb3JpZ2luYWxMaW5lSW5kZXggKyAxLCBvcmlnaW5hbEVuZENvbHVtbiwgb3JpZ2luYWxNYXhDb2x1bW4sIG1vZGlmaWVkTGluZUluZGV4ICsgMSwgbW9kaWZpZWRFbmRDb2x1bW4sIG1vZGlmaWVkTWF4Q29sdW1uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvcmlnaW5hbExpbmVJbmRleCsrO1xuICAgICAgICAgICAgICAgIG1vZGlmaWVkTGluZUluZGV4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV4dENoYW5nZSkge1xuICAgICAgICAgICAgICAgIC8vIEVtaXQgdGhlIGFjdHVhbCBjaGFuZ2VcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChMaW5lQ2hhbmdlLmNyZWF0ZUZyb21EaWZmUmVzdWx0KHRoaXMuc2hvdWxkSWdub3JlVHJpbVdoaXRlc3BhY2UsIG5leHRDaGFuZ2UsIHRoaXMub3JpZ2luYWwsIHRoaXMubW9kaWZpZWQsIHRoaXMuX2NvbnRpbnVlUHJvY2Vzc2luZ1ByZWRpY2F0ZS5iaW5kKHRoaXMpLCB0aGlzLnNob3VsZENvbXB1dGVDaGFyQ2hhbmdlcywgdGhpcy5zaG91bGRQb3N0UHJvY2Vzc0NoYXJDaGFuZ2VzKSk7XG4gICAgICAgICAgICAgICAgb3JpZ2luYWxMaW5lSW5kZXggKz0gbmV4dENoYW5nZS5vcmlnaW5hbExlbmd0aDtcbiAgICAgICAgICAgICAgICBtb2RpZmllZExpbmVJbmRleCArPSBuZXh0Q2hhbmdlLm1vZGlmaWVkTGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBEaWZmQ29tcHV0ZXIucHJvdG90eXBlLl9wdXNoVHJpbVdoaXRlc3BhY2VDaGFyQ2hhbmdlID0gZnVuY3Rpb24gKHJlc3VsdCwgb3JpZ2luYWxMaW5lTnVtYmVyLCBvcmlnaW5hbFN0YXJ0Q29sdW1uLCBvcmlnaW5hbEVuZENvbHVtbiwgbW9kaWZpZWRMaW5lTnVtYmVyLCBtb2RpZmllZFN0YXJ0Q29sdW1uLCBtb2RpZmllZEVuZENvbHVtbikge1xuICAgICAgICBpZiAodGhpcy5fbWVyZ2VUcmltV2hpdGVzcGFjZUNoYXJDaGFuZ2UocmVzdWx0LCBvcmlnaW5hbExpbmVOdW1iZXIsIG9yaWdpbmFsU3RhcnRDb2x1bW4sIG9yaWdpbmFsRW5kQ29sdW1uLCBtb2RpZmllZExpbmVOdW1iZXIsIG1vZGlmaWVkU3RhcnRDb2x1bW4sIG1vZGlmaWVkRW5kQ29sdW1uKSkge1xuICAgICAgICAgICAgLy8gTWVyZ2VkIGludG8gcHJldmlvdXNcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2hhckNoYW5nZXM7XG4gICAgICAgIGlmICh0aGlzLnNob3VsZENvbXB1dGVDaGFyQ2hhbmdlcykge1xuICAgICAgICAgICAgY2hhckNoYW5nZXMgPSBbbmV3IENoYXJDaGFuZ2Uob3JpZ2luYWxMaW5lTnVtYmVyLCBvcmlnaW5hbFN0YXJ0Q29sdW1uLCBvcmlnaW5hbExpbmVOdW1iZXIsIG9yaWdpbmFsRW5kQ29sdW1uLCBtb2RpZmllZExpbmVOdW1iZXIsIG1vZGlmaWVkU3RhcnRDb2x1bW4sIG1vZGlmaWVkTGluZU51bWJlciwgbW9kaWZpZWRFbmRDb2x1bW4pXTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQucHVzaChuZXcgTGluZUNoYW5nZShvcmlnaW5hbExpbmVOdW1iZXIsIG9yaWdpbmFsTGluZU51bWJlciwgbW9kaWZpZWRMaW5lTnVtYmVyLCBtb2RpZmllZExpbmVOdW1iZXIsIGNoYXJDaGFuZ2VzKSk7XG4gICAgfTtcbiAgICBEaWZmQ29tcHV0ZXIucHJvdG90eXBlLl9tZXJnZVRyaW1XaGl0ZXNwYWNlQ2hhckNoYW5nZSA9IGZ1bmN0aW9uIChyZXN1bHQsIG9yaWdpbmFsTGluZU51bWJlciwgb3JpZ2luYWxTdGFydENvbHVtbiwgb3JpZ2luYWxFbmRDb2x1bW4sIG1vZGlmaWVkTGluZU51bWJlciwgbW9kaWZpZWRTdGFydENvbHVtbiwgbW9kaWZpZWRFbmRDb2x1bW4pIHtcbiAgICAgICAgdmFyIGxlbiA9IHJlc3VsdC5sZW5ndGg7XG4gICAgICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJldkNoYW5nZSA9IHJlc3VsdFtsZW4gLSAxXTtcbiAgICAgICAgaWYgKHByZXZDaGFuZ2Uub3JpZ2luYWxFbmRMaW5lTnVtYmVyID09PSAwIHx8IHByZXZDaGFuZ2UubW9kaWZpZWRFbmRMaW5lTnVtYmVyID09PSAwKSB7XG4gICAgICAgICAgICAvLyBEb24ndCBtZXJnZSB3aXRoIGluc2VydHMvZGVsZXRlc1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmV2Q2hhbmdlLm9yaWdpbmFsRW5kTGluZU51bWJlciArIDEgPT09IG9yaWdpbmFsTGluZU51bWJlciAmJiBwcmV2Q2hhbmdlLm1vZGlmaWVkRW5kTGluZU51bWJlciArIDEgPT09IG1vZGlmaWVkTGluZU51bWJlcikge1xuICAgICAgICAgICAgcHJldkNoYW5nZS5vcmlnaW5hbEVuZExpbmVOdW1iZXIgPSBvcmlnaW5hbExpbmVOdW1iZXI7XG4gICAgICAgICAgICBwcmV2Q2hhbmdlLm1vZGlmaWVkRW5kTGluZU51bWJlciA9IG1vZGlmaWVkTGluZU51bWJlcjtcbiAgICAgICAgICAgIGlmICh0aGlzLnNob3VsZENvbXB1dGVDaGFyQ2hhbmdlcykge1xuICAgICAgICAgICAgICAgIHByZXZDaGFuZ2UuY2hhckNoYW5nZXMucHVzaChuZXcgQ2hhckNoYW5nZShvcmlnaW5hbExpbmVOdW1iZXIsIG9yaWdpbmFsU3RhcnRDb2x1bW4sIG9yaWdpbmFsTGluZU51bWJlciwgb3JpZ2luYWxFbmRDb2x1bW4sIG1vZGlmaWVkTGluZU51bWJlciwgbW9kaWZpZWRTdGFydENvbHVtbiwgbW9kaWZpZWRMaW5lTnVtYmVyLCBtb2RpZmllZEVuZENvbHVtbikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgRGlmZkNvbXB1dGVyLnByb3RvdHlwZS5fY29udGludWVQcm9jZXNzaW5nUHJlZGljYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5tYXhpbXVtUnVuVGltZU1zID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbm93ID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcbiAgICAgICAgcmV0dXJuIG5vdyAtIHRoaXMuY29tcHV0YXRpb25TdGFydFRpbWUgPCB0aGlzLm1heGltdW1SdW5UaW1lTXM7XG4gICAgfTtcbiAgICByZXR1cm4gRGlmZkNvbXB1dGVyO1xufSgpKTtcbmV4cG9ydCB7IERpZmZDb21wdXRlciB9O1xuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4ndXNlIHN0cmljdCc7XG52YXIgVWludDhNYXRyaXggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVWludDhNYXRyaXgocm93cywgY29scywgZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIHZhciBkYXRhID0gbmV3IFVpbnQ4QXJyYXkocm93cyAqIGNvbHMpO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcm93cyAqIGNvbHM7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgZGF0YVtpXSA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5yb3dzID0gcm93cztcbiAgICAgICAgdGhpcy5jb2xzID0gY29scztcbiAgICB9XG4gICAgVWludDhNYXRyaXgucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChyb3csIGNvbCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YVtyb3cgKiB0aGlzLmNvbHMgKyBjb2xdO1xuICAgIH07XG4gICAgVWludDhNYXRyaXgucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChyb3csIGNvbCwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5fZGF0YVtyb3cgKiB0aGlzLmNvbHMgKyBjb2xdID0gdmFsdWU7XG4gICAgfTtcbiAgICByZXR1cm4gVWludDhNYXRyaXg7XG59KCkpO1xuZXhwb3J0IHsgVWludDhNYXRyaXggfTtcbmV4cG9ydCBmdW5jdGlvbiB0b1VpbnQ4KHYpIHtcbiAgICBpZiAodiA8IDApIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGlmICh2ID4gMjU1IC8qIE1BWF9VSU5UXzggKi8pIHtcbiAgICAgICAgcmV0dXJuIDI1NSAvKiBNQVhfVUlOVF84ICovO1xuICAgIH1cbiAgICByZXR1cm4gdiB8IDA7XG59XG5leHBvcnQgZnVuY3Rpb24gdG9VaW50MzIodikge1xuICAgIGlmICh2IDwgMCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgaWYgKHYgPiA0Mjk0OTY3Mjk1IC8qIE1BWF9VSU5UXzMyICovKSB7XG4gICAgICAgIHJldHVybiA0Mjk0OTY3Mjk1IC8qIE1BWF9VSU5UXzMyICovO1xuICAgIH1cbiAgICByZXR1cm4gdiB8IDA7XG59XG5leHBvcnQgZnVuY3Rpb24gdG9VaW50MzJBcnJheShhcnIpIHtcbiAgICB2YXIgbGVuID0gYXJyLmxlbmd0aDtcbiAgICB2YXIgciA9IG5ldyBVaW50MzJBcnJheShsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgcltpXSA9IHRvVWludDMyKGFycltpXSk7XG4gICAgfVxuICAgIHJldHVybiByO1xufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyB0b1VpbnQzMiB9IGZyb20gJy4uL2NvcmUvdWludC5qcyc7XG52YXIgUHJlZml4U3VtSW5kZXhPZlJlc3VsdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQcmVmaXhTdW1JbmRleE9mUmVzdWx0KGluZGV4LCByZW1haW5kZXIpIHtcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICB0aGlzLnJlbWFpbmRlciA9IHJlbWFpbmRlcjtcbiAgICB9XG4gICAgcmV0dXJuIFByZWZpeFN1bUluZGV4T2ZSZXN1bHQ7XG59KCkpO1xuZXhwb3J0IHsgUHJlZml4U3VtSW5kZXhPZlJlc3VsdCB9O1xudmFyIFByZWZpeFN1bUNvbXB1dGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFByZWZpeFN1bUNvbXB1dGVyKHZhbHVlcykge1xuICAgICAgICB0aGlzLnZhbHVlcyA9IHZhbHVlcztcbiAgICAgICAgdGhpcy5wcmVmaXhTdW0gPSBuZXcgVWludDMyQXJyYXkodmFsdWVzLmxlbmd0aCk7XG4gICAgICAgIHRoaXMucHJlZml4U3VtVmFsaWRJbmRleCA9IG5ldyBJbnQzMkFycmF5KDEpO1xuICAgICAgICB0aGlzLnByZWZpeFN1bVZhbGlkSW5kZXhbMF0gPSAtMTtcbiAgICB9XG4gICAgUHJlZml4U3VtQ29tcHV0ZXIucHJvdG90eXBlLmdldENvdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXMubGVuZ3RoO1xuICAgIH07XG4gICAgUHJlZml4U3VtQ29tcHV0ZXIucHJvdG90eXBlLmluc2VydFZhbHVlcyA9IGZ1bmN0aW9uIChpbnNlcnRJbmRleCwgaW5zZXJ0VmFsdWVzKSB7XG4gICAgICAgIGluc2VydEluZGV4ID0gdG9VaW50MzIoaW5zZXJ0SW5kZXgpO1xuICAgICAgICB2YXIgb2xkVmFsdWVzID0gdGhpcy52YWx1ZXM7XG4gICAgICAgIHZhciBvbGRQcmVmaXhTdW0gPSB0aGlzLnByZWZpeFN1bTtcbiAgICAgICAgdmFyIGluc2VydFZhbHVlc0xlbiA9IGluc2VydFZhbHVlcy5sZW5ndGg7XG4gICAgICAgIGlmIChpbnNlcnRWYWx1ZXNMZW4gPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZhbHVlcyA9IG5ldyBVaW50MzJBcnJheShvbGRWYWx1ZXMubGVuZ3RoICsgaW5zZXJ0VmFsdWVzTGVuKTtcbiAgICAgICAgdGhpcy52YWx1ZXMuc2V0KG9sZFZhbHVlcy5zdWJhcnJheSgwLCBpbnNlcnRJbmRleCksIDApO1xuICAgICAgICB0aGlzLnZhbHVlcy5zZXQob2xkVmFsdWVzLnN1YmFycmF5KGluc2VydEluZGV4KSwgaW5zZXJ0SW5kZXggKyBpbnNlcnRWYWx1ZXNMZW4pO1xuICAgICAgICB0aGlzLnZhbHVlcy5zZXQoaW5zZXJ0VmFsdWVzLCBpbnNlcnRJbmRleCk7XG4gICAgICAgIGlmIChpbnNlcnRJbmRleCAtIDEgPCB0aGlzLnByZWZpeFN1bVZhbGlkSW5kZXhbMF0pIHtcbiAgICAgICAgICAgIHRoaXMucHJlZml4U3VtVmFsaWRJbmRleFswXSA9IGluc2VydEluZGV4IC0gMTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnByZWZpeFN1bSA9IG5ldyBVaW50MzJBcnJheSh0aGlzLnZhbHVlcy5sZW5ndGgpO1xuICAgICAgICBpZiAodGhpcy5wcmVmaXhTdW1WYWxpZEluZGV4WzBdID49IDApIHtcbiAgICAgICAgICAgIHRoaXMucHJlZml4U3VtLnNldChvbGRQcmVmaXhTdW0uc3ViYXJyYXkoMCwgdGhpcy5wcmVmaXhTdW1WYWxpZEluZGV4WzBdICsgMSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgUHJlZml4U3VtQ29tcHV0ZXIucHJvdG90eXBlLmNoYW5nZVZhbHVlID0gZnVuY3Rpb24gKGluZGV4LCB2YWx1ZSkge1xuICAgICAgICBpbmRleCA9IHRvVWludDMyKGluZGV4KTtcbiAgICAgICAgdmFsdWUgPSB0b1VpbnQzMih2YWx1ZSk7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlc1tpbmRleF0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52YWx1ZXNbaW5kZXhdID0gdmFsdWU7XG4gICAgICAgIGlmIChpbmRleCAtIDEgPCB0aGlzLnByZWZpeFN1bVZhbGlkSW5kZXhbMF0pIHtcbiAgICAgICAgICAgIHRoaXMucHJlZml4U3VtVmFsaWRJbmRleFswXSA9IGluZGV4IC0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIFByZWZpeFN1bUNvbXB1dGVyLnByb3RvdHlwZS5yZW1vdmVWYWx1ZXMgPSBmdW5jdGlvbiAoc3RhcnRJbmRleCwgY250KSB7XG4gICAgICAgIHN0YXJ0SW5kZXggPSB0b1VpbnQzMihzdGFydEluZGV4KTtcbiAgICAgICAgY250ID0gdG9VaW50MzIoY250KTtcbiAgICAgICAgdmFyIG9sZFZhbHVlcyA9IHRoaXMudmFsdWVzO1xuICAgICAgICB2YXIgb2xkUHJlZml4U3VtID0gdGhpcy5wcmVmaXhTdW07XG4gICAgICAgIGlmIChzdGFydEluZGV4ID49IG9sZFZhbHVlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWF4Q250ID0gb2xkVmFsdWVzLmxlbmd0aCAtIHN0YXJ0SW5kZXg7XG4gICAgICAgIGlmIChjbnQgPj0gbWF4Q250KSB7XG4gICAgICAgICAgICBjbnQgPSBtYXhDbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNudCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmFsdWVzID0gbmV3IFVpbnQzMkFycmF5KG9sZFZhbHVlcy5sZW5ndGggLSBjbnQpO1xuICAgICAgICB0aGlzLnZhbHVlcy5zZXQob2xkVmFsdWVzLnN1YmFycmF5KDAsIHN0YXJ0SW5kZXgpLCAwKTtcbiAgICAgICAgdGhpcy52YWx1ZXMuc2V0KG9sZFZhbHVlcy5zdWJhcnJheShzdGFydEluZGV4ICsgY250KSwgc3RhcnRJbmRleCk7XG4gICAgICAgIHRoaXMucHJlZml4U3VtID0gbmV3IFVpbnQzMkFycmF5KHRoaXMudmFsdWVzLmxlbmd0aCk7XG4gICAgICAgIGlmIChzdGFydEluZGV4IC0gMSA8IHRoaXMucHJlZml4U3VtVmFsaWRJbmRleFswXSkge1xuICAgICAgICAgICAgdGhpcy5wcmVmaXhTdW1WYWxpZEluZGV4WzBdID0gc3RhcnRJbmRleCAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucHJlZml4U3VtVmFsaWRJbmRleFswXSA+PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnByZWZpeFN1bS5zZXQob2xkUHJlZml4U3VtLnN1YmFycmF5KDAsIHRoaXMucHJlZml4U3VtVmFsaWRJbmRleFswXSArIDEpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIFByZWZpeFN1bUNvbXB1dGVyLnByb3RvdHlwZS5nZXRUb3RhbFZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy52YWx1ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0QWNjdW11bGF0ZWRWYWx1ZSh0aGlzLnZhbHVlcy5sZW5ndGggLSAxKTtcbiAgICB9O1xuICAgIFByZWZpeFN1bUNvbXB1dGVyLnByb3RvdHlwZS5nZXRBY2N1bXVsYXRlZFZhbHVlID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gdG9VaW50MzIoaW5kZXgpO1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0QWNjdW11bGF0ZWRWYWx1ZShpbmRleCk7XG4gICAgfTtcbiAgICBQcmVmaXhTdW1Db21wdXRlci5wcm90b3R5cGUuX2dldEFjY3VtdWxhdGVkVmFsdWUgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4IDw9IHRoaXMucHJlZml4U3VtVmFsaWRJbmRleFswXSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJlZml4U3VtW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RhcnRJbmRleCA9IHRoaXMucHJlZml4U3VtVmFsaWRJbmRleFswXSArIDE7XG4gICAgICAgIGlmIChzdGFydEluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnByZWZpeFN1bVswXSA9IHRoaXMudmFsdWVzWzBdO1xuICAgICAgICAgICAgc3RhcnRJbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmRleCA+PSB0aGlzLnZhbHVlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGluZGV4ID0gdGhpcy52YWx1ZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gc3RhcnRJbmRleDsgaSA8PSBpbmRleDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnByZWZpeFN1bVtpXSA9IHRoaXMucHJlZml4U3VtW2kgLSAxXSArIHRoaXMudmFsdWVzW2ldO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJlZml4U3VtVmFsaWRJbmRleFswXSA9IE1hdGgubWF4KHRoaXMucHJlZml4U3VtVmFsaWRJbmRleFswXSwgaW5kZXgpO1xuICAgICAgICByZXR1cm4gdGhpcy5wcmVmaXhTdW1baW5kZXhdO1xuICAgIH07XG4gICAgUHJlZml4U3VtQ29tcHV0ZXIucHJvdG90eXBlLmdldEluZGV4T2YgPSBmdW5jdGlvbiAoYWNjdW11bGF0ZWRWYWx1ZSkge1xuICAgICAgICBhY2N1bXVsYXRlZFZhbHVlID0gTWF0aC5mbG9vcihhY2N1bXVsYXRlZFZhbHVlKTsgLy9AcGVyZlxuICAgICAgICAvLyBDb21wdXRlIGFsbCBzdW1zICh0byBnZXQgYSBmdWxseSB2YWxpZCBwcmVmaXhTdW0pXG4gICAgICAgIHRoaXMuZ2V0VG90YWxWYWx1ZSgpO1xuICAgICAgICB2YXIgbG93ID0gMDtcbiAgICAgICAgdmFyIGhpZ2ggPSB0aGlzLnZhbHVlcy5sZW5ndGggLSAxO1xuICAgICAgICB2YXIgbWlkO1xuICAgICAgICB2YXIgbWlkU3RvcDtcbiAgICAgICAgdmFyIG1pZFN0YXJ0O1xuICAgICAgICB3aGlsZSAobG93IDw9IGhpZ2gpIHtcbiAgICAgICAgICAgIG1pZCA9IGxvdyArICgoaGlnaCAtIGxvdykgLyAyKSB8IDA7XG4gICAgICAgICAgICBtaWRTdG9wID0gdGhpcy5wcmVmaXhTdW1bbWlkXTtcbiAgICAgICAgICAgIG1pZFN0YXJ0ID0gbWlkU3RvcCAtIHRoaXMudmFsdWVzW21pZF07XG4gICAgICAgICAgICBpZiAoYWNjdW11bGF0ZWRWYWx1ZSA8IG1pZFN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgaGlnaCA9IG1pZCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChhY2N1bXVsYXRlZFZhbHVlID49IG1pZFN0b3ApIHtcbiAgICAgICAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcmVmaXhTdW1JbmRleE9mUmVzdWx0KG1pZCwgYWNjdW11bGF0ZWRWYWx1ZSAtIG1pZFN0YXJ0KTtcbiAgICB9O1xuICAgIHJldHVybiBQcmVmaXhTdW1Db21wdXRlcjtcbn0oKSk7XG5leHBvcnQgeyBQcmVmaXhTdW1Db21wdXRlciB9O1xudmFyIFByZWZpeFN1bUNvbXB1dGVyV2l0aENhY2hlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFByZWZpeFN1bUNvbXB1dGVyV2l0aENhY2hlKHZhbHVlcykge1xuICAgICAgICB0aGlzLl9jYWNoZUFjY3VtdWxhdGVkVmFsdWVTdGFydCA9IDA7XG4gICAgICAgIHRoaXMuX2NhY2hlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWN0dWFsID0gbmV3IFByZWZpeFN1bUNvbXB1dGVyKHZhbHVlcyk7XG4gICAgICAgIHRoaXMuX2J1c3RDYWNoZSgpO1xuICAgIH1cbiAgICBQcmVmaXhTdW1Db21wdXRlcldpdGhDYWNoZS5wcm90b3R5cGUuX2J1c3RDYWNoZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fY2FjaGVBY2N1bXVsYXRlZFZhbHVlU3RhcnQgPSAwO1xuICAgICAgICB0aGlzLl9jYWNoZSA9IG51bGw7XG4gICAgfTtcbiAgICBQcmVmaXhTdW1Db21wdXRlcldpdGhDYWNoZS5wcm90b3R5cGUuaW5zZXJ0VmFsdWVzID0gZnVuY3Rpb24gKGluc2VydEluZGV4LCBpbnNlcnRWYWx1ZXMpIHtcbiAgICAgICAgaWYgKHRoaXMuX2FjdHVhbC5pbnNlcnRWYWx1ZXMoaW5zZXJ0SW5kZXgsIGluc2VydFZhbHVlcykpIHtcbiAgICAgICAgICAgIHRoaXMuX2J1c3RDYWNoZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQcmVmaXhTdW1Db21wdXRlcldpdGhDYWNoZS5wcm90b3R5cGUuY2hhbmdlVmFsdWUgPSBmdW5jdGlvbiAoaW5kZXgsIHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLl9hY3R1YWwuY2hhbmdlVmFsdWUoaW5kZXgsIHZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5fYnVzdENhY2hlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFByZWZpeFN1bUNvbXB1dGVyV2l0aENhY2hlLnByb3RvdHlwZS5yZW1vdmVWYWx1ZXMgPSBmdW5jdGlvbiAoc3RhcnRJbmRleCwgY250KSB7XG4gICAgICAgIGlmICh0aGlzLl9hY3R1YWwucmVtb3ZlVmFsdWVzKHN0YXJ0SW5kZXgsIGNudCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2J1c3RDYWNoZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQcmVmaXhTdW1Db21wdXRlcldpdGhDYWNoZS5wcm90b3R5cGUuZ2V0VG90YWxWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FjdHVhbC5nZXRUb3RhbFZhbHVlKCk7XG4gICAgfTtcbiAgICBQcmVmaXhTdW1Db21wdXRlcldpdGhDYWNoZS5wcm90b3R5cGUuZ2V0QWNjdW11bGF0ZWRWYWx1ZSA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWN0dWFsLmdldEFjY3VtdWxhdGVkVmFsdWUoaW5kZXgpO1xuICAgIH07XG4gICAgUHJlZml4U3VtQ29tcHV0ZXJXaXRoQ2FjaGUucHJvdG90eXBlLmdldEluZGV4T2YgPSBmdW5jdGlvbiAoYWNjdW11bGF0ZWRWYWx1ZSkge1xuICAgICAgICBhY2N1bXVsYXRlZFZhbHVlID0gTWF0aC5mbG9vcihhY2N1bXVsYXRlZFZhbHVlKTsgLy9AcGVyZlxuICAgICAgICBpZiAodGhpcy5fY2FjaGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBjYWNoZUluZGV4ID0gYWNjdW11bGF0ZWRWYWx1ZSAtIHRoaXMuX2NhY2hlQWNjdW11bGF0ZWRWYWx1ZVN0YXJ0O1xuICAgICAgICAgICAgaWYgKGNhY2hlSW5kZXggPj0gMCAmJiBjYWNoZUluZGV4IDwgdGhpcy5fY2FjaGUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2FjaGUgaGl0IVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZVtjYWNoZUluZGV4XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBDYWNoZSBtaXNzIVxuICAgICAgICByZXR1cm4gdGhpcy5fYWN0dWFsLmdldEluZGV4T2YoYWNjdW11bGF0ZWRWYWx1ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHaXZlcyBhIGhpbnQgdGhhdCBhIGxvdCBvZiByZXF1ZXN0cyBhcmUgYWJvdXQgdG8gY29tZSBpbiBmb3IgdGhlc2UgYWNjdW11bGF0ZWQgdmFsdWVzLlxuICAgICAqL1xuICAgIFByZWZpeFN1bUNvbXB1dGVyV2l0aENhY2hlLnByb3RvdHlwZS53YXJtVXBDYWNoZSA9IGZ1bmN0aW9uIChhY2N1bXVsYXRlZFZhbHVlU3RhcnQsIGFjY3VtdWxhdGVkVmFsdWVFbmQpIHtcbiAgICAgICAgdmFyIG5ld0NhY2hlID0gW107XG4gICAgICAgIGZvciAodmFyIGFjY3VtdWxhdGVkVmFsdWUgPSBhY2N1bXVsYXRlZFZhbHVlU3RhcnQ7IGFjY3VtdWxhdGVkVmFsdWUgPD0gYWNjdW11bGF0ZWRWYWx1ZUVuZDsgYWNjdW11bGF0ZWRWYWx1ZSsrKSB7XG4gICAgICAgICAgICBuZXdDYWNoZVthY2N1bXVsYXRlZFZhbHVlIC0gYWNjdW11bGF0ZWRWYWx1ZVN0YXJ0XSA9IHRoaXMuZ2V0SW5kZXhPZihhY2N1bXVsYXRlZFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jYWNoZSA9IG5ld0NhY2hlO1xuICAgICAgICB0aGlzLl9jYWNoZUFjY3VtdWxhdGVkVmFsdWVTdGFydCA9IGFjY3VtdWxhdGVkVmFsdWVTdGFydDtcbiAgICB9O1xuICAgIHJldHVybiBQcmVmaXhTdW1Db21wdXRlcldpdGhDYWNoZTtcbn0oKSk7XG5leHBvcnQgeyBQcmVmaXhTdW1Db21wdXRlcldpdGhDYWNoZSB9O1xuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBQcmVmaXhTdW1Db21wdXRlciB9IGZyb20gJy4uL3ZpZXdNb2RlbC9wcmVmaXhTdW1Db21wdXRlci5qcyc7XG5pbXBvcnQgeyBQb3NpdGlvbiB9IGZyb20gJy4uL2NvcmUvcG9zaXRpb24uanMnO1xudmFyIE1pcnJvclRleHRNb2RlbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNaXJyb3JUZXh0TW9kZWwodXJpLCBsaW5lcywgZW9sLCB2ZXJzaW9uSWQpIHtcbiAgICAgICAgdGhpcy5fdXJpID0gdXJpO1xuICAgICAgICB0aGlzLl9saW5lcyA9IGxpbmVzO1xuICAgICAgICB0aGlzLl9lb2wgPSBlb2w7XG4gICAgICAgIHRoaXMuX3ZlcnNpb25JZCA9IHZlcnNpb25JZDtcbiAgICB9XG4gICAgTWlycm9yVGV4dE1vZGVsLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9saW5lcy5sZW5ndGggPSAwO1xuICAgIH07XG4gICAgTWlycm9yVGV4dE1vZGVsLnByb3RvdHlwZS5nZXRUZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGluZXMuam9pbih0aGlzLl9lb2wpO1xuICAgIH07XG4gICAgTWlycm9yVGV4dE1vZGVsLnByb3RvdHlwZS5vbkV2ZW50cyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmIChlLmVvbCAmJiBlLmVvbCAhPT0gdGhpcy5fZW9sKSB7XG4gICAgICAgICAgICB0aGlzLl9lb2wgPSBlLmVvbDtcbiAgICAgICAgICAgIHRoaXMuX2xpbmVTdGFydHMgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIFVwZGF0ZSBteSBsaW5lc1xuICAgICAgICB2YXIgY2hhbmdlcyA9IGUuY2hhbmdlcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNoYW5nZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGFuZ2UgPSBjaGFuZ2VzW2ldO1xuICAgICAgICAgICAgdGhpcy5fYWNjZXB0RGVsZXRlUmFuZ2UoY2hhbmdlLnJhbmdlKTtcbiAgICAgICAgICAgIHRoaXMuX2FjY2VwdEluc2VydFRleHQobmV3IFBvc2l0aW9uKGNoYW5nZS5yYW5nZS5zdGFydExpbmVOdW1iZXIsIGNoYW5nZS5yYW5nZS5zdGFydENvbHVtbiksIGNoYW5nZS50ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl92ZXJzaW9uSWQgPSBlLnZlcnNpb25JZDtcbiAgICB9O1xuICAgIE1pcnJvclRleHRNb2RlbC5wcm90b3R5cGUuX2Vuc3VyZUxpbmVTdGFydHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbGluZVN0YXJ0cykge1xuICAgICAgICAgICAgdmFyIGVvbExlbmd0aCA9IHRoaXMuX2VvbC5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgbGluZXNMZW5ndGggPSB0aGlzLl9saW5lcy5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgbGluZVN0YXJ0VmFsdWVzID0gbmV3IFVpbnQzMkFycmF5KGxpbmVzTGVuZ3RoKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXNMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxpbmVTdGFydFZhbHVlc1tpXSA9IHRoaXMuX2xpbmVzW2ldLmxlbmd0aCArIGVvbExlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2xpbmVTdGFydHMgPSBuZXcgUHJlZml4U3VtQ29tcHV0ZXIobGluZVN0YXJ0VmFsdWVzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQWxsIGNoYW5nZXMgdG8gYSBsaW5lJ3MgdGV4dCBnbyB0aHJvdWdoIHRoaXMgbWV0aG9kXG4gICAgICovXG4gICAgTWlycm9yVGV4dE1vZGVsLnByb3RvdHlwZS5fc2V0TGluZVRleHQgPSBmdW5jdGlvbiAobGluZUluZGV4LCBuZXdWYWx1ZSkge1xuICAgICAgICB0aGlzLl9saW5lc1tsaW5lSW5kZXhdID0gbmV3VmFsdWU7XG4gICAgICAgIGlmICh0aGlzLl9saW5lU3RhcnRzKSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgcHJlZml4IHN1bVxuICAgICAgICAgICAgdGhpcy5fbGluZVN0YXJ0cy5jaGFuZ2VWYWx1ZShsaW5lSW5kZXgsIHRoaXMuX2xpbmVzW2xpbmVJbmRleF0ubGVuZ3RoICsgdGhpcy5fZW9sLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1pcnJvclRleHRNb2RlbC5wcm90b3R5cGUuX2FjY2VwdERlbGV0ZVJhbmdlID0gZnVuY3Rpb24gKHJhbmdlKSB7XG4gICAgICAgIGlmIChyYW5nZS5zdGFydExpbmVOdW1iZXIgPT09IHJhbmdlLmVuZExpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgIGlmIChyYW5nZS5zdGFydENvbHVtbiA9PT0gcmFuZ2UuZW5kQ29sdW1uKSB7XG4gICAgICAgICAgICAgICAgLy8gTm90aGluZyB0byBkZWxldGVcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBEZWxldGUgdGV4dCBvbiB0aGUgYWZmZWN0ZWQgbGluZVxuICAgICAgICAgICAgdGhpcy5fc2V0TGluZVRleHQocmFuZ2Uuc3RhcnRMaW5lTnVtYmVyIC0gMSwgdGhpcy5fbGluZXNbcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyIC0gMV0uc3Vic3RyaW5nKDAsIHJhbmdlLnN0YXJ0Q29sdW1uIC0gMSlcbiAgICAgICAgICAgICAgICArIHRoaXMuX2xpbmVzW3JhbmdlLnN0YXJ0TGluZU51bWJlciAtIDFdLnN1YnN0cmluZyhyYW5nZS5lbmRDb2x1bW4gLSAxKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGFrZSByZW1haW5pbmcgdGV4dCBvbiBsYXN0IGxpbmUgYW5kIGFwcGVuZCBpdCB0byByZW1haW5pbmcgdGV4dCBvbiBmaXJzdCBsaW5lXG4gICAgICAgIHRoaXMuX3NldExpbmVUZXh0KHJhbmdlLnN0YXJ0TGluZU51bWJlciAtIDEsIHRoaXMuX2xpbmVzW3JhbmdlLnN0YXJ0TGluZU51bWJlciAtIDFdLnN1YnN0cmluZygwLCByYW5nZS5zdGFydENvbHVtbiAtIDEpXG4gICAgICAgICAgICArIHRoaXMuX2xpbmVzW3JhbmdlLmVuZExpbmVOdW1iZXIgLSAxXS5zdWJzdHJpbmcocmFuZ2UuZW5kQ29sdW1uIC0gMSkpO1xuICAgICAgICAvLyBEZWxldGUgbWlkZGxlIGxpbmVzXG4gICAgICAgIHRoaXMuX2xpbmVzLnNwbGljZShyYW5nZS5zdGFydExpbmVOdW1iZXIsIHJhbmdlLmVuZExpbmVOdW1iZXIgLSByYW5nZS5zdGFydExpbmVOdW1iZXIpO1xuICAgICAgICBpZiAodGhpcy5fbGluZVN0YXJ0cykge1xuICAgICAgICAgICAgLy8gdXBkYXRlIHByZWZpeCBzdW1cbiAgICAgICAgICAgIHRoaXMuX2xpbmVTdGFydHMucmVtb3ZlVmFsdWVzKHJhbmdlLnN0YXJ0TGluZU51bWJlciwgcmFuZ2UuZW5kTGluZU51bWJlciAtIHJhbmdlLnN0YXJ0TGluZU51bWJlcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1pcnJvclRleHRNb2RlbC5wcm90b3R5cGUuX2FjY2VwdEluc2VydFRleHQgPSBmdW5jdGlvbiAocG9zaXRpb24sIGluc2VydFRleHQpIHtcbiAgICAgICAgaWYgKGluc2VydFRleHQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyBOb3RoaW5nIHRvIGluc2VydFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbnNlcnRMaW5lcyA9IGluc2VydFRleHQuc3BsaXQoL1xcclxcbnxcXHJ8XFxuLyk7XG4gICAgICAgIGlmIChpbnNlcnRMaW5lcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIC8vIEluc2VydGluZyB0ZXh0IG9uIG9uZSBsaW5lXG4gICAgICAgICAgICB0aGlzLl9zZXRMaW5lVGV4dChwb3NpdGlvbi5saW5lTnVtYmVyIC0gMSwgdGhpcy5fbGluZXNbcG9zaXRpb24ubGluZU51bWJlciAtIDFdLnN1YnN0cmluZygwLCBwb3NpdGlvbi5jb2x1bW4gLSAxKVxuICAgICAgICAgICAgICAgICsgaW5zZXJ0TGluZXNbMF1cbiAgICAgICAgICAgICAgICArIHRoaXMuX2xpbmVzW3Bvc2l0aW9uLmxpbmVOdW1iZXIgLSAxXS5zdWJzdHJpbmcocG9zaXRpb24uY29sdW1uIC0gMSkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFwcGVuZCBvdmVyZmxvd2luZyB0ZXh0IGZyb20gZmlyc3QgbGluZSB0byB0aGUgZW5kIG9mIHRleHQgdG8gaW5zZXJ0XG4gICAgICAgIGluc2VydExpbmVzW2luc2VydExpbmVzLmxlbmd0aCAtIDFdICs9IHRoaXMuX2xpbmVzW3Bvc2l0aW9uLmxpbmVOdW1iZXIgLSAxXS5zdWJzdHJpbmcocG9zaXRpb24uY29sdW1uIC0gMSk7XG4gICAgICAgIC8vIERlbGV0ZSBvdmVyZmxvd2luZyB0ZXh0IGZyb20gZmlyc3QgbGluZSBhbmQgaW5zZXJ0IHRleHQgb24gZmlyc3QgbGluZVxuICAgICAgICB0aGlzLl9zZXRMaW5lVGV4dChwb3NpdGlvbi5saW5lTnVtYmVyIC0gMSwgdGhpcy5fbGluZXNbcG9zaXRpb24ubGluZU51bWJlciAtIDFdLnN1YnN0cmluZygwLCBwb3NpdGlvbi5jb2x1bW4gLSAxKVxuICAgICAgICAgICAgKyBpbnNlcnRMaW5lc1swXSk7XG4gICAgICAgIC8vIEluc2VydCBuZXcgbGluZXMgJiBzdG9yZSBsZW5ndGhzXG4gICAgICAgIHZhciBuZXdMZW5ndGhzID0gbmV3IFVpbnQzMkFycmF5KGluc2VydExpbmVzLmxlbmd0aCAtIDEpO1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGluc2VydExpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLl9saW5lcy5zcGxpY2UocG9zaXRpb24ubGluZU51bWJlciArIGkgLSAxLCAwLCBpbnNlcnRMaW5lc1tpXSk7XG4gICAgICAgICAgICBuZXdMZW5ndGhzW2kgLSAxXSA9IGluc2VydExpbmVzW2ldLmxlbmd0aCArIHRoaXMuX2VvbC5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2xpbmVTdGFydHMpIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBwcmVmaXggc3VtXG4gICAgICAgICAgICB0aGlzLl9saW5lU3RhcnRzLmluc2VydFZhbHVlcyhwb3NpdGlvbi5saW5lTnVtYmVyLCBuZXdMZW5ndGhzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE1pcnJvclRleHRNb2RlbDtcbn0oKSk7XG5leHBvcnQgeyBNaXJyb3JUZXh0TW9kZWwgfTtcbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgdG9VaW50OCB9IGZyb20gJy4vdWludC5qcyc7XG4vKipcbiAqIEEgZmFzdCBjaGFyYWN0ZXIgY2xhc3NpZmllciB0aGF0IHVzZXMgYSBjb21wYWN0IGFycmF5IGZvciBBU0NJSSB2YWx1ZXMuXG4gKi9cbnZhciBDaGFyYWN0ZXJDbGFzc2lmaWVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENoYXJhY3RlckNsYXNzaWZpZXIoX2RlZmF1bHRWYWx1ZSkge1xuICAgICAgICB2YXIgZGVmYXVsdFZhbHVlID0gdG9VaW50OChfZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgdGhpcy5fZGVmYXVsdFZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICB0aGlzLl9hc2NpaU1hcCA9IENoYXJhY3RlckNsYXNzaWZpZXIuX2NyZWF0ZUFzY2lpTWFwKGRlZmF1bHRWYWx1ZSk7XG4gICAgICAgIHRoaXMuX21hcCA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgQ2hhcmFjdGVyQ2xhc3NpZmllci5fY3JlYXRlQXNjaWlNYXAgPSBmdW5jdGlvbiAoZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIHZhciBhc2NpaU1hcCA9IG5ldyBVaW50OEFycmF5KDI1Nik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyBpKyspIHtcbiAgICAgICAgICAgIGFzY2lpTWFwW2ldID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhc2NpaU1hcDtcbiAgICB9O1xuICAgIENoYXJhY3RlckNsYXNzaWZpZXIucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChjaGFyQ29kZSwgX3ZhbHVlKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IHRvVWludDgoX3ZhbHVlKTtcbiAgICAgICAgaWYgKGNoYXJDb2RlID49IDAgJiYgY2hhckNvZGUgPCAyNTYpIHtcbiAgICAgICAgICAgIHRoaXMuX2FzY2lpTWFwW2NoYXJDb2RlXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbWFwLnNldChjaGFyQ29kZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDaGFyYWN0ZXJDbGFzc2lmaWVyLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoY2hhckNvZGUpIHtcbiAgICAgICAgaWYgKGNoYXJDb2RlID49IDAgJiYgY2hhckNvZGUgPCAyNTYpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hc2NpaU1hcFtjaGFyQ29kZV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuX21hcC5nZXQoY2hhckNvZGUpIHx8IHRoaXMuX2RlZmF1bHRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBDaGFyYWN0ZXJDbGFzc2lmaWVyO1xufSgpKTtcbmV4cG9ydCB7IENoYXJhY3RlckNsYXNzaWZpZXIgfTtcbnZhciBDaGFyYWN0ZXJTZXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2hhcmFjdGVyU2V0KCkge1xuICAgICAgICB0aGlzLl9hY3R1YWwgPSBuZXcgQ2hhcmFjdGVyQ2xhc3NpZmllcigwIC8qIEZhbHNlICovKTtcbiAgICB9XG4gICAgQ2hhcmFjdGVyU2V0LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoY2hhckNvZGUpIHtcbiAgICAgICAgdGhpcy5fYWN0dWFsLnNldChjaGFyQ29kZSwgMSAvKiBUcnVlICovKTtcbiAgICB9O1xuICAgIENoYXJhY3RlclNldC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKGNoYXJDb2RlKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5fYWN0dWFsLmdldChjaGFyQ29kZSkgPT09IDEgLyogVHJ1ZSAqLyk7XG4gICAgfTtcbiAgICByZXR1cm4gQ2hhcmFjdGVyU2V0O1xufSgpKTtcbmV4cG9ydCB7IENoYXJhY3RlclNldCB9O1xuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBDaGFyYWN0ZXJDbGFzc2lmaWVyIH0gZnJvbSAnLi4vY29yZS9jaGFyYWN0ZXJDbGFzc2lmaWVyLmpzJztcbmltcG9ydCB7IFVpbnQ4TWF0cml4IH0gZnJvbSAnLi4vY29yZS91aW50LmpzJztcbnZhciBTdGF0ZU1hY2hpbmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RhdGVNYWNoaW5lKGVkZ2VzKSB7XG4gICAgICAgIHZhciBtYXhDaGFyQ29kZSA9IDA7XG4gICAgICAgIHZhciBtYXhTdGF0ZSA9IDAgLyogSW52YWxpZCAqLztcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGVkZ2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSBlZGdlc1tpXSwgZnJvbSA9IF9hWzBdLCBjaENvZGUgPSBfYVsxXSwgdG8gPSBfYVsyXTtcbiAgICAgICAgICAgIGlmIChjaENvZGUgPiBtYXhDaGFyQ29kZSkge1xuICAgICAgICAgICAgICAgIG1heENoYXJDb2RlID0gY2hDb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZyb20gPiBtYXhTdGF0ZSkge1xuICAgICAgICAgICAgICAgIG1heFN0YXRlID0gZnJvbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0byA+IG1heFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgbWF4U3RhdGUgPSB0bztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBtYXhDaGFyQ29kZSsrO1xuICAgICAgICBtYXhTdGF0ZSsrO1xuICAgICAgICB2YXIgc3RhdGVzID0gbmV3IFVpbnQ4TWF0cml4KG1heFN0YXRlLCBtYXhDaGFyQ29kZSwgMCAvKiBJbnZhbGlkICovKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGVkZ2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2IgPSBlZGdlc1tpXSwgZnJvbSA9IF9iWzBdLCBjaENvZGUgPSBfYlsxXSwgdG8gPSBfYlsyXTtcbiAgICAgICAgICAgIHN0YXRlcy5zZXQoZnJvbSwgY2hDb2RlLCB0byk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3RhdGVzID0gc3RhdGVzO1xuICAgICAgICB0aGlzLl9tYXhDaGFyQ29kZSA9IG1heENoYXJDb2RlO1xuICAgIH1cbiAgICBTdGF0ZU1hY2hpbmUucHJvdG90eXBlLm5leHRTdGF0ZSA9IGZ1bmN0aW9uIChjdXJyZW50U3RhdGUsIGNoQ29kZSkge1xuICAgICAgICBpZiAoY2hDb2RlIDwgMCB8fCBjaENvZGUgPj0gdGhpcy5fbWF4Q2hhckNvZGUpIHtcbiAgICAgICAgICAgIHJldHVybiAwIC8qIEludmFsaWQgKi87XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlcy5nZXQoY3VycmVudFN0YXRlLCBjaENvZGUpO1xuICAgIH07XG4gICAgcmV0dXJuIFN0YXRlTWFjaGluZTtcbn0oKSk7XG4vLyBTdGF0ZSBtYWNoaW5lIGZvciBodHRwOi8vIG9yIGh0dHBzOi8vIG9yIGZpbGU6Ly9cbnZhciBfc3RhdGVNYWNoaW5lID0gbnVsbDtcbmZ1bmN0aW9uIGdldFN0YXRlTWFjaGluZSgpIHtcbiAgICBpZiAoX3N0YXRlTWFjaGluZSA9PT0gbnVsbCkge1xuICAgICAgICBfc3RhdGVNYWNoaW5lID0gbmV3IFN0YXRlTWFjaGluZShbXG4gICAgICAgICAgICBbMSAvKiBTdGFydCAqLywgMTA0IC8qIGggKi8sIDIgLyogSCAqL10sXG4gICAgICAgICAgICBbMSAvKiBTdGFydCAqLywgNzIgLyogSCAqLywgMiAvKiBIICovXSxcbiAgICAgICAgICAgIFsxIC8qIFN0YXJ0ICovLCAxMDIgLyogZiAqLywgNiAvKiBGICovXSxcbiAgICAgICAgICAgIFsxIC8qIFN0YXJ0ICovLCA3MCAvKiBGICovLCA2IC8qIEYgKi9dLFxuICAgICAgICAgICAgWzIgLyogSCAqLywgMTE2IC8qIHQgKi8sIDMgLyogSFQgKi9dLFxuICAgICAgICAgICAgWzIgLyogSCAqLywgODQgLyogVCAqLywgMyAvKiBIVCAqL10sXG4gICAgICAgICAgICBbMyAvKiBIVCAqLywgMTE2IC8qIHQgKi8sIDQgLyogSFRUICovXSxcbiAgICAgICAgICAgIFszIC8qIEhUICovLCA4NCAvKiBUICovLCA0IC8qIEhUVCAqL10sXG4gICAgICAgICAgICBbNCAvKiBIVFQgKi8sIDExMiAvKiBwICovLCA1IC8qIEhUVFAgKi9dLFxuICAgICAgICAgICAgWzQgLyogSFRUICovLCA4MCAvKiBQICovLCA1IC8qIEhUVFAgKi9dLFxuICAgICAgICAgICAgWzUgLyogSFRUUCAqLywgMTE1IC8qIHMgKi8sIDkgLyogQmVmb3JlQ29sb24gKi9dLFxuICAgICAgICAgICAgWzUgLyogSFRUUCAqLywgODMgLyogUyAqLywgOSAvKiBCZWZvcmVDb2xvbiAqL10sXG4gICAgICAgICAgICBbNSAvKiBIVFRQICovLCA1OCAvKiBDb2xvbiAqLywgMTAgLyogQWZ0ZXJDb2xvbiAqL10sXG4gICAgICAgICAgICBbNiAvKiBGICovLCAxMDUgLyogaSAqLywgNyAvKiBGSSAqL10sXG4gICAgICAgICAgICBbNiAvKiBGICovLCA3MyAvKiBJICovLCA3IC8qIEZJICovXSxcbiAgICAgICAgICAgIFs3IC8qIEZJICovLCAxMDggLyogbCAqLywgOCAvKiBGSUwgKi9dLFxuICAgICAgICAgICAgWzcgLyogRkkgKi8sIDc2IC8qIEwgKi8sIDggLyogRklMICovXSxcbiAgICAgICAgICAgIFs4IC8qIEZJTCAqLywgMTAxIC8qIGUgKi8sIDkgLyogQmVmb3JlQ29sb24gKi9dLFxuICAgICAgICAgICAgWzggLyogRklMICovLCA2OSAvKiBFICovLCA5IC8qIEJlZm9yZUNvbG9uICovXSxcbiAgICAgICAgICAgIFs5IC8qIEJlZm9yZUNvbG9uICovLCA1OCAvKiBDb2xvbiAqLywgMTAgLyogQWZ0ZXJDb2xvbiAqL10sXG4gICAgICAgICAgICBbMTAgLyogQWZ0ZXJDb2xvbiAqLywgNDcgLyogU2xhc2ggKi8sIDExIC8qIEFsbW9zdFRoZXJlICovXSxcbiAgICAgICAgICAgIFsxMSAvKiBBbG1vc3RUaGVyZSAqLywgNDcgLyogU2xhc2ggKi8sIDEyIC8qIEVuZCAqL10sXG4gICAgICAgIF0pO1xuICAgIH1cbiAgICByZXR1cm4gX3N0YXRlTWFjaGluZTtcbn1cbnZhciBfY2xhc3NpZmllciA9IG51bGw7XG5mdW5jdGlvbiBnZXRDbGFzc2lmaWVyKCkge1xuICAgIGlmIChfY2xhc3NpZmllciA9PT0gbnVsbCkge1xuICAgICAgICBfY2xhc3NpZmllciA9IG5ldyBDaGFyYWN0ZXJDbGFzc2lmaWVyKDAgLyogTm9uZSAqLyk7XG4gICAgICAgIHZhciBGT1JDRV9URVJNSU5BVElPTl9DSEFSQUNURVJTID0gJyBcXHQ8PlxcJ1xcXCLjgIHjgILvvaHvvaTvvIzvvI7vvJrvvJvvvJ/vvIHvvKDvvIPvvITvvIXvvIbvvIrigJjigJzjgIjjgIrjgIzjgI7jgJDjgJTvvIjvvLvvvZvvvaLvvaPvvZ3vvL3vvInjgJXjgJHjgI/jgI3jgIvjgInigJ3igJnvvYDvvZ7igKYnO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IEZPUkNFX1RFUk1JTkFUSU9OX0NIQVJBQ1RFUlMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIF9jbGFzc2lmaWVyLnNldChGT1JDRV9URVJNSU5BVElPTl9DSEFSQUNURVJTLmNoYXJDb2RlQXQoaSksIDEgLyogRm9yY2VUZXJtaW5hdGlvbiAqLyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIENBTk5PVF9FTkRfV0lUSF9DSEFSQUNURVJTID0gJy4sOyc7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQ0FOTk9UX0VORF9XSVRIX0NIQVJBQ1RFUlMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIF9jbGFzc2lmaWVyLnNldChDQU5OT1RfRU5EX1dJVEhfQ0hBUkFDVEVSUy5jaGFyQ29kZUF0KGkpLCAyIC8qIENhbm5vdEVuZEluICovKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gX2NsYXNzaWZpZXI7XG59XG52YXIgTGlua0NvbXB1dGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExpbmtDb21wdXRlcigpIHtcbiAgICB9XG4gICAgTGlua0NvbXB1dGVyLl9jcmVhdGVMaW5rID0gZnVuY3Rpb24gKGNsYXNzaWZpZXIsIGxpbmUsIGxpbmVOdW1iZXIsIGxpbmtCZWdpbkluZGV4LCBsaW5rRW5kSW5kZXgpIHtcbiAgICAgICAgLy8gRG8gbm90IGFsbG93IHRvIGVuZCBsaW5rIGluIGNlcnRhaW4gY2hhcmFjdGVycy4uLlxuICAgICAgICB2YXIgbGFzdEluY2x1ZGVkQ2hhckluZGV4ID0gbGlua0VuZEluZGV4IC0gMTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgdmFyIGNoQ29kZSA9IGxpbmUuY2hhckNvZGVBdChsYXN0SW5jbHVkZWRDaGFySW5kZXgpO1xuICAgICAgICAgICAgdmFyIGNoQ2xhc3MgPSBjbGFzc2lmaWVyLmdldChjaENvZGUpO1xuICAgICAgICAgICAgaWYgKGNoQ2xhc3MgIT09IDIgLyogQ2Fubm90RW5kSW4gKi8pIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxhc3RJbmNsdWRlZENoYXJJbmRleC0tO1xuICAgICAgICB9IHdoaWxlIChsYXN0SW5jbHVkZWRDaGFySW5kZXggPiBsaW5rQmVnaW5JbmRleCk7XG4gICAgICAgIC8vIEhhbmRsZSBsaW5rcyBlbmNsb3NlZCBpbiBwYXJlbnMsIHNxdWFyZSBicmFja2V0cyBhbmQgY3VybHlzLlxuICAgICAgICBpZiAobGlua0JlZ2luSW5kZXggPiAwKSB7XG4gICAgICAgICAgICB2YXIgY2hhckNvZGVCZWZvcmVMaW5rID0gbGluZS5jaGFyQ29kZUF0KGxpbmtCZWdpbkluZGV4IC0gMSk7XG4gICAgICAgICAgICB2YXIgbGFzdENoYXJDb2RlSW5MaW5rID0gbGluZS5jaGFyQ29kZUF0KGxhc3RJbmNsdWRlZENoYXJJbmRleCk7XG4gICAgICAgICAgICBpZiAoKGNoYXJDb2RlQmVmb3JlTGluayA9PT0gNDAgLyogT3BlblBhcmVuICovICYmIGxhc3RDaGFyQ29kZUluTGluayA9PT0gNDEgLyogQ2xvc2VQYXJlbiAqLylcbiAgICAgICAgICAgICAgICB8fCAoY2hhckNvZGVCZWZvcmVMaW5rID09PSA5MSAvKiBPcGVuU3F1YXJlQnJhY2tldCAqLyAmJiBsYXN0Q2hhckNvZGVJbkxpbmsgPT09IDkzIC8qIENsb3NlU3F1YXJlQnJhY2tldCAqLylcbiAgICAgICAgICAgICAgICB8fCAoY2hhckNvZGVCZWZvcmVMaW5rID09PSAxMjMgLyogT3BlbkN1cmx5QnJhY2UgKi8gJiYgbGFzdENoYXJDb2RlSW5MaW5rID09PSAxMjUgLyogQ2xvc2VDdXJseUJyYWNlICovKSkge1xuICAgICAgICAgICAgICAgIC8vIERvIG5vdCBlbmQgaW4gKSBpZiAoIGlzIGJlZm9yZSB0aGUgbGluayBzdGFydFxuICAgICAgICAgICAgICAgIC8vIERvIG5vdCBlbmQgaW4gXSBpZiBbIGlzIGJlZm9yZSB0aGUgbGluayBzdGFydFxuICAgICAgICAgICAgICAgIC8vIERvIG5vdCBlbmQgaW4gfSBpZiB7IGlzIGJlZm9yZSB0aGUgbGluayBzdGFydFxuICAgICAgICAgICAgICAgIGxhc3RJbmNsdWRlZENoYXJJbmRleC0tO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByYW5nZToge1xuICAgICAgICAgICAgICAgIHN0YXJ0TGluZU51bWJlcjogbGluZU51bWJlcixcbiAgICAgICAgICAgICAgICBzdGFydENvbHVtbjogbGlua0JlZ2luSW5kZXggKyAxLFxuICAgICAgICAgICAgICAgIGVuZExpbmVOdW1iZXI6IGxpbmVOdW1iZXIsXG4gICAgICAgICAgICAgICAgZW5kQ29sdW1uOiBsYXN0SW5jbHVkZWRDaGFySW5kZXggKyAyXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdXJsOiBsaW5lLnN1YnN0cmluZyhsaW5rQmVnaW5JbmRleCwgbGFzdEluY2x1ZGVkQ2hhckluZGV4ICsgMSlcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIExpbmtDb21wdXRlci5jb21wdXRlTGlua3MgPSBmdW5jdGlvbiAobW9kZWwpIHtcbiAgICAgICAgdmFyIHN0YXRlTWFjaGluZSA9IGdldFN0YXRlTWFjaGluZSgpO1xuICAgICAgICB2YXIgY2xhc3NpZmllciA9IGdldENsYXNzaWZpZXIoKTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMSwgbGluZUNvdW50ID0gbW9kZWwuZ2V0TGluZUNvdW50KCk7IGkgPD0gbGluZUNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBsaW5lID0gbW9kZWwuZ2V0TGluZUNvbnRlbnQoaSk7XG4gICAgICAgICAgICB2YXIgbGVuID0gbGluZS5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgaiA9IDA7XG4gICAgICAgICAgICB2YXIgbGlua0JlZ2luSW5kZXggPSAwO1xuICAgICAgICAgICAgdmFyIGxpbmtCZWdpbkNoQ29kZSA9IDA7XG4gICAgICAgICAgICB2YXIgc3RhdGUgPSAxIC8qIFN0YXJ0ICovO1xuICAgICAgICAgICAgdmFyIGhhc09wZW5QYXJlbnMgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBoYXNPcGVuU3F1YXJlQnJhY2tldCA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIGhhc09wZW5DdXJseUJyYWNrZXQgPSBmYWxzZTtcbiAgICAgICAgICAgIHdoaWxlIChqIDwgbGVuKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc2V0U3RhdGVNYWNoaW5lID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIGNoQ29kZSA9IGxpbmUuY2hhckNvZGVBdChqKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUgPT09IDEzIC8qIEFjY2VwdCAqLykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2hDbGFzcyA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChjaENvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDAgLyogT3BlblBhcmVuICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc09wZW5QYXJlbnMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoQ2xhc3MgPSAwIC8qIE5vbmUgKi87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQxIC8qIENsb3NlUGFyZW4gKi86XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hDbGFzcyA9IChoYXNPcGVuUGFyZW5zID8gMCAvKiBOb25lICovIDogMSAvKiBGb3JjZVRlcm1pbmF0aW9uICovKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOTEgLyogT3BlblNxdWFyZUJyYWNrZXQgKi86XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzT3BlblNxdWFyZUJyYWNrZXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoQ2xhc3MgPSAwIC8qIE5vbmUgKi87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDkzIC8qIENsb3NlU3F1YXJlQnJhY2tldCAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaENsYXNzID0gKGhhc09wZW5TcXVhcmVCcmFja2V0ID8gMCAvKiBOb25lICovIDogMSAvKiBGb3JjZVRlcm1pbmF0aW9uICovKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTIzIC8qIE9wZW5DdXJseUJyYWNlICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc09wZW5DdXJseUJyYWNrZXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoQ2xhc3MgPSAwIC8qIE5vbmUgKi87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEyNSAvKiBDbG9zZUN1cmx5QnJhY2UgKi86XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hDbGFzcyA9IChoYXNPcGVuQ3VybHlCcmFja2V0ID8gMCAvKiBOb25lICovIDogMSAvKiBGb3JjZVRlcm1pbmF0aW9uICovKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIFRoZSBmb2xsb3dpbmcgdGhyZWUgcnVsZXMgbWFrZSBpdCB0aGF0ICcgb3IgXCIgb3IgYCBhcmUgYWxsb3dlZCBpbnNpZGUgbGlua3MgaWYgdGhlIGxpbmsgYmVnYW4gd2l0aCBhIGRpZmZlcmVudCBvbmUgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzkgLyogU2luZ2xlUXVvdGUgKi86XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hDbGFzcyA9IChsaW5rQmVnaW5DaENvZGUgPT09IDM0IC8qIERvdWJsZVF1b3RlICovIHx8IGxpbmtCZWdpbkNoQ29kZSA9PT0gOTYgLyogQmFja1RpY2sgKi8pID8gMCAvKiBOb25lICovIDogMSAvKiBGb3JjZVRlcm1pbmF0aW9uICovO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzNCAvKiBEb3VibGVRdW90ZSAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaENsYXNzID0gKGxpbmtCZWdpbkNoQ29kZSA9PT0gMzkgLyogU2luZ2xlUXVvdGUgKi8gfHwgbGlua0JlZ2luQ2hDb2RlID09PSA5NiAvKiBCYWNrVGljayAqLykgPyAwIC8qIE5vbmUgKi8gOiAxIC8qIEZvcmNlVGVybWluYXRpb24gKi87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk2IC8qIEJhY2tUaWNrICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoQ2xhc3MgPSAobGlua0JlZ2luQ2hDb2RlID09PSAzOSAvKiBTaW5nbGVRdW90ZSAqLyB8fCBsaW5rQmVnaW5DaENvZGUgPT09IDM0IC8qIERvdWJsZVF1b3RlICovKSA/IDAgLyogTm9uZSAqLyA6IDEgLyogRm9yY2VUZXJtaW5hdGlvbiAqLztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hDbGFzcyA9IGNsYXNzaWZpZXIuZ2V0KGNoQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgY2hhcmFjdGVyIHRlcm1pbmF0ZXMgbGlua1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hDbGFzcyA9PT0gMSAvKiBGb3JjZVRlcm1pbmF0aW9uICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChMaW5rQ29tcHV0ZXIuX2NyZWF0ZUxpbmsoY2xhc3NpZmllciwgbGluZSwgaSwgbGlua0JlZ2luSW5kZXgsIGopKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0U3RhdGVNYWNoaW5lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGF0ZSA9PT0gMTIgLyogRW5kICovKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaENsYXNzID0gY2xhc3NpZmllci5nZXQoY2hDb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgY2hhcmFjdGVyIHRlcm1pbmF0ZXMgbGlua1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hDbGFzcyA9PT0gMSAvKiBGb3JjZVRlcm1pbmF0aW9uICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNldFN0YXRlTWFjaGluZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IDEzIC8qIEFjY2VwdCAqLztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBzdGF0ZU1hY2hpbmUubmV4dFN0YXRlKHN0YXRlLCBjaENvZGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUgPT09IDAgLyogSW52YWxpZCAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRTdGF0ZU1hY2hpbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZXNldFN0YXRlTWFjaGluZSkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IDEgLyogU3RhcnQgKi87XG4gICAgICAgICAgICAgICAgICAgIGhhc09wZW5QYXJlbnMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaGFzT3BlblNxdWFyZUJyYWNrZXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaGFzT3BlbkN1cmx5QnJhY2tldCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAvLyBSZWNvcmQgd2hlcmUgdGhlIGxpbmsgc3RhcnRlZFxuICAgICAgICAgICAgICAgICAgICBsaW5rQmVnaW5JbmRleCA9IGogKyAxO1xuICAgICAgICAgICAgICAgICAgICBsaW5rQmVnaW5DaENvZGUgPSBjaENvZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGorKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gMTMgLyogQWNjZXB0ICovKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goTGlua0NvbXB1dGVyLl9jcmVhdGVMaW5rKGNsYXNzaWZpZXIsIGxpbmUsIGksIGxpbmtCZWdpbkluZGV4LCBsZW4pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgcmV0dXJuIExpbmtDb21wdXRlcjtcbn0oKSk7XG4vKipcbiAqIFJldHVybnMgYW4gYXJyYXkgb2YgYWxsIGxpbmtzIGNvbnRhaW5zIGluIHRoZSBwcm92aWRlZFxuICogZG9jdW1lbnQuICpOb3RlKiB0aGF0IHRoaXMgb3BlcmF0aW9uIGlzIGNvbXB1dGF0aW9uYWxcbiAqIGV4cGVuc2l2ZSBhbmQgc2hvdWxkIG5vdCBydW4gaW4gdGhlIFVJIHRocmVhZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVMaW5rcyhtb2RlbCkge1xuICAgIGlmICghbW9kZWwgfHwgdHlwZW9mIG1vZGVsLmdldExpbmVDb3VudCAhPT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgbW9kZWwuZ2V0TGluZUNvbnRlbnQgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gVW5rbm93biBjYWxsZXIhXG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgcmV0dXJuIExpbmtDb21wdXRlci5jb21wdXRlTGlua3MobW9kZWwpO1xufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4ndXNlIHN0cmljdCc7XG52YXIgQmFzaWNJbnBsYWNlUmVwbGFjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCYXNpY0lucGxhY2VSZXBsYWNlKCkge1xuICAgICAgICB0aGlzLl9kZWZhdWx0VmFsdWVTZXQgPSBbXG4gICAgICAgICAgICBbJ3RydWUnLCAnZmFsc2UnXSxcbiAgICAgICAgICAgIFsnVHJ1ZScsICdGYWxzZSddLFxuICAgICAgICAgICAgWydQcml2YXRlJywgJ1B1YmxpYycsICdGcmllbmQnLCAnUmVhZE9ubHknLCAnUGFydGlhbCcsICdQcm90ZWN0ZWQnLCAnV3JpdGVPbmx5J10sXG4gICAgICAgICAgICBbJ3B1YmxpYycsICdwcm90ZWN0ZWQnLCAncHJpdmF0ZSddLFxuICAgICAgICBdO1xuICAgIH1cbiAgICBCYXNpY0lucGxhY2VSZXBsYWNlLnByb3RvdHlwZS5uYXZpZ2F0ZVZhbHVlU2V0ID0gZnVuY3Rpb24gKHJhbmdlMSwgdGV4dDEsIHJhbmdlMiwgdGV4dDIsIHVwKSB7XG4gICAgICAgIGlmIChyYW5nZTEgJiYgdGV4dDEpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmRvTmF2aWdhdGVWYWx1ZVNldCh0ZXh0MSwgdXApO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlOiByYW5nZTEsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZXN1bHRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChyYW5nZTIgJiYgdGV4dDIpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmRvTmF2aWdhdGVWYWx1ZVNldCh0ZXh0MiwgdXApO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlOiByYW5nZTIsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZXN1bHRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgQmFzaWNJbnBsYWNlUmVwbGFjZS5wcm90b3R5cGUuZG9OYXZpZ2F0ZVZhbHVlU2V0ID0gZnVuY3Rpb24gKHRleHQsIHVwKSB7XG4gICAgICAgIHZhciBudW1iZXJSZXN1bHQgPSB0aGlzLm51bWJlclJlcGxhY2UodGV4dCwgdXApO1xuICAgICAgICBpZiAobnVtYmVyUmVzdWx0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVtYmVyUmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnRleHRSZXBsYWNlKHRleHQsIHVwKTtcbiAgICB9O1xuICAgIEJhc2ljSW5wbGFjZVJlcGxhY2UucHJvdG90eXBlLm51bWJlclJlcGxhY2UgPSBmdW5jdGlvbiAodmFsdWUsIHVwKSB7XG4gICAgICAgIHZhciBwcmVjaXNpb24gPSBNYXRoLnBvdygxMCwgdmFsdWUubGVuZ3RoIC0gKHZhbHVlLmxhc3RJbmRleE9mKCcuJykgKyAxKSk7XG4gICAgICAgIHZhciBuMSA9IE51bWJlcih2YWx1ZSk7XG4gICAgICAgIHZhciBuMiA9IHBhcnNlRmxvYXQodmFsdWUpO1xuICAgICAgICBpZiAoIWlzTmFOKG4xKSAmJiAhaXNOYU4objIpICYmIG4xID09PSBuMikge1xuICAgICAgICAgICAgaWYgKG4xID09PSAwICYmICF1cCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsOyAvLyBkb24ndCBkbyBuZWdhdGl2ZVxuICAgICAgICAgICAgICAgIC8vXHRcdFx0fSBlbHNlIGlmKG4xID09PSA5ICYmIHVwKSB7XG4gICAgICAgICAgICAgICAgLy9cdFx0XHRcdHJldHVybiBudWxsOyAvLyBkb24ndCBpbnNlcnQgMTAgaW50byBhIG51bWJlclxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbjEgPSBNYXRoLmZsb29yKG4xICogcHJlY2lzaW9uKTtcbiAgICAgICAgICAgICAgICBuMSArPSB1cCA/IHByZWNpc2lvbiA6IC1wcmVjaXNpb247XG4gICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhuMSAvIHByZWNpc2lvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBCYXNpY0lucGxhY2VSZXBsYWNlLnByb3RvdHlwZS50ZXh0UmVwbGFjZSA9IGZ1bmN0aW9uICh2YWx1ZSwgdXApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVTZXRzUmVwbGFjZSh0aGlzLl9kZWZhdWx0VmFsdWVTZXQsIHZhbHVlLCB1cCk7XG4gICAgfTtcbiAgICBCYXNpY0lucGxhY2VSZXBsYWNlLnByb3RvdHlwZS52YWx1ZVNldHNSZXBsYWNlID0gZnVuY3Rpb24gKHZhbHVlU2V0cywgdmFsdWUsIHVwKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBudWxsO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdmFsdWVTZXRzLmxlbmd0aDsgcmVzdWx0ID09PSBudWxsICYmIGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy52YWx1ZVNldFJlcGxhY2UodmFsdWVTZXRzW2ldLCB2YWx1ZSwgdXApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBCYXNpY0lucGxhY2VSZXBsYWNlLnByb3RvdHlwZS52YWx1ZVNldFJlcGxhY2UgPSBmdW5jdGlvbiAodmFsdWVTZXQsIHZhbHVlLCB1cCkge1xuICAgICAgICB2YXIgaWR4ID0gdmFsdWVTZXQuaW5kZXhPZih2YWx1ZSk7XG4gICAgICAgIGlmIChpZHggPj0gMCkge1xuICAgICAgICAgICAgaWR4ICs9IHVwID8gKzEgOiAtMTtcbiAgICAgICAgICAgIGlmIChpZHggPCAwKSB7XG4gICAgICAgICAgICAgICAgaWR4ID0gdmFsdWVTZXQubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlkeCAlPSB2YWx1ZVNldC5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWVTZXRbaWR4XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIEJhc2ljSW5wbGFjZVJlcGxhY2UuSU5TVEFOQ0UgPSBuZXcgQmFzaWNJbnBsYWNlUmVwbGFjZSgpO1xuICAgIHJldHVybiBCYXNpY0lucGxhY2VSZXBsYWNlO1xufSgpKTtcbmV4cG9ydCB7IEJhc2ljSW5wbGFjZVJlcGxhY2UgfTtcbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuJ3VzZSBzdHJpY3QnO1xuZXhwb3J0IHZhciBVU1VBTF9XT1JEX1NFUEFSQVRPUlMgPSAnYH4hQCMkJV4mKigpLT0rW3tdfVxcXFx8OzpcXCdcIiwuPD4vPyc7XG4vKipcbiAqIENyZWF0ZSBhIHdvcmQgZGVmaW5pdGlvbiByZWd1bGFyIGV4cHJlc3Npb24gYmFzZWQgb24gZGVmYXVsdCB3b3JkIHNlcGFyYXRvcnMuXG4gKiBPcHRpb25hbGx5IHByb3ZpZGUgYWxsb3dlZCBzZXBhcmF0b3JzIHRoYXQgc2hvdWxkIGJlIGluY2x1ZGVkIGluIHdvcmRzLlxuICpcbiAqIFRoZSBkZWZhdWx0IHdvdWxkIGxvb2sgbGlrZSB0aGlzOlxuICogLygtP1xcZCpcXC5cXGRcXHcqKXwoW15cXGBcXH5cXCFcXEBcXCNcXCRcXCVcXF5cXCZcXCpcXChcXClcXC1cXD1cXCtcXFtcXHtcXF1cXH1cXFxcXFx8XFw7XFw6XFwnXFxcIlxcLFxcLlxcPFxcPlxcL1xcP1xcc10rKS9nXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVdvcmRSZWdFeHAoYWxsb3dJbldvcmRzKSB7XG4gICAgaWYgKGFsbG93SW5Xb3JkcyA9PT0gdm9pZCAwKSB7IGFsbG93SW5Xb3JkcyA9ICcnOyB9XG4gICAgdmFyIHNvdXJjZSA9ICcoLT9cXFxcZCpcXFxcLlxcXFxkXFxcXHcqKXwoW14nO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgVVNVQUxfV09SRF9TRVBBUkFUT1JTLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChhbGxvd0luV29yZHMuaW5kZXhPZihVU1VBTF9XT1JEX1NFUEFSQVRPUlNbaV0pID49IDApIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHNvdXJjZSArPSAnXFxcXCcgKyBVU1VBTF9XT1JEX1NFUEFSQVRPUlNbaV07XG4gICAgfVxuICAgIHNvdXJjZSArPSAnXFxcXHNdKyknO1xuICAgIHJldHVybiBuZXcgUmVnRXhwKHNvdXJjZSwgJ2cnKTtcbn1cbi8vIGNhdGNoZXMgbnVtYmVycyAoaW5jbHVkaW5nIGZsb2F0aW5nIG51bWJlcnMpIGluIHRoZSBmaXJzdCBncm91cCwgYW5kIGFscGhhbnVtIGluIHRoZSBzZWNvbmRcbmV4cG9ydCB2YXIgREVGQVVMVF9XT1JEX1JFR0VYUCA9IGNyZWF0ZVdvcmRSZWdFeHAoKTtcbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVWYWxpZFdvcmREZWZpbml0aW9uKHdvcmREZWZpbml0aW9uKSB7XG4gICAgdmFyIHJlc3VsdCA9IERFRkFVTFRfV09SRF9SRUdFWFA7XG4gICAgaWYgKHdvcmREZWZpbml0aW9uICYmICh3b3JkRGVmaW5pdGlvbiBpbnN0YW5jZW9mIFJlZ0V4cCkpIHtcbiAgICAgICAgaWYgKCF3b3JkRGVmaW5pdGlvbi5nbG9iYWwpIHtcbiAgICAgICAgICAgIHZhciBmbGFncyA9ICdnJztcbiAgICAgICAgICAgIGlmICh3b3JkRGVmaW5pdGlvbi5pZ25vcmVDYXNlKSB7XG4gICAgICAgICAgICAgICAgZmxhZ3MgKz0gJ2knO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHdvcmREZWZpbml0aW9uLm11bHRpbGluZSkge1xuICAgICAgICAgICAgICAgIGZsYWdzICs9ICdtJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdCA9IG5ldyBSZWdFeHAod29yZERlZmluaXRpb24uc291cmNlLCBmbGFncyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSB3b3JkRGVmaW5pdGlvbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQubGFzdEluZGV4ID0gMDtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gZ2V0V29yZEF0UG9zRmFzdChjb2x1bW4sIHdvcmREZWZpbml0aW9uLCB0ZXh0LCB0ZXh0T2Zmc2V0KSB7XG4gICAgLy8gZmluZCB3aGl0ZXNwYWNlIGVuY2xvc2VkIHRleHQgYXJvdW5kIGNvbHVtbiBhbmQgbWF0Y2ggZnJvbSB0aGVyZVxuICAgIHZhciBwb3MgPSBjb2x1bW4gLSAxIC0gdGV4dE9mZnNldDtcbiAgICB2YXIgc3RhcnQgPSB0ZXh0Lmxhc3RJbmRleE9mKCcgJywgcG9zIC0gMSkgKyAxO1xuICAgIHZhciBlbmQgPSB0ZXh0LmluZGV4T2YoJyAnLCBwb3MpO1xuICAgIGlmIChlbmQgPT09IC0xKSB7XG4gICAgICAgIGVuZCA9IHRleHQubGVuZ3RoO1xuICAgIH1cbiAgICB3b3JkRGVmaW5pdGlvbi5sYXN0SW5kZXggPSBzdGFydDtcbiAgICB2YXIgbWF0Y2g7XG4gICAgd2hpbGUgKG1hdGNoID0gd29yZERlZmluaXRpb24uZXhlYyh0ZXh0KSkge1xuICAgICAgICBpZiAobWF0Y2guaW5kZXggPD0gcG9zICYmIHdvcmREZWZpbml0aW9uLmxhc3RJbmRleCA+PSBwb3MpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgd29yZDogbWF0Y2hbMF0sXG4gICAgICAgICAgICAgICAgc3RhcnRDb2x1bW46IHRleHRPZmZzZXQgKyAxICsgbWF0Y2guaW5kZXgsXG4gICAgICAgICAgICAgICAgZW5kQ29sdW1uOiB0ZXh0T2Zmc2V0ICsgMSArIHdvcmREZWZpbml0aW9uLmxhc3RJbmRleFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGdldFdvcmRBdFBvc1Nsb3coY29sdW1uLCB3b3JkRGVmaW5pdGlvbiwgdGV4dCwgdGV4dE9mZnNldCkge1xuICAgIC8vIG1hdGNoZXMgYWxsIHdvcmRzIHN0YXJ0aW5nIGF0IHRoZSBiZWdpbm5pbmdcbiAgICAvLyBvZiB0aGUgaW5wdXQgdW50aWwgaXQgZmluZHMgYSBtYXRjaCB0aGF0IGVuY2xvc2VzXG4gICAgLy8gdGhlIGRlc2lyZWQgY29sdW1uLiBzbG93IGJ1dCBjb3JyZWN0XG4gICAgdmFyIHBvcyA9IGNvbHVtbiAtIDEgLSB0ZXh0T2Zmc2V0O1xuICAgIHdvcmREZWZpbml0aW9uLmxhc3RJbmRleCA9IDA7XG4gICAgdmFyIG1hdGNoO1xuICAgIHdoaWxlIChtYXRjaCA9IHdvcmREZWZpbml0aW9uLmV4ZWModGV4dCkpIHtcbiAgICAgICAgaWYgKG1hdGNoLmluZGV4ID4gcG9zKSB7XG4gICAgICAgICAgICAvLyB8blcgLT4gbWF0Y2hlZCBvbmx5IGFmdGVyIHRoZSBwb3NcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHdvcmREZWZpbml0aW9uLmxhc3RJbmRleCA+PSBwb3MpIHtcbiAgICAgICAgICAgIC8vIFd8VyAtPiBtYXRjaCBlbmNsb3NlcyBwb3NcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgd29yZDogbWF0Y2hbMF0sXG4gICAgICAgICAgICAgICAgc3RhcnRDb2x1bW46IHRleHRPZmZzZXQgKyAxICsgbWF0Y2guaW5kZXgsXG4gICAgICAgICAgICAgICAgZW5kQ29sdW1uOiB0ZXh0T2Zmc2V0ICsgMSArIHdvcmREZWZpbml0aW9uLmxhc3RJbmRleFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRXb3JkQXRUZXh0KGNvbHVtbiwgd29yZERlZmluaXRpb24sIHRleHQsIHRleHRPZmZzZXQpIHtcbiAgICAvLyBpZiBgd29yZHNgIGNhbiBjb250YWluIHdoaXRlc3BhY2UgY2hhcmFjdGVyIHdlIGhhdmUgdG8gdXNlIHRoZSBzbG93IHZhcmlhbnRcbiAgICAvLyBvdGhlcndpc2Ugd2UgdXNlIHRoZSBmYXN0IHZhcmlhbnQgb2YgZmluZGluZyBhIHdvcmRcbiAgICB3b3JkRGVmaW5pdGlvbi5sYXN0SW5kZXggPSAwO1xuICAgIHZhciBtYXRjaCA9IHdvcmREZWZpbml0aW9uLmV4ZWModGV4dCk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLy8gdG9kb0Bqb2ggdGhlIGBtYXRjaGAgY291bGQgYWxyZWFkeSBiZSB0aGUgKGZpcnN0KSB3b3JkXG4gICAgdmFyIHJldCA9IG1hdGNoWzBdLmluZGV4T2YoJyAnKSA+PSAwXG4gICAgICAgIC8vIGRpZCBtYXRjaCBhIHdvcmQgd2hpY2ggY29udGFpbnMgYSBzcGFjZSBjaGFyYWN0ZXIgLT4gdXNlIHNsb3cgd29yZCBmaW5kXG4gICAgICAgID8gZ2V0V29yZEF0UG9zU2xvdyhjb2x1bW4sIHdvcmREZWZpbml0aW9uLCB0ZXh0LCB0ZXh0T2Zmc2V0KVxuICAgICAgICAvLyBzYW5lIHdvcmQgZGVmaW5pdGlvbiAtPiB1c2UgZmFzdCB3b3JkIGZpbmRcbiAgICAgICAgOiBnZXRXb3JkQXRQb3NGYXN0KGNvbHVtbiwgd29yZERlZmluaXRpb24sIHRleHQsIHRleHRPZmZzZXQpO1xuICAgIC8vIGJvdGggKGdldFdvcmRBdFBvc0Zhc3QgYW5kIGdldFdvcmRBdFBvc1Nsb3cpIGxlYXZlIHRoZSB3b3JkRGVmaW5pdGlvbi1SZWdFeHBcbiAgICAvLyBpbiBhbiB1bmRlZmluZWQgc3RhdGUgYW5kIHRvIG5vdCBjb25mdXNlIG90aGVyIHVzZXJzIG9mIHRoZSB3b3JkRGVmaW5pdGlvblxuICAgIC8vIHdlIHJlc2V0IHRoZSBsYXN0SW5kZXhcbiAgICB3b3JkRGVmaW5pdGlvbi5sYXN0SW5kZXggPSAwO1xuICAgIHJldHVybiByZXQ7XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IFRQcm9taXNlIH0gZnJvbSAnLi93aW5qcy5iYXNlLmpzJztcbi8vIC0tLS0tLSBCRUdJTiBIb29rIHVwIGVycm9yIGxpc3RlbmVycyB0byB3aW5qcyBwcm9taXNlc1xudmFyIG91dHN0YW5kaW5nUHJvbWlzZUVycm9ycyA9IHt9O1xuZnVuY3Rpb24gcHJvbWlzZUVycm9ySGFuZGxlcihlKSB7XG4gICAgLy9cbiAgICAvLyBlLmRldGFpbCBsb29rcyBsaWtlOiB7IGV4Y2VwdGlvbiwgZXJyb3IsIHByb21pc2UsIGhhbmRsZXIsIGlkLCBwYXJlbnQgfVxuICAgIC8vXG4gICAgdmFyIGRldGFpbHMgPSBlLmRldGFpbDtcbiAgICB2YXIgaWQgPSBkZXRhaWxzLmlkO1xuICAgIC8vIElmIHRoZSBlcnJvciBoYXMgYSBwYXJlbnQgcHJvbWlzZSB0aGVuIHRoaXMgaXMgbm90IHRoZSBvcmlnaW5hdGlvbiBvZiB0aGVcbiAgICAvLyAgZXJyb3Igc28gd2UgY2hlY2sgaWYgaXQgaGFzIGEgaGFuZGxlciwgYW5kIGlmIHNvIHdlIG1hcmsgdGhhdCB0aGUgZXJyb3JcbiAgICAvLyAgd2FzIGhhbmRsZWQgYnkgcmVtb3ZpbmcgaXQgZnJvbSBvdXRzdGFuZGluZ1Byb21pc2VFcnJvcnNcbiAgICAvL1xuICAgIGlmIChkZXRhaWxzLnBhcmVudCkge1xuICAgICAgICBpZiAoZGV0YWlscy5oYW5kbGVyICYmIG91dHN0YW5kaW5nUHJvbWlzZUVycm9ycykge1xuICAgICAgICAgICAgZGVsZXRlIG91dHN0YW5kaW5nUHJvbWlzZUVycm9yc1tpZF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBJbmRpY2F0ZSB0aGF0IHRoaXMgZXJyb3Igd2FzIG9yaWdpbmF0ZWQgYW5kIG5lZWRzIHRvIGJlIGhhbmRsZWRcbiAgICBvdXRzdGFuZGluZ1Byb21pc2VFcnJvcnNbaWRdID0gZGV0YWlscztcbiAgICAvLyBUaGUgZmlyc3QgdGltZSB0aGUgcXVldWUgZmlsbHMgdXAgdGhpcyBpdGVyYXRpb24sIHNjaGVkdWxlIGEgdGltZW91dCB0b1xuICAgIC8vIGNoZWNrIGlmIGFueSBlcnJvcnMgYXJlIHN0aWxsIHVuaGFuZGxlZC5cbiAgICBpZiAoT2JqZWN0LmtleXMob3V0c3RhbmRpbmdQcm9taXNlRXJyb3JzKS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZXJyb3JzID0gb3V0c3RhbmRpbmdQcm9taXNlRXJyb3JzO1xuICAgICAgICAgICAgb3V0c3RhbmRpbmdQcm9taXNlRXJyb3JzID0ge307XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhlcnJvcnMpLmZvckVhY2goZnVuY3Rpb24gKGVycm9ySWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSBlcnJvcnNbZXJyb3JJZF07XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLmV4Y2VwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBvblVuZXhwZWN0ZWRFcnJvcihlcnJvci5leGNlcHRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChlcnJvci5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBvblVuZXhwZWN0ZWRFcnJvcihlcnJvci5lcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdXQVJOSU5HOiBQcm9taXNlIHdpdGggbm8gZXJyb3IgY2FsbGJhY2s6JyArIGVycm9yLmlkKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLmV4Y2VwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvci5leGNlcHRpb24uc3RhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCAwKTtcbiAgICB9XG59XG5UUHJvbWlzZS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHByb21pc2VFcnJvckhhbmRsZXIpO1xuLy8gQXZvaWQgY2lyY3VsYXIgZGVwZW5kZW5jeSBvbiBFdmVudEVtaXR0ZXIgYnkgaW1wbGVtZW50aW5nIGEgc3Vic2V0IG9mIHRoZSBpbnRlcmZhY2UuXG52YXIgRXJyb3JIYW5kbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEVycm9ySGFuZGxlcigpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgdGhpcy51bmV4cGVjdGVkRXJyb3JIYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChlLnN0YWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlLm1lc3NhZ2UgKyAnXFxuXFxuJyArIGUuc3RhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIEVycm9ySGFuZGxlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcihlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBFcnJvckhhbmRsZXIucHJvdG90eXBlLm9uVW5leHBlY3RlZEVycm9yID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdGhpcy51bmV4cGVjdGVkRXJyb3JIYW5kbGVyKGUpO1xuICAgICAgICB0aGlzLmVtaXQoZSk7XG4gICAgfTtcbiAgICAvLyBGb3IgZXh0ZXJuYWwgZXJyb3JzLCB3ZSBkb24ndCB3YW50IHRoZSBsaXN0ZW5lcnMgdG8gYmUgY2FsbGVkXG4gICAgRXJyb3JIYW5kbGVyLnByb3RvdHlwZS5vblVuZXhwZWN0ZWRFeHRlcm5hbEVycm9yID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdGhpcy51bmV4cGVjdGVkRXJyb3JIYW5kbGVyKGUpO1xuICAgIH07XG4gICAgcmV0dXJuIEVycm9ySGFuZGxlcjtcbn0oKSk7XG5leHBvcnQgeyBFcnJvckhhbmRsZXIgfTtcbmV4cG9ydCB2YXIgZXJyb3JIYW5kbGVyID0gbmV3IEVycm9ySGFuZGxlcigpO1xuZXhwb3J0IGZ1bmN0aW9uIG9uVW5leHBlY3RlZEVycm9yKGUpIHtcbiAgICAvLyBpZ25vcmUgZXJyb3JzIGZyb20gY2FuY2VsbGVkIHByb21pc2VzXG4gICAgaWYgKCFpc1Byb21pc2VDYW5jZWxlZEVycm9yKGUpKSB7XG4gICAgICAgIGVycm9ySGFuZGxlci5vblVuZXhwZWN0ZWRFcnJvcihlKTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBvblVuZXhwZWN0ZWRFeHRlcm5hbEVycm9yKGUpIHtcbiAgICAvLyBpZ25vcmUgZXJyb3JzIGZyb20gY2FuY2VsbGVkIHByb21pc2VzXG4gICAgaWYgKCFpc1Byb21pc2VDYW5jZWxlZEVycm9yKGUpKSB7XG4gICAgICAgIGVycm9ySGFuZGxlci5vblVuZXhwZWN0ZWRFeHRlcm5hbEVycm9yKGUpO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybUVycm9yRm9yU2VyaWFsaXphdGlvbihlcnJvcikge1xuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHZhciBuYW1lXzEgPSBlcnJvci5uYW1lLCBtZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgICAgICAgdmFyIHN0YWNrID0gZXJyb3Iuc3RhY2t0cmFjZSB8fCBlcnJvci5zdGFjaztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICRpc0Vycm9yOiB0cnVlLFxuICAgICAgICAgICAgbmFtZTogbmFtZV8xLFxuICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgICAgIHN0YWNrOiBzdGFja1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyByZXR1cm4gYXMgaXNcbiAgICByZXR1cm4gZXJyb3I7XG59XG52YXIgY2FuY2VsZWROYW1lID0gJ0NhbmNlbGVkJztcbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBlcnJvciBpcyBhIHByb21pc2UgaW4gY2FuY2VsZWQgc3RhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUHJvbWlzZUNhbmNlbGVkRXJyb3IoZXJyb3IpIHtcbiAgICByZXR1cm4gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnJvci5uYW1lID09PSBjYW5jZWxlZE5hbWUgJiYgZXJyb3IubWVzc2FnZSA9PT0gY2FuY2VsZWROYW1lO1xufVxuLyoqXG4gKiBSZXR1cm5zIGFuIGVycm9yIHRoYXQgc2lnbmFscyBjYW5jZWxsYXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYW5jZWxlZCgpIHtcbiAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IoY2FuY2VsZWROYW1lKTtcbiAgICBlcnJvci5uYW1lID0gZXJyb3IubWVzc2FnZTtcbiAgICByZXR1cm4gZXJyb3I7XG59XG5leHBvcnQgZnVuY3Rpb24gaWxsZWdhbEFyZ3VtZW50KG5hbWUpIHtcbiAgICBpZiAobmFtZSkge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKFwiSWxsZWdhbCBhcmd1bWVudDogXCIgKyBuYW1lKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0lsbGVnYWwgYXJndW1lbnQnKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaWxsZWdhbFN0YXRlKG5hbWUpIHtcbiAgICBpZiAobmFtZSkge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKFwiSWxsZWdhbCBzdGF0ZTogXCIgKyBuYW1lKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0lsbGVnYWwgc3RhdGUnKTtcbiAgICB9XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbid1c2Ugc3RyaWN0JztcbmV4cG9ydCBmdW5jdGlvbiBpc0Rpc3Bvc2FibGUodGhpbmcpIHtcbiAgICByZXR1cm4gdHlwZW9mIHRoaW5nLmRpc3Bvc2UgPT09ICdmdW5jdGlvbidcbiAgICAgICAgJiYgdGhpbmcuZGlzcG9zZS5sZW5ndGggPT09IDA7XG59XG5leHBvcnQgZnVuY3Rpb24gZGlzcG9zZShmaXJzdCkge1xuICAgIHZhciByZXN0ID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgcmVzdFtfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZmlyc3QpKSB7XG4gICAgICAgIGZpcnN0LmZvckVhY2goZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQgJiYgZC5kaXNwb3NlKCk7IH0pO1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGVsc2UgaWYgKHJlc3QubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGlmIChmaXJzdCkge1xuICAgICAgICAgICAgZmlyc3QuZGlzcG9zZSgpO1xuICAgICAgICAgICAgcmV0dXJuIGZpcnN0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBkaXNwb3NlKGZpcnN0KTtcbiAgICAgICAgZGlzcG9zZShyZXN0KTtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lZERpc3Bvc2FibGUoZGlzcG9zYWJsZXMpIHtcbiAgICByZXR1cm4geyBkaXNwb3NlOiBmdW5jdGlvbiAoKSB7IHJldHVybiBkaXNwb3NlKGRpc3Bvc2FibGVzKTsgfSB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRvRGlzcG9zYWJsZShmbikge1xuICAgIHJldHVybiB7IGRpc3Bvc2U6IGZ1bmN0aW9uICgpIHsgZm4oKTsgfSB9O1xufVxudmFyIERpc3Bvc2FibGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGlzcG9zYWJsZSgpIHtcbiAgICAgICAgdGhpcy5fdG9EaXNwb3NlID0gW107XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwb3NhYmxlLnByb3RvdHlwZSwgXCJ0b0Rpc3Bvc2VcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX3RvRGlzcG9zZTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgRGlzcG9zYWJsZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fdG9EaXNwb3NlID0gZGlzcG9zZSh0aGlzLl90b0Rpc3Bvc2UpO1xuICAgIH07XG4gICAgRGlzcG9zYWJsZS5wcm90b3R5cGUuX3JlZ2lzdGVyID0gZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgdGhpcy5fdG9EaXNwb3NlLnB1c2godCk7XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgRGlzcG9zYWJsZS5Ob25lID0gT2JqZWN0LmZyZWV6ZSh7IGRpc3Bvc2U6IGZ1bmN0aW9uICgpIHsgfSB9KTtcbiAgICByZXR1cm4gRGlzcG9zYWJsZTtcbn0oKSk7XG5leHBvcnQgeyBEaXNwb3NhYmxlIH07XG52YXIgSW1tb3J0YWxSZWZlcmVuY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSW1tb3J0YWxSZWZlcmVuY2Uob2JqZWN0KSB7XG4gICAgICAgIHRoaXMub2JqZWN0ID0gb2JqZWN0O1xuICAgIH1cbiAgICBJbW1vcnRhbFJlZmVyZW5jZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHsgfTtcbiAgICByZXR1cm4gSW1tb3J0YWxSZWZlcmVuY2U7XG59KCkpO1xuZXhwb3J0IHsgSW1tb3J0YWxSZWZlcmVuY2UgfTtcbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgb25VbmV4cGVjdGVkRXJyb3IgfSBmcm9tICcuL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBvbmNlIGFzIG9uY2VGbiB9IGZyb20gJy4vZnVuY3Rpb25hbC5qcyc7XG5pbXBvcnQgeyBjb21iaW5lZERpc3Bvc2FibGUsIERpc3Bvc2FibGUsIHRvRGlzcG9zYWJsZSB9IGZyb20gJy4vbGlmZWN5Y2xlLmpzJztcbmltcG9ydCB7IExpbmtlZExpc3QgfSBmcm9tICcuL2xpbmtlZExpc3QuanMnO1xuZXhwb3J0IHZhciBFdmVudDtcbihmdW5jdGlvbiAoRXZlbnQpIHtcbiAgICB2YXIgX2Rpc3Bvc2FibGUgPSB7IGRpc3Bvc2U6IGZ1bmN0aW9uICgpIHsgfSB9O1xuICAgIEV2ZW50Lk5vbmUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfZGlzcG9zYWJsZTsgfTtcbn0pKEV2ZW50IHx8IChFdmVudCA9IHt9KSk7XG4vKipcbiAqIFRoZSBFbWl0dGVyIGNhbiBiZSB1c2VkIHRvIGV4cG9zZSBhbiBFdmVudCB0byB0aGUgcHVibGljXG4gKiB0byBmaXJlIGl0IGZyb20gdGhlIGluc2lkZXMuXG4gKiBTYW1wbGU6XG4gICAgY2xhc3MgRG9jdW1lbnQge1xuXG4gICAgICAgIHByaXZhdGUgX29uRGlkQ2hhbmdlID0gbmV3IEVtaXR0ZXI8KHZhbHVlOnN0cmluZyk9PmFueT4oKTtcblxuICAgICAgICBwdWJsaWMgb25EaWRDaGFuZ2UgPSB0aGlzLl9vbkRpZENoYW5nZS5ldmVudDtcblxuICAgICAgICAvLyBnZXR0ZXItc3R5bGVcbiAgICAgICAgLy8gZ2V0IG9uRGlkQ2hhbmdlKCk6IEV2ZW50PCh2YWx1ZTpzdHJpbmcpPT5hbnk+IHtcbiAgICAgICAgLy8gXHRyZXR1cm4gdGhpcy5fb25EaWRDaGFuZ2UuZXZlbnQ7XG4gICAgICAgIC8vIH1cblxuICAgICAgICBwcml2YXRlIF9kb0l0KCkge1xuICAgICAgICAgICAgLy8uLi5cbiAgICAgICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlLmZpcmUodmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICovXG52YXIgRW1pdHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBFbWl0dGVyKF9vcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBfb3B0aW9ucztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEVtaXR0ZXIucHJvdG90eXBlLCBcImV2ZW50XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZvciB0aGUgcHVibGljIHRvIGFsbG93IHRvIHN1YnNjcmliZVxuICAgICAgICAgKiB0byBldmVudHMgZnJvbSB0aGlzIEVtaXR0ZXJcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIGlmICghdGhpcy5fZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ldmVudCA9IGZ1bmN0aW9uIChsaXN0ZW5lciwgdGhpc0FyZ3MsIGRpc3Bvc2FibGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMuX2xpc3RlbmVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2xpc3RlbmVycyA9IG5ldyBMaW5rZWRMaXN0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpcnN0TGlzdGVuZXIgPSBfdGhpcy5fbGlzdGVuZXJzLmlzRW1wdHkoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpcnN0TGlzdGVuZXIgJiYgX3RoaXMuX29wdGlvbnMgJiYgX3RoaXMuX29wdGlvbnMub25GaXJzdExpc3RlbmVyQWRkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fb3B0aW9ucy5vbkZpcnN0TGlzdGVuZXJBZGQoX3RoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciByZW1vdmUgPSBfdGhpcy5fbGlzdGVuZXJzLnB1c2goIXRoaXNBcmdzID8gbGlzdGVuZXIgOiBbbGlzdGVuZXIsIHRoaXNBcmdzXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaXJzdExpc3RlbmVyICYmIF90aGlzLl9vcHRpb25zICYmIF90aGlzLl9vcHRpb25zLm9uRmlyc3RMaXN0ZW5lckRpZEFkZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX29wdGlvbnMub25GaXJzdExpc3RlbmVyRGlkQWRkKF90aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX29wdGlvbnMgJiYgX3RoaXMuX29wdGlvbnMub25MaXN0ZW5lckRpZEFkZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX29wdGlvbnMub25MaXN0ZW5lckRpZEFkZChfdGhpcywgbGlzdGVuZXIsIHRoaXNBcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwb3NlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmRpc3Bvc2UgPSBFbWl0dGVyLl9ub29wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMuX2Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX29wdGlvbnMgJiYgX3RoaXMuX29wdGlvbnMub25MYXN0TGlzdGVuZXJSZW1vdmUgJiYgX3RoaXMuX2xpc3RlbmVycy5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9vcHRpb25zLm9uTGFzdExpc3RlbmVyUmVtb3ZlKF90aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGlzcG9zYWJsZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwb3NhYmxlcy5wdXNoKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2V2ZW50O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBUbyBiZSBrZXB0IHByaXZhdGUgdG8gZmlyZSBhbiBldmVudCB0b1xuICAgICAqIHN1YnNjcmliZXJzXG4gICAgICovXG4gICAgRW1pdHRlci5wcm90b3R5cGUuZmlyZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAodGhpcy5fbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAvLyBwdXQgYWxsIFtsaXN0ZW5lcixldmVudF0tcGFpcnMgaW50byBkZWxpdmVyeSBxdWV1ZVxuICAgICAgICAgICAgLy8gdGhlbiBlbWl0IGFsbCBldmVudC4gYW4gaW5uZXIvbmVzdGVkIGV2ZW50IG1pZ2h0IGJlXG4gICAgICAgICAgICAvLyB0aGUgZHJpdmVyIG9mIHRoaXNcbiAgICAgICAgICAgIGlmICghdGhpcy5fZGVsaXZlcnlRdWV1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlbGl2ZXJ5UXVldWUgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGl0ZXIgPSB0aGlzLl9saXN0ZW5lcnMuaXRlcmF0b3IoKSwgZSA9IGl0ZXIubmV4dCgpOyAhZS5kb25lOyBlID0gaXRlci5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWxpdmVyeVF1ZXVlLnB1c2goW2UudmFsdWUsIGV2ZW50XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAodGhpcy5fZGVsaXZlcnlRdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5fZGVsaXZlcnlRdWV1ZS5zaGlmdCgpLCBsaXN0ZW5lciA9IF9hWzBdLCBldmVudF8xID0gX2FbMV07XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIuY2FsbCh1bmRlZmluZWQsIGV2ZW50XzEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJbMF0uY2FsbChsaXN0ZW5lclsxXSwgZXZlbnRfMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgb25VbmV4cGVjdGVkRXJyb3IoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBFbWl0dGVyLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICB0aGlzLl9saXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2RlbGl2ZXJ5UXVldWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2RlbGl2ZXJ5UXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kaXNwb3NlZCA9IHRydWU7XG4gICAgfTtcbiAgICBFbWl0dGVyLl9ub29wID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIHJldHVybiBFbWl0dGVyO1xufSgpKTtcbmV4cG9ydCB7IEVtaXR0ZXIgfTtcbnZhciBFdmVudE11bHRpcGxleGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEV2ZW50TXVsdGlwbGV4ZXIoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuaGFzTGlzdGVuZXJzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZXZlbnRzID0gW107XG4gICAgICAgIHRoaXMuZW1pdHRlciA9IG5ldyBFbWl0dGVyKHtcbiAgICAgICAgICAgIG9uRmlyc3RMaXN0ZW5lckFkZDogZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMub25GaXJzdExpc3RlbmVyQWRkKCk7IH0sXG4gICAgICAgICAgICBvbkxhc3RMaXN0ZW5lclJlbW92ZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMub25MYXN0TGlzdGVuZXJSZW1vdmUoKTsgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEV2ZW50TXVsdGlwbGV4ZXIucHJvdG90eXBlLCBcImV2ZW50XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbWl0dGVyLmV2ZW50O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBFdmVudE11bHRpcGxleGVyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGUgPSB7IGV2ZW50OiBldmVudCwgbGlzdGVuZXI6IG51bGwgfTtcbiAgICAgICAgdGhpcy5ldmVudHMucHVzaChlKTtcbiAgICAgICAgaWYgKHRoaXMuaGFzTGlzdGVuZXJzKSB7XG4gICAgICAgICAgICB0aGlzLmhvb2soZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuaGFzTGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMudW5ob29rKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGlkeCA9IF90aGlzLmV2ZW50cy5pbmRleE9mKGUpO1xuICAgICAgICAgICAgX3RoaXMuZXZlbnRzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdG9EaXNwb3NhYmxlKG9uY2VGbihkaXNwb3NlKSk7XG4gICAgfTtcbiAgICBFdmVudE11bHRpcGxleGVyLnByb3RvdHlwZS5vbkZpcnN0TGlzdGVuZXJBZGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuaGFzTGlzdGVuZXJzID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5ldmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZSkgeyByZXR1cm4gX3RoaXMuaG9vayhlKTsgfSk7XG4gICAgfTtcbiAgICBFdmVudE11bHRpcGxleGVyLnByb3RvdHlwZS5vbkxhc3RMaXN0ZW5lclJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5oYXNMaXN0ZW5lcnMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ldmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZSkgeyByZXR1cm4gX3RoaXMudW5ob29rKGUpOyB9KTtcbiAgICB9O1xuICAgIEV2ZW50TXVsdGlwbGV4ZXIucHJvdG90eXBlLmhvb2sgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBlLmxpc3RlbmVyID0gZS5ldmVudChmdW5jdGlvbiAocikgeyByZXR1cm4gX3RoaXMuZW1pdHRlci5maXJlKHIpOyB9KTtcbiAgICB9O1xuICAgIEV2ZW50TXVsdGlwbGV4ZXIucHJvdG90eXBlLnVuaG9vayA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUubGlzdGVuZXIuZGlzcG9zZSgpO1xuICAgICAgICBlLmxpc3RlbmVyID0gbnVsbDtcbiAgICB9O1xuICAgIEV2ZW50TXVsdGlwbGV4ZXIucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZW1pdHRlci5kaXNwb3NlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gRXZlbnRNdWx0aXBsZXhlcjtcbn0oKSk7XG5leHBvcnQgeyBFdmVudE11bHRpcGxleGVyIH07XG5leHBvcnQgZnVuY3Rpb24gb25jZShldmVudCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAobGlzdGVuZXIsIHRoaXNBcmdzLCBkaXNwb3NhYmxlcykge1xuICAgICAgICBpZiAodGhpc0FyZ3MgPT09IHZvaWQgMCkgeyB0aGlzQXJncyA9IG51bGw7IH1cbiAgICAgICAgdmFyIHJlc3VsdCA9IGV2ZW50KGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICByZXN1bHQuZGlzcG9zZSgpO1xuICAgICAgICAgICAgcmV0dXJuIGxpc3RlbmVyLmNhbGwodGhpc0FyZ3MsIGUpO1xuICAgICAgICB9LCBudWxsLCBkaXNwb3NhYmxlcyk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhbnlFdmVudCgpIHtcbiAgICB2YXIgZXZlbnRzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgZXZlbnRzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAobGlzdGVuZXIsIHRoaXNBcmdzLCBkaXNwb3NhYmxlcykge1xuICAgICAgICBpZiAodGhpc0FyZ3MgPT09IHZvaWQgMCkgeyB0aGlzQXJncyA9IG51bGw7IH1cbiAgICAgICAgcmV0dXJuIGNvbWJpbmVkRGlzcG9zYWJsZShldmVudHMubWFwKGZ1bmN0aW9uIChldmVudCkgeyByZXR1cm4gZXZlbnQoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGxpc3RlbmVyLmNhbGwodGhpc0FyZ3MsIGUpOyB9LCBudWxsLCBkaXNwb3NhYmxlcyk7IH0pKTtcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRlYm91bmNlRXZlbnQoZXZlbnQsIG1lcmdlciwgZGVsYXksIGxlYWRpbmcpIHtcbiAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkgeyBkZWxheSA9IDEwMDsgfVxuICAgIGlmIChsZWFkaW5nID09PSB2b2lkIDApIHsgbGVhZGluZyA9IGZhbHNlOyB9XG4gICAgdmFyIHN1YnNjcmlwdGlvbjtcbiAgICB2YXIgb3V0cHV0ID0gdW5kZWZpbmVkO1xuICAgIHZhciBoYW5kbGUgPSB1bmRlZmluZWQ7XG4gICAgdmFyIG51bURlYm91bmNlZENhbGxzID0gMDtcbiAgICB2YXIgZW1pdHRlciA9IG5ldyBFbWl0dGVyKHtcbiAgICAgICAgb25GaXJzdExpc3RlbmVyQWRkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBldmVudChmdW5jdGlvbiAoY3VyKSB7XG4gICAgICAgICAgICAgICAgbnVtRGVib3VuY2VkQ2FsbHMrKztcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBtZXJnZXIob3V0cHV0LCBjdXIpO1xuICAgICAgICAgICAgICAgIGlmIChsZWFkaW5nICYmICFoYW5kbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZW1pdHRlci5maXJlKG91dHB1dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChoYW5kbGUpO1xuICAgICAgICAgICAgICAgIGhhbmRsZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX291dHB1dCA9IG91dHB1dDtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICBoYW5kbGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICghbGVhZGluZyB8fCBudW1EZWJvdW5jZWRDYWxscyA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtaXR0ZXIuZmlyZShfb3V0cHV0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBudW1EZWJvdW5jZWRDYWxscyA9IDA7XG4gICAgICAgICAgICAgICAgfSwgZGVsYXkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uTGFzdExpc3RlbmVyUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24uZGlzcG9zZSgpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGVtaXR0ZXIuZXZlbnQ7XG59XG4vKipcbiAqIFRoZSBFdmVudERlbGF5ZXIgaXMgdXNlZnVsIGluIHNpdHVhdGlvbnMgaW4gd2hpY2ggeW91IHdhbnRcbiAqIHRvIGRlbGF5IGZpcmluZyB5b3VyIGV2ZW50cyBkdXJpbmcgc29tZSBjb2RlLlxuICogWW91IGNhbiB3cmFwIHRoYXQgY29kZSBhbmQgYmUgc3VyZSB0aGF0IHRoZSBldmVudCB3aWxsIG5vdFxuICogYmUgZmlyZWQgZHVyaW5nIHRoYXQgd3JhcC5cbiAqXG4gKiBgYGBcbiAqIGNvbnN0IGVtaXR0ZXI6IEVtaXR0ZXI7XG4gKiBjb25zdCBkZWxheWVyID0gbmV3IEV2ZW50RGVsYXllcigpO1xuICogY29uc3QgZGVsYXllZEV2ZW50ID0gZGVsYXllci53cmFwRXZlbnQoZW1pdHRlci5ldmVudCk7XG4gKlxuICogZGVsYXllZEV2ZW50KGNvbnNvbGUubG9nKTtcbiAqXG4gKiBkZWxheWVyLmJ1ZmZlckV2ZW50cygoKSA9PiB7XG4gKiAgIGVtaXR0ZXIuZmlyZSgpOyAvLyBldmVudCB3aWxsIG5vdCBiZSBmaXJlZCB5ZXRcbiAqIH0pO1xuICpcbiAqIC8vIGV2ZW50IHdpbGwgb25seSBiZSBmaXJlZCBhdCB0aGlzIHBvaW50XG4gKiBgYGBcbiAqL1xudmFyIEV2ZW50QnVmZmVyZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRXZlbnRCdWZmZXJlcigpIHtcbiAgICAgICAgdGhpcy5idWZmZXJzID0gW107XG4gICAgfVxuICAgIEV2ZW50QnVmZmVyZXIucHJvdG90eXBlLndyYXBFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGxpc3RlbmVyLCB0aGlzQXJncywgZGlzcG9zYWJsZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBldmVudChmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgIHZhciBidWZmZXIgPSBfdGhpcy5idWZmZXJzW190aGlzLmJ1ZmZlcnMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgaWYgKGJ1ZmZlcikge1xuICAgICAgICAgICAgICAgICAgICBidWZmZXIucHVzaChmdW5jdGlvbiAoKSB7IHJldHVybiBsaXN0ZW5lci5jYWxsKHRoaXNBcmdzLCBpKTsgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lci5jYWxsKHRoaXNBcmdzLCBpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB2b2lkIDAsIGRpc3Bvc2FibGVzKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIEV2ZW50QnVmZmVyZXIucHJvdG90eXBlLmJ1ZmZlckV2ZW50cyA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICB2YXIgYnVmZmVyID0gW107XG4gICAgICAgIHRoaXMuYnVmZmVycy5wdXNoKGJ1ZmZlcik7XG4gICAgICAgIGZuKCk7XG4gICAgICAgIHRoaXMuYnVmZmVycy5wb3AoKTtcbiAgICAgICAgYnVmZmVyLmZvckVhY2goZnVuY3Rpb24gKGZsdXNoKSB7IHJldHVybiBmbHVzaCgpOyB9KTtcbiAgICB9O1xuICAgIHJldHVybiBFdmVudEJ1ZmZlcmVyO1xufSgpKTtcbmV4cG9ydCB7IEV2ZW50QnVmZmVyZXIgfTtcbmV4cG9ydCBmdW5jdGlvbiBtYXBFdmVudChldmVudCwgbWFwKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChsaXN0ZW5lciwgdGhpc0FyZ3MsIGRpc3Bvc2FibGVzKSB7XG4gICAgICAgIGlmICh0aGlzQXJncyA9PT0gdm9pZCAwKSB7IHRoaXNBcmdzID0gbnVsbDsgfVxuICAgICAgICByZXR1cm4gZXZlbnQoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGxpc3RlbmVyLmNhbGwodGhpc0FyZ3MsIG1hcChpKSk7IH0sIG51bGwsIGRpc3Bvc2FibGVzKTtcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlckV2ZW50KGV2ZW50LCBmaWx0ZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGxpc3RlbmVyLCB0aGlzQXJncywgZGlzcG9zYWJsZXMpIHtcbiAgICAgICAgaWYgKHRoaXNBcmdzID09PSB2b2lkIDApIHsgdGhpc0FyZ3MgPSBudWxsOyB9XG4gICAgICAgIHJldHVybiBldmVudChmdW5jdGlvbiAoZSkgeyByZXR1cm4gZmlsdGVyKGUpICYmIGxpc3RlbmVyLmNhbGwodGhpc0FyZ3MsIGUpOyB9LCBudWxsLCBkaXNwb3NhYmxlcyk7XG4gICAgfTtcbn1cbnZhciBDaGFpbmFibGVFdmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDaGFpbmFibGVFdmVudChfZXZlbnQpIHtcbiAgICAgICAgdGhpcy5fZXZlbnQgPSBfZXZlbnQ7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDaGFpbmFibGVFdmVudC5wcm90b3R5cGUsIFwiZXZlbnRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2V2ZW50OyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBDaGFpbmFibGVFdmVudC5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2hhaW5hYmxlRXZlbnQobWFwRXZlbnQodGhpcy5fZXZlbnQsIGZuKSk7XG4gICAgfTtcbiAgICBDaGFpbmFibGVFdmVudC5wcm90b3R5cGUuZmlsdGVyID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2hhaW5hYmxlRXZlbnQoZmlsdGVyRXZlbnQodGhpcy5fZXZlbnQsIGZuKSk7XG4gICAgfTtcbiAgICBDaGFpbmFibGVFdmVudC5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAobGlzdGVuZXIsIHRoaXNBcmdzLCBkaXNwb3NhYmxlcykge1xuICAgICAgICByZXR1cm4gdGhpcy5fZXZlbnQobGlzdGVuZXIsIHRoaXNBcmdzLCBkaXNwb3NhYmxlcyk7XG4gICAgfTtcbiAgICByZXR1cm4gQ2hhaW5hYmxlRXZlbnQ7XG59KCkpO1xuZXhwb3J0IGZ1bmN0aW9uIGNoYWluKGV2ZW50KSB7XG4gICAgcmV0dXJuIG5ldyBDaGFpbmFibGVFdmVudChldmVudCk7XG59XG52YXIgUmVsYXkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVsYXkoKSB7XG4gICAgICAgIHRoaXMuZW1pdHRlciA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIHRoaXMuZXZlbnQgPSB0aGlzLmVtaXR0ZXIuZXZlbnQ7XG4gICAgICAgIHRoaXMuZGlzcG9zYWJsZSA9IERpc3Bvc2FibGUuTm9uZTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlbGF5LnByb3RvdHlwZSwgXCJpbnB1dFwiLCB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2FibGUuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5kaXNwb3NhYmxlID0gZXZlbnQodGhpcy5lbWl0dGVyLmZpcmUsIHRoaXMuZW1pdHRlcik7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFJlbGF5LnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRpc3Bvc2FibGUuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLmVtaXR0ZXIuZGlzcG9zZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIFJlbGF5O1xufSgpKTtcbmV4cG9ydCB7IFJlbGF5IH07XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbid1c2Ugc3RyaWN0JztcbnZhciBOb2RlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE5vZGUoZWxlbWVudCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIH1cbiAgICByZXR1cm4gTm9kZTtcbn0oKSk7XG52YXIgTGlua2VkTGlzdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMaW5rZWRMaXN0KCkge1xuICAgIH1cbiAgICBMaW5rZWRMaXN0LnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gIXRoaXMuX2ZpcnN0O1xuICAgIH07XG4gICAgTGlua2VkTGlzdC5wcm90b3R5cGUudW5zaGlmdCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmluc2VydChlbGVtZW50LCBmYWxzZSk7XG4gICAgfTtcbiAgICBMaW5rZWRMaXN0LnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0KGVsZW1lbnQsIHRydWUpO1xuICAgIH07XG4gICAgTGlua2VkTGlzdC5wcm90b3R5cGUuaW5zZXJ0ID0gZnVuY3Rpb24gKGVsZW1lbnQsIGF0VGhlRW5kKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBuZXdOb2RlID0gbmV3IE5vZGUoZWxlbWVudCk7XG4gICAgICAgIGlmICghdGhpcy5fZmlyc3QpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpcnN0ID0gbmV3Tm9kZTtcbiAgICAgICAgICAgIHRoaXMuX2xhc3QgPSBuZXdOb2RlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGF0VGhlRW5kKSB7XG4gICAgICAgICAgICAvLyBwdXNoXG4gICAgICAgICAgICB2YXIgb2xkTGFzdCA9IHRoaXMuX2xhc3Q7XG4gICAgICAgICAgICB0aGlzLl9sYXN0ID0gbmV3Tm9kZTtcbiAgICAgICAgICAgIG5ld05vZGUucHJldiA9IG9sZExhc3Q7XG4gICAgICAgICAgICBvbGRMYXN0Lm5leHQgPSBuZXdOb2RlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gdW5zaGlmdFxuICAgICAgICAgICAgdmFyIG9sZEZpcnN0ID0gdGhpcy5fZmlyc3Q7XG4gICAgICAgICAgICB0aGlzLl9maXJzdCA9IG5ld05vZGU7XG4gICAgICAgICAgICBuZXdOb2RlLm5leHQgPSBvbGRGaXJzdDtcbiAgICAgICAgICAgIG9sZEZpcnN0LnByZXYgPSBuZXdOb2RlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBjYW5kaWRhdGUgPSBfdGhpcy5fZmlyc3Q7IGNhbmRpZGF0ZSBpbnN0YW5jZW9mIE5vZGU7IGNhbmRpZGF0ZSA9IGNhbmRpZGF0ZS5uZXh0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhbmRpZGF0ZSAhPT0gbmV3Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNhbmRpZGF0ZS5wcmV2ICYmIGNhbmRpZGF0ZS5uZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG1pZGRsZVxuICAgICAgICAgICAgICAgICAgICB2YXIgYW5jaG9yID0gY2FuZGlkYXRlLnByZXY7XG4gICAgICAgICAgICAgICAgICAgIGFuY2hvci5uZXh0ID0gY2FuZGlkYXRlLm5leHQ7XG4gICAgICAgICAgICAgICAgICAgIGNhbmRpZGF0ZS5uZXh0LnByZXYgPSBhbmNob3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFjYW5kaWRhdGUucHJldiAmJiAhY2FuZGlkYXRlLm5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gb25seSBub2RlXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9maXJzdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2xhc3QgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFjYW5kaWRhdGUubmV4dCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBsYXN0XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9sYXN0ID0gX3RoaXMuX2xhc3QucHJldjtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2xhc3QubmV4dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIWNhbmRpZGF0ZS5wcmV2KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZpcnN0XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9maXJzdCA9IF90aGlzLl9maXJzdC5uZXh0O1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZmlyc3QucHJldiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZG9uZVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG4gICAgTGlua2VkTGlzdC5wcm90b3R5cGUuaXRlcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0ge1xuICAgICAgICAgICAgZG9uZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgdmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIG5vZGUgPSB0aGlzLl9maXJzdDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5kb25lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnZhbHVlID0gbm9kZS5lbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5uZXh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHJldHVybiBMaW5rZWRMaXN0O1xufSgpKTtcbmV4cG9ydCB7IExpbmtlZExpc3QgfTtcbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuJ3VzZSBzdHJpY3QnO1xuZXhwb3J0IGZ1bmN0aW9uIG9uY2UoZm4pIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciBkaWRDYWxsID0gZmFsc2U7XG4gICAgdmFyIHJlc3VsdDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoZGlkQ2FsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBkaWRDYWxsID0gdHJ1ZTtcbiAgICAgICAgcmVzdWx0ID0gZm4uYXBwbHkoX3RoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuJ3VzZSBzdHJpY3QnO1xudmFyIEtleUNvZGVTdHJNYXAgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gS2V5Q29kZVN0ck1hcCgpIHtcbiAgICAgICAgdGhpcy5fa2V5Q29kZVRvU3RyID0gW107XG4gICAgICAgIHRoaXMuX3N0clRvS2V5Q29kZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgfVxuICAgIEtleUNvZGVTdHJNYXAucHJvdG90eXBlLmRlZmluZSA9IGZ1bmN0aW9uIChrZXlDb2RlLCBzdHIpIHtcbiAgICAgICAgdGhpcy5fa2V5Q29kZVRvU3RyW2tleUNvZGVdID0gc3RyO1xuICAgICAgICB0aGlzLl9zdHJUb0tleUNvZGVbc3RyLnRvTG93ZXJDYXNlKCldID0ga2V5Q29kZTtcbiAgICB9O1xuICAgIEtleUNvZGVTdHJNYXAucHJvdG90eXBlLmtleUNvZGVUb1N0ciA9IGZ1bmN0aW9uIChrZXlDb2RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9rZXlDb2RlVG9TdHJba2V5Q29kZV07XG4gICAgfTtcbiAgICBLZXlDb2RlU3RyTWFwLnByb3RvdHlwZS5zdHJUb0tleUNvZGUgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdHJUb0tleUNvZGVbc3RyLnRvTG93ZXJDYXNlKCldIHx8IDAgLyogVW5rbm93biAqLztcbiAgICB9O1xuICAgIHJldHVybiBLZXlDb2RlU3RyTWFwO1xufSgpKTtcbnZhciB1aU1hcCA9IG5ldyBLZXlDb2RlU3RyTWFwKCk7XG52YXIgdXNlclNldHRpbmdzVVNNYXAgPSBuZXcgS2V5Q29kZVN0ck1hcCgpO1xudmFyIHVzZXJTZXR0aW5nc0dlbmVyYWxNYXAgPSBuZXcgS2V5Q29kZVN0ck1hcCgpO1xuKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBkZWZpbmUoa2V5Q29kZSwgdWlMYWJlbCwgdXNVc2VyU2V0dGluZ3NMYWJlbCwgZ2VuZXJhbFVzZXJTZXR0aW5nc0xhYmVsKSB7XG4gICAgICAgIGlmICh1c1VzZXJTZXR0aW5nc0xhYmVsID09PSB2b2lkIDApIHsgdXNVc2VyU2V0dGluZ3NMYWJlbCA9IHVpTGFiZWw7IH1cbiAgICAgICAgaWYgKGdlbmVyYWxVc2VyU2V0dGluZ3NMYWJlbCA9PT0gdm9pZCAwKSB7IGdlbmVyYWxVc2VyU2V0dGluZ3NMYWJlbCA9IHVzVXNlclNldHRpbmdzTGFiZWw7IH1cbiAgICAgICAgdWlNYXAuZGVmaW5lKGtleUNvZGUsIHVpTGFiZWwpO1xuICAgICAgICB1c2VyU2V0dGluZ3NVU01hcC5kZWZpbmUoa2V5Q29kZSwgdXNVc2VyU2V0dGluZ3NMYWJlbCk7XG4gICAgICAgIHVzZXJTZXR0aW5nc0dlbmVyYWxNYXAuZGVmaW5lKGtleUNvZGUsIGdlbmVyYWxVc2VyU2V0dGluZ3NMYWJlbCk7XG4gICAgfVxuICAgIGRlZmluZSgwIC8qIFVua25vd24gKi8sICd1bmtub3duJyk7XG4gICAgZGVmaW5lKDEgLyogQmFja3NwYWNlICovLCAnQmFja3NwYWNlJyk7XG4gICAgZGVmaW5lKDIgLyogVGFiICovLCAnVGFiJyk7XG4gICAgZGVmaW5lKDMgLyogRW50ZXIgKi8sICdFbnRlcicpO1xuICAgIGRlZmluZSg0IC8qIFNoaWZ0ICovLCAnU2hpZnQnKTtcbiAgICBkZWZpbmUoNSAvKiBDdHJsICovLCAnQ3RybCcpO1xuICAgIGRlZmluZSg2IC8qIEFsdCAqLywgJ0FsdCcpO1xuICAgIGRlZmluZSg3IC8qIFBhdXNlQnJlYWsgKi8sICdQYXVzZUJyZWFrJyk7XG4gICAgZGVmaW5lKDggLyogQ2Fwc0xvY2sgKi8sICdDYXBzTG9jaycpO1xuICAgIGRlZmluZSg5IC8qIEVzY2FwZSAqLywgJ0VzY2FwZScpO1xuICAgIGRlZmluZSgxMCAvKiBTcGFjZSAqLywgJ1NwYWNlJyk7XG4gICAgZGVmaW5lKDExIC8qIFBhZ2VVcCAqLywgJ1BhZ2VVcCcpO1xuICAgIGRlZmluZSgxMiAvKiBQYWdlRG93biAqLywgJ1BhZ2VEb3duJyk7XG4gICAgZGVmaW5lKDEzIC8qIEVuZCAqLywgJ0VuZCcpO1xuICAgIGRlZmluZSgxNCAvKiBIb21lICovLCAnSG9tZScpO1xuICAgIGRlZmluZSgxNSAvKiBMZWZ0QXJyb3cgKi8sICdMZWZ0QXJyb3cnLCAnTGVmdCcpO1xuICAgIGRlZmluZSgxNiAvKiBVcEFycm93ICovLCAnVXBBcnJvdycsICdVcCcpO1xuICAgIGRlZmluZSgxNyAvKiBSaWdodEFycm93ICovLCAnUmlnaHRBcnJvdycsICdSaWdodCcpO1xuICAgIGRlZmluZSgxOCAvKiBEb3duQXJyb3cgKi8sICdEb3duQXJyb3cnLCAnRG93bicpO1xuICAgIGRlZmluZSgxOSAvKiBJbnNlcnQgKi8sICdJbnNlcnQnKTtcbiAgICBkZWZpbmUoMjAgLyogRGVsZXRlICovLCAnRGVsZXRlJyk7XG4gICAgZGVmaW5lKDIxIC8qIEtFWV8wICovLCAnMCcpO1xuICAgIGRlZmluZSgyMiAvKiBLRVlfMSAqLywgJzEnKTtcbiAgICBkZWZpbmUoMjMgLyogS0VZXzIgKi8sICcyJyk7XG4gICAgZGVmaW5lKDI0IC8qIEtFWV8zICovLCAnMycpO1xuICAgIGRlZmluZSgyNSAvKiBLRVlfNCAqLywgJzQnKTtcbiAgICBkZWZpbmUoMjYgLyogS0VZXzUgKi8sICc1Jyk7XG4gICAgZGVmaW5lKDI3IC8qIEtFWV82ICovLCAnNicpO1xuICAgIGRlZmluZSgyOCAvKiBLRVlfNyAqLywgJzcnKTtcbiAgICBkZWZpbmUoMjkgLyogS0VZXzggKi8sICc4Jyk7XG4gICAgZGVmaW5lKDMwIC8qIEtFWV85ICovLCAnOScpO1xuICAgIGRlZmluZSgzMSAvKiBLRVlfQSAqLywgJ0EnKTtcbiAgICBkZWZpbmUoMzIgLyogS0VZX0IgKi8sICdCJyk7XG4gICAgZGVmaW5lKDMzIC8qIEtFWV9DICovLCAnQycpO1xuICAgIGRlZmluZSgzNCAvKiBLRVlfRCAqLywgJ0QnKTtcbiAgICBkZWZpbmUoMzUgLyogS0VZX0UgKi8sICdFJyk7XG4gICAgZGVmaW5lKDM2IC8qIEtFWV9GICovLCAnRicpO1xuICAgIGRlZmluZSgzNyAvKiBLRVlfRyAqLywgJ0cnKTtcbiAgICBkZWZpbmUoMzggLyogS0VZX0ggKi8sICdIJyk7XG4gICAgZGVmaW5lKDM5IC8qIEtFWV9JICovLCAnSScpO1xuICAgIGRlZmluZSg0MCAvKiBLRVlfSiAqLywgJ0onKTtcbiAgICBkZWZpbmUoNDEgLyogS0VZX0sgKi8sICdLJyk7XG4gICAgZGVmaW5lKDQyIC8qIEtFWV9MICovLCAnTCcpO1xuICAgIGRlZmluZSg0MyAvKiBLRVlfTSAqLywgJ00nKTtcbiAgICBkZWZpbmUoNDQgLyogS0VZX04gKi8sICdOJyk7XG4gICAgZGVmaW5lKDQ1IC8qIEtFWV9PICovLCAnTycpO1xuICAgIGRlZmluZSg0NiAvKiBLRVlfUCAqLywgJ1AnKTtcbiAgICBkZWZpbmUoNDcgLyogS0VZX1EgKi8sICdRJyk7XG4gICAgZGVmaW5lKDQ4IC8qIEtFWV9SICovLCAnUicpO1xuICAgIGRlZmluZSg0OSAvKiBLRVlfUyAqLywgJ1MnKTtcbiAgICBkZWZpbmUoNTAgLyogS0VZX1QgKi8sICdUJyk7XG4gICAgZGVmaW5lKDUxIC8qIEtFWV9VICovLCAnVScpO1xuICAgIGRlZmluZSg1MiAvKiBLRVlfViAqLywgJ1YnKTtcbiAgICBkZWZpbmUoNTMgLyogS0VZX1cgKi8sICdXJyk7XG4gICAgZGVmaW5lKDU0IC8qIEtFWV9YICovLCAnWCcpO1xuICAgIGRlZmluZSg1NSAvKiBLRVlfWSAqLywgJ1knKTtcbiAgICBkZWZpbmUoNTYgLyogS0VZX1ogKi8sICdaJyk7XG4gICAgZGVmaW5lKDU3IC8qIE1ldGEgKi8sICdNZXRhJyk7XG4gICAgZGVmaW5lKDU4IC8qIENvbnRleHRNZW51ICovLCAnQ29udGV4dE1lbnUnKTtcbiAgICBkZWZpbmUoNTkgLyogRjEgKi8sICdGMScpO1xuICAgIGRlZmluZSg2MCAvKiBGMiAqLywgJ0YyJyk7XG4gICAgZGVmaW5lKDYxIC8qIEYzICovLCAnRjMnKTtcbiAgICBkZWZpbmUoNjIgLyogRjQgKi8sICdGNCcpO1xuICAgIGRlZmluZSg2MyAvKiBGNSAqLywgJ0Y1Jyk7XG4gICAgZGVmaW5lKDY0IC8qIEY2ICovLCAnRjYnKTtcbiAgICBkZWZpbmUoNjUgLyogRjcgKi8sICdGNycpO1xuICAgIGRlZmluZSg2NiAvKiBGOCAqLywgJ0Y4Jyk7XG4gICAgZGVmaW5lKDY3IC8qIEY5ICovLCAnRjknKTtcbiAgICBkZWZpbmUoNjggLyogRjEwICovLCAnRjEwJyk7XG4gICAgZGVmaW5lKDY5IC8qIEYxMSAqLywgJ0YxMScpO1xuICAgIGRlZmluZSg3MCAvKiBGMTIgKi8sICdGMTInKTtcbiAgICBkZWZpbmUoNzEgLyogRjEzICovLCAnRjEzJyk7XG4gICAgZGVmaW5lKDcyIC8qIEYxNCAqLywgJ0YxNCcpO1xuICAgIGRlZmluZSg3MyAvKiBGMTUgKi8sICdGMTUnKTtcbiAgICBkZWZpbmUoNzQgLyogRjE2ICovLCAnRjE2Jyk7XG4gICAgZGVmaW5lKDc1IC8qIEYxNyAqLywgJ0YxNycpO1xuICAgIGRlZmluZSg3NiAvKiBGMTggKi8sICdGMTgnKTtcbiAgICBkZWZpbmUoNzcgLyogRjE5ICovLCAnRjE5Jyk7XG4gICAgZGVmaW5lKDc4IC8qIE51bUxvY2sgKi8sICdOdW1Mb2NrJyk7XG4gICAgZGVmaW5lKDc5IC8qIFNjcm9sbExvY2sgKi8sICdTY3JvbGxMb2NrJyk7XG4gICAgZGVmaW5lKDgwIC8qIFVTX1NFTUlDT0xPTiAqLywgJzsnLCAnOycsICdPRU1fMScpO1xuICAgIGRlZmluZSg4MSAvKiBVU19FUVVBTCAqLywgJz0nLCAnPScsICdPRU1fUExVUycpO1xuICAgIGRlZmluZSg4MiAvKiBVU19DT01NQSAqLywgJywnLCAnLCcsICdPRU1fQ09NTUEnKTtcbiAgICBkZWZpbmUoODMgLyogVVNfTUlOVVMgKi8sICctJywgJy0nLCAnT0VNX01JTlVTJyk7XG4gICAgZGVmaW5lKDg0IC8qIFVTX0RPVCAqLywgJy4nLCAnLicsICdPRU1fUEVSSU9EJyk7XG4gICAgZGVmaW5lKDg1IC8qIFVTX1NMQVNIICovLCAnLycsICcvJywgJ09FTV8yJyk7XG4gICAgZGVmaW5lKDg2IC8qIFVTX0JBQ0tUSUNLICovLCAnYCcsICdgJywgJ09FTV8zJyk7XG4gICAgZGVmaW5lKDExMCAvKiBBQk5UX0MxICovLCAnQUJOVF9DMScpO1xuICAgIGRlZmluZSgxMTEgLyogQUJOVF9DMiAqLywgJ0FCTlRfQzInKTtcbiAgICBkZWZpbmUoODcgLyogVVNfT1BFTl9TUVVBUkVfQlJBQ0tFVCAqLywgJ1snLCAnWycsICdPRU1fNCcpO1xuICAgIGRlZmluZSg4OCAvKiBVU19CQUNLU0xBU0ggKi8sICdcXFxcJywgJ1xcXFwnLCAnT0VNXzUnKTtcbiAgICBkZWZpbmUoODkgLyogVVNfQ0xPU0VfU1FVQVJFX0JSQUNLRVQgKi8sICddJywgJ10nLCAnT0VNXzYnKTtcbiAgICBkZWZpbmUoOTAgLyogVVNfUVVPVEUgKi8sICdcXCcnLCAnXFwnJywgJ09FTV83Jyk7XG4gICAgZGVmaW5lKDkxIC8qIE9FTV84ICovLCAnT0VNXzgnKTtcbiAgICBkZWZpbmUoOTIgLyogT0VNXzEwMiAqLywgJ09FTV8xMDInKTtcbiAgICBkZWZpbmUoOTMgLyogTlVNUEFEXzAgKi8sICdOdW1QYWQwJyk7XG4gICAgZGVmaW5lKDk0IC8qIE5VTVBBRF8xICovLCAnTnVtUGFkMScpO1xuICAgIGRlZmluZSg5NSAvKiBOVU1QQURfMiAqLywgJ051bVBhZDInKTtcbiAgICBkZWZpbmUoOTYgLyogTlVNUEFEXzMgKi8sICdOdW1QYWQzJyk7XG4gICAgZGVmaW5lKDk3IC8qIE5VTVBBRF80ICovLCAnTnVtUGFkNCcpO1xuICAgIGRlZmluZSg5OCAvKiBOVU1QQURfNSAqLywgJ051bVBhZDUnKTtcbiAgICBkZWZpbmUoOTkgLyogTlVNUEFEXzYgKi8sICdOdW1QYWQ2Jyk7XG4gICAgZGVmaW5lKDEwMCAvKiBOVU1QQURfNyAqLywgJ051bVBhZDcnKTtcbiAgICBkZWZpbmUoMTAxIC8qIE5VTVBBRF84ICovLCAnTnVtUGFkOCcpO1xuICAgIGRlZmluZSgxMDIgLyogTlVNUEFEXzkgKi8sICdOdW1QYWQ5Jyk7XG4gICAgZGVmaW5lKDEwMyAvKiBOVU1QQURfTVVMVElQTFkgKi8sICdOdW1QYWRfTXVsdGlwbHknKTtcbiAgICBkZWZpbmUoMTA0IC8qIE5VTVBBRF9BREQgKi8sICdOdW1QYWRfQWRkJyk7XG4gICAgZGVmaW5lKDEwNSAvKiBOVU1QQURfU0VQQVJBVE9SICovLCAnTnVtUGFkX1NlcGFyYXRvcicpO1xuICAgIGRlZmluZSgxMDYgLyogTlVNUEFEX1NVQlRSQUNUICovLCAnTnVtUGFkX1N1YnRyYWN0Jyk7XG4gICAgZGVmaW5lKDEwNyAvKiBOVU1QQURfREVDSU1BTCAqLywgJ051bVBhZF9EZWNpbWFsJyk7XG4gICAgZGVmaW5lKDEwOCAvKiBOVU1QQURfRElWSURFICovLCAnTnVtUGFkX0RpdmlkZScpO1xufSkoKTtcbmV4cG9ydCB2YXIgS2V5Q29kZVV0aWxzO1xuKGZ1bmN0aW9uIChLZXlDb2RlVXRpbHMpIHtcbiAgICBmdW5jdGlvbiB0b1N0cmluZyhrZXlDb2RlKSB7XG4gICAgICAgIHJldHVybiB1aU1hcC5rZXlDb2RlVG9TdHIoa2V5Q29kZSk7XG4gICAgfVxuICAgIEtleUNvZGVVdGlscy50b1N0cmluZyA9IHRvU3RyaW5nO1xuICAgIGZ1bmN0aW9uIGZyb21TdHJpbmcoa2V5KSB7XG4gICAgICAgIHJldHVybiB1aU1hcC5zdHJUb0tleUNvZGUoa2V5KTtcbiAgICB9XG4gICAgS2V5Q29kZVV0aWxzLmZyb21TdHJpbmcgPSBmcm9tU3RyaW5nO1xuICAgIGZ1bmN0aW9uIHRvVXNlclNldHRpbmdzVVMoa2V5Q29kZSkge1xuICAgICAgICByZXR1cm4gdXNlclNldHRpbmdzVVNNYXAua2V5Q29kZVRvU3RyKGtleUNvZGUpO1xuICAgIH1cbiAgICBLZXlDb2RlVXRpbHMudG9Vc2VyU2V0dGluZ3NVUyA9IHRvVXNlclNldHRpbmdzVVM7XG4gICAgZnVuY3Rpb24gdG9Vc2VyU2V0dGluZ3NHZW5lcmFsKGtleUNvZGUpIHtcbiAgICAgICAgcmV0dXJuIHVzZXJTZXR0aW5nc0dlbmVyYWxNYXAua2V5Q29kZVRvU3RyKGtleUNvZGUpO1xuICAgIH1cbiAgICBLZXlDb2RlVXRpbHMudG9Vc2VyU2V0dGluZ3NHZW5lcmFsID0gdG9Vc2VyU2V0dGluZ3NHZW5lcmFsO1xuICAgIGZ1bmN0aW9uIGZyb21Vc2VyU2V0dGluZ3Moa2V5KSB7XG4gICAgICAgIHJldHVybiB1c2VyU2V0dGluZ3NVU01hcC5zdHJUb0tleUNvZGUoa2V5KSB8fCB1c2VyU2V0dGluZ3NHZW5lcmFsTWFwLnN0clRvS2V5Q29kZShrZXkpO1xuICAgIH1cbiAgICBLZXlDb2RlVXRpbHMuZnJvbVVzZXJTZXR0aW5ncyA9IGZyb21Vc2VyU2V0dGluZ3M7XG59KShLZXlDb2RlVXRpbHMgfHwgKEtleUNvZGVVdGlscyA9IHt9KSk7XG5leHBvcnQgZnVuY3Rpb24gS2V5Q2hvcmQoZmlyc3RQYXJ0LCBzZWNvbmRQYXJ0KSB7XG4gICAgdmFyIGNob3JkUGFydCA9ICgoc2Vjb25kUGFydCAmIDB4MDAwMGZmZmYpIDw8IDE2KSA+Pj4gMDtcbiAgICByZXR1cm4gKGZpcnN0UGFydCB8IGNob3JkUGFydCkgPj4+IDA7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlS2V5YmluZGluZyhrZXliaW5kaW5nLCBPUykge1xuICAgIGlmIChrZXliaW5kaW5nID09PSAwKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgZmlyc3RQYXJ0ID0gKGtleWJpbmRpbmcgJiAweDAwMDBmZmZmKSA+Pj4gMDtcbiAgICB2YXIgY2hvcmRQYXJ0ID0gKGtleWJpbmRpbmcgJiAweGZmZmYwMDAwKSA+Pj4gMTY7XG4gICAgaWYgKGNob3JkUGFydCAhPT0gMCkge1xuICAgICAgICByZXR1cm4gbmV3IENob3JkS2V5YmluZGluZyhjcmVhdGVTaW1wbGVLZXliaW5kaW5nKGZpcnN0UGFydCwgT1MpLCBjcmVhdGVTaW1wbGVLZXliaW5kaW5nKGNob3JkUGFydCwgT1MpKTtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZVNpbXBsZUtleWJpbmRpbmcoZmlyc3RQYXJ0LCBPUyk7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2ltcGxlS2V5YmluZGluZyhrZXliaW5kaW5nLCBPUykge1xuICAgIHZhciBjdHJsQ21kID0gKGtleWJpbmRpbmcgJiAyMDQ4IC8qIEN0cmxDbWQgKi8gPyB0cnVlIDogZmFsc2UpO1xuICAgIHZhciB3aW5DdHJsID0gKGtleWJpbmRpbmcgJiAyNTYgLyogV2luQ3RybCAqLyA/IHRydWUgOiBmYWxzZSk7XG4gICAgdmFyIGN0cmxLZXkgPSAoT1MgPT09IDIgLyogTWFjaW50b3NoICovID8gd2luQ3RybCA6IGN0cmxDbWQpO1xuICAgIHZhciBzaGlmdEtleSA9IChrZXliaW5kaW5nICYgMTAyNCAvKiBTaGlmdCAqLyA/IHRydWUgOiBmYWxzZSk7XG4gICAgdmFyIGFsdEtleSA9IChrZXliaW5kaW5nICYgNTEyIC8qIEFsdCAqLyA/IHRydWUgOiBmYWxzZSk7XG4gICAgdmFyIG1ldGFLZXkgPSAoT1MgPT09IDIgLyogTWFjaW50b3NoICovID8gY3RybENtZCA6IHdpbkN0cmwpO1xuICAgIHZhciBrZXlDb2RlID0gKGtleWJpbmRpbmcgJiAyNTUgLyogS2V5Q29kZSAqLyk7XG4gICAgcmV0dXJuIG5ldyBTaW1wbGVLZXliaW5kaW5nKGN0cmxLZXksIHNoaWZ0S2V5LCBhbHRLZXksIG1ldGFLZXksIGtleUNvZGUpO1xufVxudmFyIFNpbXBsZUtleWJpbmRpbmcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2ltcGxlS2V5YmluZGluZyhjdHJsS2V5LCBzaGlmdEtleSwgYWx0S2V5LCBtZXRhS2V5LCBrZXlDb2RlKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IDEgLyogU2ltcGxlICovO1xuICAgICAgICB0aGlzLmN0cmxLZXkgPSBjdHJsS2V5O1xuICAgICAgICB0aGlzLnNoaWZ0S2V5ID0gc2hpZnRLZXk7XG4gICAgICAgIHRoaXMuYWx0S2V5ID0gYWx0S2V5O1xuICAgICAgICB0aGlzLm1ldGFLZXkgPSBtZXRhS2V5O1xuICAgICAgICB0aGlzLmtleUNvZGUgPSBrZXlDb2RlO1xuICAgIH1cbiAgICBTaW1wbGVLZXliaW5kaW5nLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgICAgaWYgKG90aGVyLnR5cGUgIT09IDEgLyogU2ltcGxlICovKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICh0aGlzLmN0cmxLZXkgPT09IG90aGVyLmN0cmxLZXlcbiAgICAgICAgICAgICYmIHRoaXMuc2hpZnRLZXkgPT09IG90aGVyLnNoaWZ0S2V5XG4gICAgICAgICAgICAmJiB0aGlzLmFsdEtleSA9PT0gb3RoZXIuYWx0S2V5XG4gICAgICAgICAgICAmJiB0aGlzLm1ldGFLZXkgPT09IG90aGVyLm1ldGFLZXlcbiAgICAgICAgICAgICYmIHRoaXMua2V5Q29kZSA9PT0gb3RoZXIua2V5Q29kZSk7XG4gICAgfTtcbiAgICBTaW1wbGVLZXliaW5kaW5nLnByb3RvdHlwZS5pc01vZGlmaWVyS2V5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMua2V5Q29kZSA9PT0gMCAvKiBVbmtub3duICovXG4gICAgICAgICAgICB8fCB0aGlzLmtleUNvZGUgPT09IDUgLyogQ3RybCAqL1xuICAgICAgICAgICAgfHwgdGhpcy5rZXlDb2RlID09PSA1NyAvKiBNZXRhICovXG4gICAgICAgICAgICB8fCB0aGlzLmtleUNvZGUgPT09IDYgLyogQWx0ICovXG4gICAgICAgICAgICB8fCB0aGlzLmtleUNvZGUgPT09IDQgLyogU2hpZnQgKi8pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRG9lcyB0aGlzIGtleWJpbmRpbmcgcmVmZXIgdG8gdGhlIGtleSBjb2RlIG9mIGEgbW9kaWZpZXIgYW5kIGl0IGFsc28gaGFzIHRoZSBtb2RpZmllciBmbGFnP1xuICAgICAqL1xuICAgIFNpbXBsZUtleWJpbmRpbmcucHJvdG90eXBlLmlzRHVwbGljYXRlTW9kaWZpZXJDYXNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKCh0aGlzLmN0cmxLZXkgJiYgdGhpcy5rZXlDb2RlID09PSA1IC8qIEN0cmwgKi8pXG4gICAgICAgICAgICB8fCAodGhpcy5zaGlmdEtleSAmJiB0aGlzLmtleUNvZGUgPT09IDQgLyogU2hpZnQgKi8pXG4gICAgICAgICAgICB8fCAodGhpcy5hbHRLZXkgJiYgdGhpcy5rZXlDb2RlID09PSA2IC8qIEFsdCAqLylcbiAgICAgICAgICAgIHx8ICh0aGlzLm1ldGFLZXkgJiYgdGhpcy5rZXlDb2RlID09PSA1NyAvKiBNZXRhICovKSk7XG4gICAgfTtcbiAgICByZXR1cm4gU2ltcGxlS2V5YmluZGluZztcbn0oKSk7XG5leHBvcnQgeyBTaW1wbGVLZXliaW5kaW5nIH07XG52YXIgQ2hvcmRLZXliaW5kaW5nID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENob3JkS2V5YmluZGluZyhmaXJzdFBhcnQsIGNob3JkUGFydCkge1xuICAgICAgICB0aGlzLnR5cGUgPSAyIC8qIENob3JkICovO1xuICAgICAgICB0aGlzLmZpcnN0UGFydCA9IGZpcnN0UGFydDtcbiAgICAgICAgdGhpcy5jaG9yZFBhcnQgPSBjaG9yZFBhcnQ7XG4gICAgfVxuICAgIHJldHVybiBDaG9yZEtleWJpbmRpbmc7XG59KCkpO1xuZXhwb3J0IHsgQ2hvcmRLZXliaW5kaW5nIH07XG52YXIgUmVzb2x2ZWRLZXliaW5kaW5nUGFydCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNvbHZlZEtleWJpbmRpbmdQYXJ0KGN0cmxLZXksIHNoaWZ0S2V5LCBhbHRLZXksIG1ldGFLZXksIGtiTGFiZWwsIGtiQXJpYUxhYmVsKSB7XG4gICAgICAgIHRoaXMuY3RybEtleSA9IGN0cmxLZXk7XG4gICAgICAgIHRoaXMuc2hpZnRLZXkgPSBzaGlmdEtleTtcbiAgICAgICAgdGhpcy5hbHRLZXkgPSBhbHRLZXk7XG4gICAgICAgIHRoaXMubWV0YUtleSA9IG1ldGFLZXk7XG4gICAgICAgIHRoaXMua2V5TGFiZWwgPSBrYkxhYmVsO1xuICAgICAgICB0aGlzLmtleUFyaWFMYWJlbCA9IGtiQXJpYUxhYmVsO1xuICAgIH1cbiAgICByZXR1cm4gUmVzb2x2ZWRLZXliaW5kaW5nUGFydDtcbn0oKSk7XG5leHBvcnQgeyBSZXNvbHZlZEtleWJpbmRpbmdQYXJ0IH07XG4vKipcbiAqIEEgcmVzb2x2ZWQga2V5YmluZGluZy4gQ2FuIGJlIGEgc2ltcGxlIGtleWJpbmRpbmcgb3IgYSBjaG9yZCBrZXliaW5kaW5nLlxuICovXG52YXIgUmVzb2x2ZWRLZXliaW5kaW5nID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc29sdmVkS2V5YmluZGluZygpIHtcbiAgICB9XG4gICAgcmV0dXJuIFJlc29sdmVkS2V5YmluZGluZztcbn0oKSk7XG5leHBvcnQgeyBSZXNvbHZlZEtleWJpbmRpbmcgfTtcbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuJ3VzZSBzdHJpY3QnO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgeyBSYW5nZSB9IGZyb20gJy4vcmFuZ2UuanMnO1xuaW1wb3J0IHsgUG9zaXRpb24gfSBmcm9tICcuL3Bvc2l0aW9uLmpzJztcbi8qKlxuICogVGhlIGRpcmVjdGlvbiBvZiBhIHNlbGVjdGlvbi5cbiAqL1xuZXhwb3J0IHZhciBTZWxlY3Rpb25EaXJlY3Rpb247XG4oZnVuY3Rpb24gKFNlbGVjdGlvbkRpcmVjdGlvbikge1xuICAgIC8qKlxuICAgICAqIFRoZSBzZWxlY3Rpb24gc3RhcnRzIGFib3ZlIHdoZXJlIGl0IGVuZHMuXG4gICAgICovXG4gICAgU2VsZWN0aW9uRGlyZWN0aW9uW1NlbGVjdGlvbkRpcmVjdGlvbltcIkxUUlwiXSA9IDBdID0gXCJMVFJcIjtcbiAgICAvKipcbiAgICAgKiBUaGUgc2VsZWN0aW9uIHN0YXJ0cyBiZWxvdyB3aGVyZSBpdCBlbmRzLlxuICAgICAqL1xuICAgIFNlbGVjdGlvbkRpcmVjdGlvbltTZWxlY3Rpb25EaXJlY3Rpb25bXCJSVExcIl0gPSAxXSA9IFwiUlRMXCI7XG59KShTZWxlY3Rpb25EaXJlY3Rpb24gfHwgKFNlbGVjdGlvbkRpcmVjdGlvbiA9IHt9KSk7XG4vKipcbiAqIEEgc2VsZWN0aW9uIGluIHRoZSBlZGl0b3IuXG4gKiBUaGUgc2VsZWN0aW9uIGlzIGEgcmFuZ2UgdGhhdCBoYXMgYW4gb3JpZW50YXRpb24uXG4gKi9cbnZhciBTZWxlY3Rpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNlbGVjdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTZWxlY3Rpb24oc2VsZWN0aW9uU3RhcnRMaW5lTnVtYmVyLCBzZWxlY3Rpb25TdGFydENvbHVtbiwgcG9zaXRpb25MaW5lTnVtYmVyLCBwb3NpdGlvbkNvbHVtbikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBzZWxlY3Rpb25TdGFydExpbmVOdW1iZXIsIHNlbGVjdGlvblN0YXJ0Q29sdW1uLCBwb3NpdGlvbkxpbmVOdW1iZXIsIHBvc2l0aW9uQ29sdW1uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zZWxlY3Rpb25TdGFydExpbmVOdW1iZXIgPSBzZWxlY3Rpb25TdGFydExpbmVOdW1iZXI7XG4gICAgICAgIF90aGlzLnNlbGVjdGlvblN0YXJ0Q29sdW1uID0gc2VsZWN0aW9uU3RhcnRDb2x1bW47XG4gICAgICAgIF90aGlzLnBvc2l0aW9uTGluZU51bWJlciA9IHBvc2l0aW9uTGluZU51bWJlcjtcbiAgICAgICAgX3RoaXMucG9zaXRpb25Db2x1bW4gPSBwb3NpdGlvbkNvbHVtbjtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9uZSB0aGlzIHNlbGVjdGlvbi5cbiAgICAgKi9cbiAgICBTZWxlY3Rpb24ucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFNlbGVjdGlvbih0aGlzLnNlbGVjdGlvblN0YXJ0TGluZU51bWJlciwgdGhpcy5zZWxlY3Rpb25TdGFydENvbHVtbiwgdGhpcy5wb3NpdGlvbkxpbmVOdW1iZXIsIHRoaXMucG9zaXRpb25Db2x1bW4pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtIHRvIGEgaHVtYW4tcmVhZGFibGUgcmVwcmVzZW50YXRpb24uXG4gICAgICovXG4gICAgU2VsZWN0aW9uLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICdbJyArIHRoaXMuc2VsZWN0aW9uU3RhcnRMaW5lTnVtYmVyICsgJywnICsgdGhpcy5zZWxlY3Rpb25TdGFydENvbHVtbiArICcgLT4gJyArIHRoaXMucG9zaXRpb25MaW5lTnVtYmVyICsgJywnICsgdGhpcy5wb3NpdGlvbkNvbHVtbiArICddJztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgZXF1YWxzIG90aGVyIHNlbGVjdGlvbi5cbiAgICAgKi9cbiAgICBTZWxlY3Rpb24ucHJvdG90eXBlLmVxdWFsc1NlbGVjdGlvbiA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICByZXR1cm4gKFNlbGVjdGlvbi5zZWxlY3Rpb25zRXF1YWwodGhpcywgb3RoZXIpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgdGhlIHR3byBzZWxlY3Rpb25zIGFyZSBlcXVhbC5cbiAgICAgKi9cbiAgICBTZWxlY3Rpb24uc2VsZWN0aW9uc0VxdWFsID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIChhLnNlbGVjdGlvblN0YXJ0TGluZU51bWJlciA9PT0gYi5zZWxlY3Rpb25TdGFydExpbmVOdW1iZXIgJiZcbiAgICAgICAgICAgIGEuc2VsZWN0aW9uU3RhcnRDb2x1bW4gPT09IGIuc2VsZWN0aW9uU3RhcnRDb2x1bW4gJiZcbiAgICAgICAgICAgIGEucG9zaXRpb25MaW5lTnVtYmVyID09PSBiLnBvc2l0aW9uTGluZU51bWJlciAmJlxuICAgICAgICAgICAgYS5wb3NpdGlvbkNvbHVtbiA9PT0gYi5wb3NpdGlvbkNvbHVtbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgZGlyZWN0aW9ucyAoTFRSIG9yIFJUTCkuXG4gICAgICovXG4gICAgU2VsZWN0aW9uLnByb3RvdHlwZS5nZXREaXJlY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGlvblN0YXJ0TGluZU51bWJlciA9PT0gdGhpcy5zdGFydExpbmVOdW1iZXIgJiYgdGhpcy5zZWxlY3Rpb25TdGFydENvbHVtbiA9PT0gdGhpcy5zdGFydENvbHVtbikge1xuICAgICAgICAgICAgcmV0dXJuIFNlbGVjdGlvbkRpcmVjdGlvbi5MVFI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFNlbGVjdGlvbkRpcmVjdGlvbi5SVEw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgc2VsZWN0aW9uIHdpdGggYSBkaWZmZXJlbnQgYHBvc2l0aW9uTGluZU51bWJlcmAgYW5kIGBwb3NpdGlvbkNvbHVtbmAuXG4gICAgICovXG4gICAgU2VsZWN0aW9uLnByb3RvdHlwZS5zZXRFbmRQb3NpdGlvbiA9IGZ1bmN0aW9uIChlbmRMaW5lTnVtYmVyLCBlbmRDb2x1bW4pIHtcbiAgICAgICAgaWYgKHRoaXMuZ2V0RGlyZWN0aW9uKCkgPT09IFNlbGVjdGlvbkRpcmVjdGlvbi5MVFIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU2VsZWN0aW9uKHRoaXMuc3RhcnRMaW5lTnVtYmVyLCB0aGlzLnN0YXJ0Q29sdW1uLCBlbmRMaW5lTnVtYmVyLCBlbmRDb2x1bW4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgU2VsZWN0aW9uKGVuZExpbmVOdW1iZXIsIGVuZENvbHVtbiwgdGhpcy5zdGFydExpbmVOdW1iZXIsIHRoaXMuc3RhcnRDb2x1bW4pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBwb3NpdGlvbiBhdCBgcG9zaXRpb25MaW5lTnVtYmVyYCBhbmQgYHBvc2l0aW9uQ29sdW1uYC5cbiAgICAgKi9cbiAgICBTZWxlY3Rpb24ucHJvdG90eXBlLmdldFBvc2l0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IFBvc2l0aW9uKHRoaXMucG9zaXRpb25MaW5lTnVtYmVyLCB0aGlzLnBvc2l0aW9uQ29sdW1uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBzZWxlY3Rpb24gd2l0aCBhIGRpZmZlcmVudCBgc2VsZWN0aW9uU3RhcnRMaW5lTnVtYmVyYCBhbmQgYHNlbGVjdGlvblN0YXJ0Q29sdW1uYC5cbiAgICAgKi9cbiAgICBTZWxlY3Rpb24ucHJvdG90eXBlLnNldFN0YXJ0UG9zaXRpb24gPSBmdW5jdGlvbiAoc3RhcnRMaW5lTnVtYmVyLCBzdGFydENvbHVtbikge1xuICAgICAgICBpZiAodGhpcy5nZXREaXJlY3Rpb24oKSA9PT0gU2VsZWN0aW9uRGlyZWN0aW9uLkxUUikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24oc3RhcnRMaW5lTnVtYmVyLCBzdGFydENvbHVtbiwgdGhpcy5lbmRMaW5lTnVtYmVyLCB0aGlzLmVuZENvbHVtbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24odGhpcy5lbmRMaW5lTnVtYmVyLCB0aGlzLmVuZENvbHVtbiwgc3RhcnRMaW5lTnVtYmVyLCBzdGFydENvbHVtbik7XG4gICAgfTtcbiAgICAvLyAtLS0tXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgYFNlbGVjdGlvbmAgZnJvbSBvbmUgb3IgdHdvIHBvc2l0aW9uc1xuICAgICAqL1xuICAgIFNlbGVjdGlvbi5mcm9tUG9zaXRpb25zID0gZnVuY3Rpb24gKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgaWYgKGVuZCA9PT0gdm9pZCAwKSB7IGVuZCA9IHN0YXJ0OyB9XG4gICAgICAgIHJldHVybiBuZXcgU2VsZWN0aW9uKHN0YXJ0LmxpbmVOdW1iZXIsIHN0YXJ0LmNvbHVtbiwgZW5kLmxpbmVOdW1iZXIsIGVuZC5jb2x1bW4pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgYFNlbGVjdGlvbmAgZnJvbSBhbiBgSVNlbGVjdGlvbmAuXG4gICAgICovXG4gICAgU2VsZWN0aW9uLmxpZnRTZWxlY3Rpb24gPSBmdW5jdGlvbiAoc2VsKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2VsZWN0aW9uKHNlbC5zZWxlY3Rpb25TdGFydExpbmVOdW1iZXIsIHNlbC5zZWxlY3Rpb25TdGFydENvbHVtbiwgc2VsLnBvc2l0aW9uTGluZU51bWJlciwgc2VsLnBvc2l0aW9uQ29sdW1uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIGBhYCBlcXVhbHMgYGJgLlxuICAgICAqL1xuICAgIFNlbGVjdGlvbi5zZWxlY3Rpb25zQXJyRXF1YWwgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICBpZiAoYSAmJiAhYiB8fCAhYSAmJiBiKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhICYmICFiKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGEubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5zZWxlY3Rpb25zRXF1YWwoYVtpXSwgYltpXSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIGBvYmpgIGlzIGFuIGBJU2VsZWN0aW9uYC5cbiAgICAgKi9cbiAgICBTZWxlY3Rpb24uaXNJU2VsZWN0aW9uID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICByZXR1cm4gKG9ialxuICAgICAgICAgICAgJiYgKHR5cGVvZiBvYmouc2VsZWN0aW9uU3RhcnRMaW5lTnVtYmVyID09PSAnbnVtYmVyJylcbiAgICAgICAgICAgICYmICh0eXBlb2Ygb2JqLnNlbGVjdGlvblN0YXJ0Q29sdW1uID09PSAnbnVtYmVyJylcbiAgICAgICAgICAgICYmICh0eXBlb2Ygb2JqLnBvc2l0aW9uTGluZU51bWJlciA9PT0gJ251bWJlcicpXG4gICAgICAgICAgICAmJiAodHlwZW9mIG9iai5wb3NpdGlvbkNvbHVtbiA9PT0gJ251bWJlcicpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSB3aXRoIGEgZGlyZWN0aW9uLlxuICAgICAqL1xuICAgIFNlbGVjdGlvbi5jcmVhdGVXaXRoRGlyZWN0aW9uID0gZnVuY3Rpb24gKHN0YXJ0TGluZU51bWJlciwgc3RhcnRDb2x1bW4sIGVuZExpbmVOdW1iZXIsIGVuZENvbHVtbiwgZGlyZWN0aW9uKSB7XG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT09IFNlbGVjdGlvbkRpcmVjdGlvbi5MVFIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU2VsZWN0aW9uKHN0YXJ0TGluZU51bWJlciwgc3RhcnRDb2x1bW4sIGVuZExpbmVOdW1iZXIsIGVuZENvbHVtbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24oZW5kTGluZU51bWJlciwgZW5kQ29sdW1uLCBzdGFydExpbmVOdW1iZXIsIHN0YXJ0Q29sdW1uKTtcbiAgICB9O1xuICAgIHJldHVybiBTZWxlY3Rpb247XG59KFJhbmdlKSk7XG5leHBvcnQgeyBTZWxlY3Rpb24gfTtcbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgRXZlbnQsIEVtaXR0ZXIgfSBmcm9tICcuL2V2ZW50LmpzJztcbnZhciBzaG9ydGN1dEV2ZW50ID0gT2JqZWN0LmZyZWV6ZShmdW5jdGlvbiAoY2FsbGJhY2ssIGNvbnRleHQpIHtcbiAgICB2YXIgaGFuZGxlID0gc2V0VGltZW91dChjYWxsYmFjay5iaW5kKGNvbnRleHQpLCAwKTtcbiAgICByZXR1cm4geyBkaXNwb3NlOiBmdW5jdGlvbiAoKSB7IGNsZWFyVGltZW91dChoYW5kbGUpOyB9IH07XG59KTtcbmV4cG9ydCB2YXIgQ2FuY2VsbGF0aW9uVG9rZW47XG4oZnVuY3Rpb24gKENhbmNlbGxhdGlvblRva2VuKSB7XG4gICAgQ2FuY2VsbGF0aW9uVG9rZW4uTm9uZSA9IE9iamVjdC5mcmVlemUoe1xuICAgICAgICBpc0NhbmNlbGxhdGlvblJlcXVlc3RlZDogZmFsc2UsXG4gICAgICAgIG9uQ2FuY2VsbGF0aW9uUmVxdWVzdGVkOiBFdmVudC5Ob25lXG4gICAgfSk7XG4gICAgQ2FuY2VsbGF0aW9uVG9rZW4uQ2FuY2VsbGVkID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgICAgIGlzQ2FuY2VsbGF0aW9uUmVxdWVzdGVkOiB0cnVlLFxuICAgICAgICBvbkNhbmNlbGxhdGlvblJlcXVlc3RlZDogc2hvcnRjdXRFdmVudFxuICAgIH0pO1xufSkoQ2FuY2VsbGF0aW9uVG9rZW4gfHwgKENhbmNlbGxhdGlvblRva2VuID0ge30pKTtcbnZhciBNdXRhYmxlVG9rZW4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTXV0YWJsZVRva2VuKCkge1xuICAgICAgICB0aGlzLl9pc0NhbmNlbGxlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBNdXRhYmxlVG9rZW4ucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pc0NhbmNlbGxlZCkge1xuICAgICAgICAgICAgdGhpcy5faXNDYW5jZWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2VtaXR0ZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmZpcmUodW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE11dGFibGVUb2tlbi5wcm90b3R5cGUsIFwiaXNDYW5jZWxsYXRpb25SZXF1ZXN0ZWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pc0NhbmNlbGxlZDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE11dGFibGVUb2tlbi5wcm90b3R5cGUsIFwib25DYW5jZWxsYXRpb25SZXF1ZXN0ZWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc0NhbmNlbGxlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzaG9ydGN1dEV2ZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLl9lbWl0dGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdHRlciA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZW1pdHRlci5ldmVudDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTXV0YWJsZVRva2VuLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fZW1pdHRlcikge1xuICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5kaXNwb3NlKCk7XG4gICAgICAgICAgICB0aGlzLl9lbWl0dGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTXV0YWJsZVRva2VuO1xufSgpKTtcbnZhciBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZSgpIHtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhbmNlbGxhdGlvblRva2VuU291cmNlLnByb3RvdHlwZSwgXCJ0b2tlblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl90b2tlbikge1xuICAgICAgICAgICAgICAgIC8vIGJlIGxhenkgYW5kIGNyZWF0ZSB0aGUgdG9rZW4gb25seSB3aGVuXG4gICAgICAgICAgICAgICAgLy8gYWN0dWFsbHkgbmVlZGVkXG4gICAgICAgICAgICAgICAgdGhpcy5fdG9rZW4gPSBuZXcgTXV0YWJsZVRva2VuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdG9rZW47XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIENhbmNlbGxhdGlvblRva2VuU291cmNlLnByb3RvdHlwZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5fdG9rZW4pIHtcbiAgICAgICAgICAgIC8vIHNhdmUgYW4gb2JqZWN0IGJ5IHJldHVybmluZyB0aGUgZGVmYXVsdFxuICAgICAgICAgICAgLy8gY2FuY2VsbGVkIHRva2VuIHdoZW4gY2FuY2VsbGF0aW9uIGhhcHBlbnNcbiAgICAgICAgICAgIC8vIGJlZm9yZSBzb21lb25lIGFza3MgZm9yIHRoZSB0b2tlblxuICAgICAgICAgICAgdGhpcy5fdG9rZW4gPSBDYW5jZWxsYXRpb25Ub2tlbi5DYW5jZWxsZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fdG9rZW4gaW5zdGFuY2VvZiBNdXRhYmxlVG9rZW4pIHtcbiAgICAgICAgICAgIC8vIGFjdHVhbGx5IGNhbmNlbFxuICAgICAgICAgICAgdGhpcy5fdG9rZW4uY2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENhbmNlbGxhdGlvblRva2VuU291cmNlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3Rva2VuKSB7XG4gICAgICAgICAgICAvLyBlbnN1cmUgdG8gaW5pdGlhbGl6ZSB3aXRoIGFuIGVtcHR5IHRva2VuIGlmIHdlIGhhZCBub25lXG4gICAgICAgICAgICB0aGlzLl90b2tlbiA9IENhbmNlbGxhdGlvblRva2VuLk5vbmU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fdG9rZW4gaW5zdGFuY2VvZiBNdXRhYmxlVG9rZW4pIHtcbiAgICAgICAgICAgIC8vIGFjdHVhbGx5IGRpc3Bvc2VcbiAgICAgICAgICAgIHRoaXMuX3Rva2VuLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIENhbmNlbGxhdGlvblRva2VuU291cmNlO1xufSgpKTtcbmV4cG9ydCB7IENhbmNlbGxhdGlvblRva2VuU291cmNlIH07XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IEVtaXR0ZXIgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9ldmVudC5qcyc7XG5pbXBvcnQgeyBLZXlDaG9yZCB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL2tleUNvZGVzLmpzJztcbmltcG9ydCB7IFBvc2l0aW9uIH0gZnJvbSAnLi4vY29yZS9wb3NpdGlvbi5qcyc7XG5pbXBvcnQgeyBSYW5nZSB9IGZyb20gJy4uL2NvcmUvcmFuZ2UuanMnO1xuaW1wb3J0IHsgU2VsZWN0aW9uLCBTZWxlY3Rpb25EaXJlY3Rpb24gfSBmcm9tICcuLi9jb3JlL3NlbGVjdGlvbi5qcyc7XG5pbXBvcnQgeyBUUHJvbWlzZSB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL3dpbmpzLmJhc2UuanMnO1xuaW1wb3J0IHsgQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2UgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9jYW5jZWxsYXRpb24uanMnO1xuaW1wb3J0IHsgVG9rZW4gfSBmcm9tICcuLi9jb3JlL3Rva2VuLmpzJztcbmltcG9ydCBVUkkgZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vdXJpLmpzJztcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUaGlzIGlzIHJlcGVhdGVkIGhlcmUgc28gaXQgY2FuIGJlIGV4cG9ydGVkXG4vLyBiZWNhdXNlIFRTIGlubGluZXMgY29uc3QgZW51bXNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5leHBvcnQgdmFyIE1hcmtlclRhZztcbihmdW5jdGlvbiAoTWFya2VyVGFnKSB7XG4gICAgTWFya2VyVGFnW01hcmtlclRhZ1tcIlVubmVjZXNzYXJ5XCJdID0gMV0gPSBcIlVubmVjZXNzYXJ5XCI7XG59KShNYXJrZXJUYWcgfHwgKE1hcmtlclRhZyA9IHt9KSk7XG5leHBvcnQgdmFyIE1hcmtlclNldmVyaXR5O1xuKGZ1bmN0aW9uIChNYXJrZXJTZXZlcml0eSkge1xuICAgIE1hcmtlclNldmVyaXR5W01hcmtlclNldmVyaXR5W1wiSGludFwiXSA9IDFdID0gXCJIaW50XCI7XG4gICAgTWFya2VyU2V2ZXJpdHlbTWFya2VyU2V2ZXJpdHlbXCJJbmZvXCJdID0gMl0gPSBcIkluZm9cIjtcbiAgICBNYXJrZXJTZXZlcml0eVtNYXJrZXJTZXZlcml0eVtcIldhcm5pbmdcIl0gPSA0XSA9IFwiV2FybmluZ1wiO1xuICAgIE1hcmtlclNldmVyaXR5W01hcmtlclNldmVyaXR5W1wiRXJyb3JcIl0gPSA4XSA9IFwiRXJyb3JcIjtcbn0pKE1hcmtlclNldmVyaXR5IHx8IChNYXJrZXJTZXZlcml0eSA9IHt9KSk7XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVGhpcyBpcyByZXBlYXRlZCBoZXJlIHNvIGl0IGNhbiBiZSBleHBvcnRlZFxuLy8gYmVjYXVzZSBUUyBpbmxpbmVzIGNvbnN0IGVudW1zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxudmFyIEtleU1vZCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBLZXlNb2QoKSB7XG4gICAgfVxuICAgIEtleU1vZC5jaG9yZCA9IGZ1bmN0aW9uIChmaXJzdFBhcnQsIHNlY29uZFBhcnQpIHtcbiAgICAgICAgcmV0dXJuIEtleUNob3JkKGZpcnN0UGFydCwgc2Vjb25kUGFydCk7XG4gICAgfTtcbiAgICBLZXlNb2QuQ3RybENtZCA9IDIwNDggLyogQ3RybENtZCAqLztcbiAgICBLZXlNb2QuU2hpZnQgPSAxMDI0IC8qIFNoaWZ0ICovO1xuICAgIEtleU1vZC5BbHQgPSA1MTIgLyogQWx0ICovO1xuICAgIEtleU1vZC5XaW5DdHJsID0gMjU2IC8qIFdpbkN0cmwgKi87XG4gICAgcmV0dXJuIEtleU1vZDtcbn0oKSk7XG5leHBvcnQgeyBLZXlNb2QgfTtcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBUaGlzIGlzIHJlcGVhdGVkIGhlcmUgc28gaXQgY2FuIGJlIGV4cG9ydGVkXG4vLyBiZWNhdXNlIFRTIGlubGluZXMgY29uc3QgZW51bXNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vKipcbiAqIFZpcnR1YWwgS2V5IENvZGVzLCB0aGUgdmFsdWUgZG9lcyBub3QgaG9sZCBhbnkgaW5oZXJlbnQgbWVhbmluZy5cbiAqIEluc3BpcmVkIHNvbWV3aGF0IGZyb20gaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS93aW5kb3dzL2Rlc2t0b3AvZGQzNzU3MzEodj12cy44NSkuYXNweFxuICogQnV0IHRoZXNlIGFyZSBcIm1vcmUgZ2VuZXJhbFwiLCBhcyB0aGV5IHNob3VsZCB3b3JrIGFjcm9zcyBicm93c2VycyAmIE9TYHMuXG4gKi9cbmV4cG9ydCB2YXIgS2V5Q29kZTtcbihmdW5jdGlvbiAoS2V5Q29kZSkge1xuICAgIC8qKlxuICAgICAqIFBsYWNlZCBmaXJzdCB0byBjb3ZlciB0aGUgMCB2YWx1ZSBvZiB0aGUgZW51bS5cbiAgICAgKi9cbiAgICBLZXlDb2RlW0tleUNvZGVbXCJVbmtub3duXCJdID0gMF0gPSBcIlVua25vd25cIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJCYWNrc3BhY2VcIl0gPSAxXSA9IFwiQmFja3NwYWNlXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiVGFiXCJdID0gMl0gPSBcIlRhYlwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkVudGVyXCJdID0gM10gPSBcIkVudGVyXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiU2hpZnRcIl0gPSA0XSA9IFwiU2hpZnRcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJDdHJsXCJdID0gNV0gPSBcIkN0cmxcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJBbHRcIl0gPSA2XSA9IFwiQWx0XCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiUGF1c2VCcmVha1wiXSA9IDddID0gXCJQYXVzZUJyZWFrXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiQ2Fwc0xvY2tcIl0gPSA4XSA9IFwiQ2Fwc0xvY2tcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJFc2NhcGVcIl0gPSA5XSA9IFwiRXNjYXBlXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiU3BhY2VcIl0gPSAxMF0gPSBcIlNwYWNlXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiUGFnZVVwXCJdID0gMTFdID0gXCJQYWdlVXBcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJQYWdlRG93blwiXSA9IDEyXSA9IFwiUGFnZURvd25cIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJFbmRcIl0gPSAxM10gPSBcIkVuZFwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkhvbWVcIl0gPSAxNF0gPSBcIkhvbWVcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJMZWZ0QXJyb3dcIl0gPSAxNV0gPSBcIkxlZnRBcnJvd1wiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIlVwQXJyb3dcIl0gPSAxNl0gPSBcIlVwQXJyb3dcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJSaWdodEFycm93XCJdID0gMTddID0gXCJSaWdodEFycm93XCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRG93bkFycm93XCJdID0gMThdID0gXCJEb3duQXJyb3dcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJJbnNlcnRcIl0gPSAxOV0gPSBcIkluc2VydFwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkRlbGV0ZVwiXSA9IDIwXSA9IFwiRGVsZXRlXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZXzBcIl0gPSAyMV0gPSBcIktFWV8wXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZXzFcIl0gPSAyMl0gPSBcIktFWV8xXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZXzJcIl0gPSAyM10gPSBcIktFWV8yXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZXzNcIl0gPSAyNF0gPSBcIktFWV8zXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZXzRcIl0gPSAyNV0gPSBcIktFWV80XCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZXzVcIl0gPSAyNl0gPSBcIktFWV81XCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZXzZcIl0gPSAyN10gPSBcIktFWV82XCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZXzdcIl0gPSAyOF0gPSBcIktFWV83XCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZXzhcIl0gPSAyOV0gPSBcIktFWV84XCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZXzlcIl0gPSAzMF0gPSBcIktFWV85XCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX0FcIl0gPSAzMV0gPSBcIktFWV9BXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX0JcIl0gPSAzMl0gPSBcIktFWV9CXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX0NcIl0gPSAzM10gPSBcIktFWV9DXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX0RcIl0gPSAzNF0gPSBcIktFWV9EXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX0VcIl0gPSAzNV0gPSBcIktFWV9FXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX0ZcIl0gPSAzNl0gPSBcIktFWV9GXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX0dcIl0gPSAzN10gPSBcIktFWV9HXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX0hcIl0gPSAzOF0gPSBcIktFWV9IXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX0lcIl0gPSAzOV0gPSBcIktFWV9JXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX0pcIl0gPSA0MF0gPSBcIktFWV9KXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX0tcIl0gPSA0MV0gPSBcIktFWV9LXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX0xcIl0gPSA0Ml0gPSBcIktFWV9MXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX01cIl0gPSA0M10gPSBcIktFWV9NXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX05cIl0gPSA0NF0gPSBcIktFWV9OXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX09cIl0gPSA0NV0gPSBcIktFWV9PXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX1BcIl0gPSA0Nl0gPSBcIktFWV9QXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX1FcIl0gPSA0N10gPSBcIktFWV9RXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX1JcIl0gPSA0OF0gPSBcIktFWV9SXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX1NcIl0gPSA0OV0gPSBcIktFWV9TXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX1RcIl0gPSA1MF0gPSBcIktFWV9UXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX1VcIl0gPSA1MV0gPSBcIktFWV9VXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX1ZcIl0gPSA1Ml0gPSBcIktFWV9WXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX1dcIl0gPSA1M10gPSBcIktFWV9XXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX1hcIl0gPSA1NF0gPSBcIktFWV9YXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX1lcIl0gPSA1NV0gPSBcIktFWV9ZXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS0VZX1pcIl0gPSA1Nl0gPSBcIktFWV9aXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTWV0YVwiXSA9IDU3XSA9IFwiTWV0YVwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkNvbnRleHRNZW51XCJdID0gNThdID0gXCJDb250ZXh0TWVudVwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkYxXCJdID0gNTldID0gXCJGMVwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkYyXCJdID0gNjBdID0gXCJGMlwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkYzXCJdID0gNjFdID0gXCJGM1wiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkY0XCJdID0gNjJdID0gXCJGNFwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkY1XCJdID0gNjNdID0gXCJGNVwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkY2XCJdID0gNjRdID0gXCJGNlwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkY3XCJdID0gNjVdID0gXCJGN1wiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkY4XCJdID0gNjZdID0gXCJGOFwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkY5XCJdID0gNjddID0gXCJGOVwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkYxMFwiXSA9IDY4XSA9IFwiRjEwXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjExXCJdID0gNjldID0gXCJGMTFcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJGMTJcIl0gPSA3MF0gPSBcIkYxMlwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkYxM1wiXSA9IDcxXSA9IFwiRjEzXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjE0XCJdID0gNzJdID0gXCJGMTRcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJGMTVcIl0gPSA3M10gPSBcIkYxNVwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkYxNlwiXSA9IDc0XSA9IFwiRjE2XCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjE3XCJdID0gNzVdID0gXCJGMTdcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJGMThcIl0gPSA3Nl0gPSBcIkYxOFwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkYxOVwiXSA9IDc3XSA9IFwiRjE5XCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTnVtTG9ja1wiXSA9IDc4XSA9IFwiTnVtTG9ja1wiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIlNjcm9sbExvY2tcIl0gPSA3OV0gPSBcIlNjcm9sbExvY2tcIjtcbiAgICAvKipcbiAgICAgKiBVc2VkIGZvciBtaXNjZWxsYW5lb3VzIGNoYXJhY3RlcnM7IGl0IGNhbiB2YXJ5IGJ5IGtleWJvYXJkLlxuICAgICAqIEZvciB0aGUgVVMgc3RhbmRhcmQga2V5Ym9hcmQsIHRoZSAnOzonIGtleVxuICAgICAqL1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIlVTX1NFTUlDT0xPTlwiXSA9IDgwXSA9IFwiVVNfU0VNSUNPTE9OXCI7XG4gICAgLyoqXG4gICAgICogRm9yIGFueSBjb3VudHJ5L3JlZ2lvbiwgdGhlICcrJyBrZXlcbiAgICAgKiBGb3IgdGhlIFVTIHN0YW5kYXJkIGtleWJvYXJkLCB0aGUgJz0rJyBrZXlcbiAgICAgKi9cbiAgICBLZXlDb2RlW0tleUNvZGVbXCJVU19FUVVBTFwiXSA9IDgxXSA9IFwiVVNfRVFVQUxcIjtcbiAgICAvKipcbiAgICAgKiBGb3IgYW55IGNvdW50cnkvcmVnaW9uLCB0aGUgJywnIGtleVxuICAgICAqIEZvciB0aGUgVVMgc3RhbmRhcmQga2V5Ym9hcmQsIHRoZSAnLDwnIGtleVxuICAgICAqL1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIlVTX0NPTU1BXCJdID0gODJdID0gXCJVU19DT01NQVwiO1xuICAgIC8qKlxuICAgICAqIEZvciBhbnkgY291bnRyeS9yZWdpb24sIHRoZSAnLScga2V5XG4gICAgICogRm9yIHRoZSBVUyBzdGFuZGFyZCBrZXlib2FyZCwgdGhlICctXycga2V5XG4gICAgICovXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiVVNfTUlOVVNcIl0gPSA4M10gPSBcIlVTX01JTlVTXCI7XG4gICAgLyoqXG4gICAgICogRm9yIGFueSBjb3VudHJ5L3JlZ2lvbiwgdGhlICcuJyBrZXlcbiAgICAgKiBGb3IgdGhlIFVTIHN0YW5kYXJkIGtleWJvYXJkLCB0aGUgJy4+JyBrZXlcbiAgICAgKi9cbiAgICBLZXlDb2RlW0tleUNvZGVbXCJVU19ET1RcIl0gPSA4NF0gPSBcIlVTX0RPVFwiO1xuICAgIC8qKlxuICAgICAqIFVzZWQgZm9yIG1pc2NlbGxhbmVvdXMgY2hhcmFjdGVyczsgaXQgY2FuIHZhcnkgYnkga2V5Ym9hcmQuXG4gICAgICogRm9yIHRoZSBVUyBzdGFuZGFyZCBrZXlib2FyZCwgdGhlICcvPycga2V5XG4gICAgICovXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiVVNfU0xBU0hcIl0gPSA4NV0gPSBcIlVTX1NMQVNIXCI7XG4gICAgLyoqXG4gICAgICogVXNlZCBmb3IgbWlzY2VsbGFuZW91cyBjaGFyYWN0ZXJzOyBpdCBjYW4gdmFyeSBieSBrZXlib2FyZC5cbiAgICAgKiBGb3IgdGhlIFVTIHN0YW5kYXJkIGtleWJvYXJkLCB0aGUgJ2B+JyBrZXlcbiAgICAgKi9cbiAgICBLZXlDb2RlW0tleUNvZGVbXCJVU19CQUNLVElDS1wiXSA9IDg2XSA9IFwiVVNfQkFDS1RJQ0tcIjtcbiAgICAvKipcbiAgICAgKiBVc2VkIGZvciBtaXNjZWxsYW5lb3VzIGNoYXJhY3RlcnM7IGl0IGNhbiB2YXJ5IGJ5IGtleWJvYXJkLlxuICAgICAqIEZvciB0aGUgVVMgc3RhbmRhcmQga2V5Ym9hcmQsIHRoZSAnW3snIGtleVxuICAgICAqL1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIlVTX09QRU5fU1FVQVJFX0JSQUNLRVRcIl0gPSA4N10gPSBcIlVTX09QRU5fU1FVQVJFX0JSQUNLRVRcIjtcbiAgICAvKipcbiAgICAgKiBVc2VkIGZvciBtaXNjZWxsYW5lb3VzIGNoYXJhY3RlcnM7IGl0IGNhbiB2YXJ5IGJ5IGtleWJvYXJkLlxuICAgICAqIEZvciB0aGUgVVMgc3RhbmRhcmQga2V5Ym9hcmQsIHRoZSAnXFx8JyBrZXlcbiAgICAgKi9cbiAgICBLZXlDb2RlW0tleUNvZGVbXCJVU19CQUNLU0xBU0hcIl0gPSA4OF0gPSBcIlVTX0JBQ0tTTEFTSFwiO1xuICAgIC8qKlxuICAgICAqIFVzZWQgZm9yIG1pc2NlbGxhbmVvdXMgY2hhcmFjdGVyczsgaXQgY2FuIHZhcnkgYnkga2V5Ym9hcmQuXG4gICAgICogRm9yIHRoZSBVUyBzdGFuZGFyZCBrZXlib2FyZCwgdGhlICddfScga2V5XG4gICAgICovXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiVVNfQ0xPU0VfU1FVQVJFX0JSQUNLRVRcIl0gPSA4OV0gPSBcIlVTX0NMT1NFX1NRVUFSRV9CUkFDS0VUXCI7XG4gICAgLyoqXG4gICAgICogVXNlZCBmb3IgbWlzY2VsbGFuZW91cyBjaGFyYWN0ZXJzOyBpdCBjYW4gdmFyeSBieSBrZXlib2FyZC5cbiAgICAgKiBGb3IgdGhlIFVTIHN0YW5kYXJkIGtleWJvYXJkLCB0aGUgJydcIicga2V5XG4gICAgICovXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiVVNfUVVPVEVcIl0gPSA5MF0gPSBcIlVTX1FVT1RFXCI7XG4gICAgLyoqXG4gICAgICogVXNlZCBmb3IgbWlzY2VsbGFuZW91cyBjaGFyYWN0ZXJzOyBpdCBjYW4gdmFyeSBieSBrZXlib2FyZC5cbiAgICAgKi9cbiAgICBLZXlDb2RlW0tleUNvZGVbXCJPRU1fOFwiXSA9IDkxXSA9IFwiT0VNXzhcIjtcbiAgICAvKipcbiAgICAgKiBFaXRoZXIgdGhlIGFuZ2xlIGJyYWNrZXQga2V5IG9yIHRoZSBiYWNrc2xhc2gga2V5IG9uIHRoZSBSVCAxMDIta2V5IGtleWJvYXJkLlxuICAgICAqL1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIk9FTV8xMDJcIl0gPSA5Ml0gPSBcIk9FTV8xMDJcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJOVU1QQURfMFwiXSA9IDkzXSA9IFwiTlVNUEFEXzBcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJOVU1QQURfMVwiXSA9IDk0XSA9IFwiTlVNUEFEXzFcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJOVU1QQURfMlwiXSA9IDk1XSA9IFwiTlVNUEFEXzJcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJOVU1QQURfM1wiXSA9IDk2XSA9IFwiTlVNUEFEXzNcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJOVU1QQURfNFwiXSA9IDk3XSA9IFwiTlVNUEFEXzRcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJOVU1QQURfNVwiXSA9IDk4XSA9IFwiTlVNUEFEXzVcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJOVU1QQURfNlwiXSA9IDk5XSA9IFwiTlVNUEFEXzZcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJOVU1QQURfN1wiXSA9IDEwMF0gPSBcIk5VTVBBRF83XCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTlVNUEFEXzhcIl0gPSAxMDFdID0gXCJOVU1QQURfOFwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIk5VTVBBRF85XCJdID0gMTAyXSA9IFwiTlVNUEFEXzlcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJOVU1QQURfTVVMVElQTFlcIl0gPSAxMDNdID0gXCJOVU1QQURfTVVMVElQTFlcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJOVU1QQURfQUREXCJdID0gMTA0XSA9IFwiTlVNUEFEX0FERFwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIk5VTVBBRF9TRVBBUkFUT1JcIl0gPSAxMDVdID0gXCJOVU1QQURfU0VQQVJBVE9SXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTlVNUEFEX1NVQlRSQUNUXCJdID0gMTA2XSA9IFwiTlVNUEFEX1NVQlRSQUNUXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTlVNUEFEX0RFQ0lNQUxcIl0gPSAxMDddID0gXCJOVU1QQURfREVDSU1BTFwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIk5VTVBBRF9ESVZJREVcIl0gPSAxMDhdID0gXCJOVU1QQURfRElWSURFXCI7XG4gICAgLyoqXG4gICAgICogQ292ZXIgYWxsIGtleSBjb2RlcyB3aGVuIElNRSBpcyBwcm9jZXNzaW5nIGlucHV0LlxuICAgICAqL1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIktFWV9JTl9DT01QT1NJVElPTlwiXSA9IDEwOV0gPSBcIktFWV9JTl9DT01QT1NJVElPTlwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkFCTlRfQzFcIl0gPSAxMTBdID0gXCJBQk5UX0MxXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiQUJOVF9DMlwiXSA9IDExMV0gPSBcIkFCTlRfQzJcIjtcbiAgICAvKipcbiAgICAgKiBQbGFjZWQgbGFzdCB0byBjb3ZlciB0aGUgbGVuZ3RoIG9mIHRoZSBlbnVtLlxuICAgICAqIFBsZWFzZSBkbyBub3QgZGVwZW5kIG9uIHRoaXMgdmFsdWUhXG4gICAgICovXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTUFYX1ZBTFVFXCJdID0gMTEyXSA9IFwiTUFYX1ZBTFVFXCI7XG59KShLZXlDb2RlIHx8IChLZXlDb2RlID0ge30pKTtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNb25hY29CYXNlQVBJKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGVkaXRvcjogdW5kZWZpbmVkLFxuICAgICAgICBsYW5ndWFnZXM6IHVuZGVmaW5lZCxcbiAgICAgICAgQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2U6IENhbmNlbGxhdGlvblRva2VuU291cmNlLFxuICAgICAgICBFbWl0dGVyOiBFbWl0dGVyLFxuICAgICAgICBLZXlDb2RlOiBLZXlDb2RlLFxuICAgICAgICBLZXlNb2Q6IEtleU1vZCxcbiAgICAgICAgUG9zaXRpb246IFBvc2l0aW9uLFxuICAgICAgICBSYW5nZTogUmFuZ2UsXG4gICAgICAgIFNlbGVjdGlvbjogU2VsZWN0aW9uLFxuICAgICAgICBTZWxlY3Rpb25EaXJlY3Rpb246IFNlbGVjdGlvbkRpcmVjdGlvbixcbiAgICAgICAgTWFya2VyU2V2ZXJpdHk6IE1hcmtlclNldmVyaXR5LFxuICAgICAgICBNYXJrZXJUYWc6IE1hcmtlclRhZyxcbiAgICAgICAgUHJvbWlzZTogVFByb21pc2UsXG4gICAgICAgIFVyaTogVVJJLFxuICAgICAgICBUb2tlbjogVG9rZW5cbiAgICB9O1xufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4ndXNlIHN0cmljdCc7XG52YXIgVG9rZW4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVG9rZW4ob2Zmc2V0LCB0eXBlLCBsYW5ndWFnZSkge1xuICAgICAgICB0aGlzLm9mZnNldCA9IG9mZnNldCB8IDA7IC8vIEBwZXJmXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMubGFuZ3VhZ2UgPSBsYW5ndWFnZTtcbiAgICB9XG4gICAgVG9rZW4ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJygnICsgdGhpcy5vZmZzZXQgKyAnLCAnICsgdGhpcy50eXBlICsgJyknO1xuICAgIH07XG4gICAgcmV0dXJuIFRva2VuO1xufSgpKTtcbmV4cG9ydCB7IFRva2VuIH07XG52YXIgVG9rZW5pemF0aW9uUmVzdWx0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRva2VuaXphdGlvblJlc3VsdCh0b2tlbnMsIGVuZFN0YXRlKSB7XG4gICAgICAgIHRoaXMudG9rZW5zID0gdG9rZW5zO1xuICAgICAgICB0aGlzLmVuZFN0YXRlID0gZW5kU3RhdGU7XG4gICAgfVxuICAgIHJldHVybiBUb2tlbml6YXRpb25SZXN1bHQ7XG59KCkpO1xuZXhwb3J0IHsgVG9rZW5pemF0aW9uUmVzdWx0IH07XG52YXIgVG9rZW5pemF0aW9uUmVzdWx0MiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUb2tlbml6YXRpb25SZXN1bHQyKHRva2VucywgZW5kU3RhdGUpIHtcbiAgICAgICAgdGhpcy50b2tlbnMgPSB0b2tlbnM7XG4gICAgICAgIHRoaXMuZW5kU3RhdGUgPSBlbmRTdGF0ZTtcbiAgICB9XG4gICAgcmV0dXJuIFRva2VuaXphdGlvblJlc3VsdDI7XG59KCkpO1xuZXhwb3J0IHsgVG9rZW5pemF0aW9uUmVzdWx0MiB9O1xuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4ndXNlIHN0cmljdCc7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbmltcG9ydCBVUkkgZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vdXJpLmpzJztcbmltcG9ydCB7IFRQcm9taXNlIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vd2luanMuYmFzZS5qcyc7XG5pbXBvcnQgeyBSYW5nZSB9IGZyb20gJy4uL2NvcmUvcmFuZ2UuanMnO1xuaW1wb3J0IHsgRGlmZkNvbXB1dGVyIH0gZnJvbSAnLi4vZGlmZi9kaWZmQ29tcHV0ZXIuanMnO1xuaW1wb3J0IHsgc3RyaW5nRGlmZiB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL2RpZmYvZGlmZi5qcyc7XG5pbXBvcnQgeyBQb3NpdGlvbiB9IGZyb20gJy4uL2NvcmUvcG9zaXRpb24uanMnO1xuaW1wb3J0IHsgTWlycm9yVGV4dE1vZGVsIGFzIEJhc2VNaXJyb3JNb2RlbCB9IGZyb20gJy4uL21vZGVsL21pcnJvclRleHRNb2RlbC5qcyc7XG5pbXBvcnQgeyBjb21wdXRlTGlua3MgfSBmcm9tICcuLi9tb2Rlcy9saW5rQ29tcHV0ZXIuanMnO1xuaW1wb3J0IHsgQmFzaWNJbnBsYWNlUmVwbGFjZSB9IGZyb20gJy4uL21vZGVzL3N1cHBvcnRzL2lucGxhY2VSZXBsYWNlU3VwcG9ydC5qcyc7XG5pbXBvcnQgeyBnZXRXb3JkQXRUZXh0LCBlbnN1cmVWYWxpZFdvcmREZWZpbml0aW9uIH0gZnJvbSAnLi4vbW9kZWwvd29yZEhlbHBlci5qcyc7XG5pbXBvcnQgeyBjcmVhdGVNb25hY29CYXNlQVBJIH0gZnJvbSAnLi4vc3RhbmRhbG9uZS9zdGFuZGFsb25lQmFzZS5qcyc7XG5pbXBvcnQgeyBnbG9iYWxzIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vcGxhdGZvcm0uanMnO1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xudmFyIE1pcnJvck1vZGVsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhNaXJyb3JNb2RlbCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNaXJyb3JNb2RlbCgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWlycm9yTW9kZWwucHJvdG90eXBlLCBcInVyaVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VyaTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1pcnJvck1vZGVsLnByb3RvdHlwZSwgXCJ2ZXJzaW9uXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdmVyc2lvbklkO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWlycm9yTW9kZWwucHJvdG90eXBlLCBcImVvbFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2VvbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTWlycm9yTW9kZWwucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRUZXh0KCk7XG4gICAgfTtcbiAgICBNaXJyb3JNb2RlbC5wcm90b3R5cGUuZ2V0TGluZXNDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGluZXMuc2xpY2UoMCk7XG4gICAgfTtcbiAgICBNaXJyb3JNb2RlbC5wcm90b3R5cGUuZ2V0TGluZUNvdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGluZXMubGVuZ3RoO1xuICAgIH07XG4gICAgTWlycm9yTW9kZWwucHJvdG90eXBlLmdldExpbmVDb250ZW50ID0gZnVuY3Rpb24gKGxpbmVOdW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVzW2xpbmVOdW1iZXIgLSAxXTtcbiAgICB9O1xuICAgIE1pcnJvck1vZGVsLnByb3RvdHlwZS5nZXRXb3JkQXRQb3NpdGlvbiA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgd29yZERlZmluaXRpb24pIHtcbiAgICAgICAgdmFyIHdvcmRBdFRleHQgPSBnZXRXb3JkQXRUZXh0KHBvc2l0aW9uLmNvbHVtbiwgZW5zdXJlVmFsaWRXb3JkRGVmaW5pdGlvbih3b3JkRGVmaW5pdGlvbiksIHRoaXMuX2xpbmVzW3Bvc2l0aW9uLmxpbmVOdW1iZXIgLSAxXSwgMCk7XG4gICAgICAgIGlmICh3b3JkQXRUZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHBvc2l0aW9uLmxpbmVOdW1iZXIsIHdvcmRBdFRleHQuc3RhcnRDb2x1bW4sIHBvc2l0aW9uLmxpbmVOdW1iZXIsIHdvcmRBdFRleHQuZW5kQ29sdW1uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIE1pcnJvck1vZGVsLnByb3RvdHlwZS5nZXRXb3JkVW50aWxQb3NpdGlvbiA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgd29yZERlZmluaXRpb24pIHtcbiAgICAgICAgdmFyIHdvcmRBdFBvc2l0aW9uID0gdGhpcy5nZXRXb3JkQXRQb3NpdGlvbihwb3NpdGlvbiwgd29yZERlZmluaXRpb24pO1xuICAgICAgICBpZiAoIXdvcmRBdFBvc2l0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHdvcmQ6ICcnLFxuICAgICAgICAgICAgICAgIHN0YXJ0Q29sdW1uOiBwb3NpdGlvbi5jb2x1bW4sXG4gICAgICAgICAgICAgICAgZW5kQ29sdW1uOiBwb3NpdGlvbi5jb2x1bW5cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdvcmQ6IHRoaXMuX2xpbmVzW3Bvc2l0aW9uLmxpbmVOdW1iZXIgLSAxXS5zdWJzdHJpbmcod29yZEF0UG9zaXRpb24uc3RhcnRDb2x1bW4gLSAxLCBwb3NpdGlvbi5jb2x1bW4gLSAxKSxcbiAgICAgICAgICAgIHN0YXJ0Q29sdW1uOiB3b3JkQXRQb3NpdGlvbi5zdGFydENvbHVtbixcbiAgICAgICAgICAgIGVuZENvbHVtbjogcG9zaXRpb24uY29sdW1uXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBNaXJyb3JNb2RlbC5wcm90b3R5cGUuY3JlYXRlV29yZEl0ZXJhdG9yID0gZnVuY3Rpb24gKHdvcmREZWZpbml0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBvYmogPSB7XG4gICAgICAgICAgICBkb25lOiBmYWxzZSxcbiAgICAgICAgICAgIHZhbHVlOiAnJ1xuICAgICAgICB9O1xuICAgICAgICB2YXIgbGluZU51bWJlciA9IDA7XG4gICAgICAgIHZhciBsaW5lVGV4dDtcbiAgICAgICAgdmFyIHdvcmRSYW5nZXNJZHggPSAwO1xuICAgICAgICB2YXIgd29yZFJhbmdlcyA9IFtdO1xuICAgICAgICB2YXIgbmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh3b3JkUmFuZ2VzSWR4IDwgd29yZFJhbmdlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBvYmouZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIG9iai52YWx1ZSA9IGxpbmVUZXh0LnN1YnN0cmluZyh3b3JkUmFuZ2VzW3dvcmRSYW5nZXNJZHhdLnN0YXJ0LCB3b3JkUmFuZ2VzW3dvcmRSYW5nZXNJZHhdLmVuZCk7XG4gICAgICAgICAgICAgICAgd29yZFJhbmdlc0lkeCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobGluZU51bWJlciA+PSBfdGhpcy5fbGluZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgb2JqLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIG9iai52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxpbmVUZXh0ID0gX3RoaXMuX2xpbmVzW2xpbmVOdW1iZXJdO1xuICAgICAgICAgICAgICAgIHdvcmRSYW5nZXMgPSBfdGhpcy5fd29yZGVuaXplKGxpbmVUZXh0LCB3b3JkRGVmaW5pdGlvbik7XG4gICAgICAgICAgICAgICAgd29yZFJhbmdlc0lkeCA9IDA7XG4gICAgICAgICAgICAgICAgbGluZU51bWJlciArPSAxO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4geyBuZXh0OiBuZXh0IH07XG4gICAgfTtcbiAgICBNaXJyb3JNb2RlbC5wcm90b3R5cGUuX3dvcmRlbml6ZSA9IGZ1bmN0aW9uIChjb250ZW50LCB3b3JkRGVmaW5pdGlvbikge1xuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgIHZhciBtYXRjaDtcbiAgICAgICAgd29yZERlZmluaXRpb24ubGFzdEluZGV4ID0gMDsgLy8gcmVzZXQgbGFzdEluZGV4IGp1c3QgdG8gYmUgc3VyZVxuICAgICAgICB3aGlsZSAobWF0Y2ggPSB3b3JkRGVmaW5pdGlvbi5leGVjKGNvbnRlbnQpKSB7XG4gICAgICAgICAgICBpZiAobWF0Y2hbMF0ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gaXQgZGlkIG1hdGNoIHRoZSBlbXB0eSBzdHJpbmdcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHsgc3RhcnQ6IG1hdGNoLmluZGV4LCBlbmQ6IG1hdGNoLmluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBNaXJyb3JNb2RlbC5wcm90b3R5cGUuZ2V0VmFsdWVJblJhbmdlID0gZnVuY3Rpb24gKHJhbmdlKSB7XG4gICAgICAgIHJhbmdlID0gdGhpcy5fdmFsaWRhdGVSYW5nZShyYW5nZSk7XG4gICAgICAgIGlmIChyYW5nZS5zdGFydExpbmVOdW1iZXIgPT09IHJhbmdlLmVuZExpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saW5lc1tyYW5nZS5zdGFydExpbmVOdW1iZXIgLSAxXS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnRDb2x1bW4gLSAxLCByYW5nZS5lbmRDb2x1bW4gLSAxKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGluZUVuZGluZyA9IHRoaXMuX2VvbDtcbiAgICAgICAgdmFyIHN0YXJ0TGluZUluZGV4ID0gcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyIC0gMTtcbiAgICAgICAgdmFyIGVuZExpbmVJbmRleCA9IHJhbmdlLmVuZExpbmVOdW1iZXIgLSAxO1xuICAgICAgICB2YXIgcmVzdWx0TGluZXMgPSBbXTtcbiAgICAgICAgcmVzdWx0TGluZXMucHVzaCh0aGlzLl9saW5lc1tzdGFydExpbmVJbmRleF0uc3Vic3RyaW5nKHJhbmdlLnN0YXJ0Q29sdW1uIC0gMSkpO1xuICAgICAgICBmb3IgKHZhciBpID0gc3RhcnRMaW5lSW5kZXggKyAxOyBpIDwgZW5kTGluZUluZGV4OyBpKyspIHtcbiAgICAgICAgICAgIHJlc3VsdExpbmVzLnB1c2godGhpcy5fbGluZXNbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdExpbmVzLnB1c2godGhpcy5fbGluZXNbZW5kTGluZUluZGV4XS5zdWJzdHJpbmcoMCwgcmFuZ2UuZW5kQ29sdW1uIC0gMSkpO1xuICAgICAgICByZXR1cm4gcmVzdWx0TGluZXMuam9pbihsaW5lRW5kaW5nKTtcbiAgICB9O1xuICAgIE1pcnJvck1vZGVsLnByb3RvdHlwZS5vZmZzZXRBdCA9IGZ1bmN0aW9uIChwb3NpdGlvbikge1xuICAgICAgICBwb3NpdGlvbiA9IHRoaXMuX3ZhbGlkYXRlUG9zaXRpb24ocG9zaXRpb24pO1xuICAgICAgICB0aGlzLl9lbnN1cmVMaW5lU3RhcnRzKCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9saW5lU3RhcnRzLmdldEFjY3VtdWxhdGVkVmFsdWUocG9zaXRpb24ubGluZU51bWJlciAtIDIpICsgKHBvc2l0aW9uLmNvbHVtbiAtIDEpO1xuICAgIH07XG4gICAgTWlycm9yTW9kZWwucHJvdG90eXBlLnBvc2l0aW9uQXQgPSBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgIG9mZnNldCA9IE1hdGguZmxvb3Iob2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0ID0gTWF0aC5tYXgoMCwgb2Zmc2V0KTtcbiAgICAgICAgdGhpcy5fZW5zdXJlTGluZVN0YXJ0cygpO1xuICAgICAgICB2YXIgb3V0ID0gdGhpcy5fbGluZVN0YXJ0cy5nZXRJbmRleE9mKG9mZnNldCk7XG4gICAgICAgIHZhciBsaW5lTGVuZ3RoID0gdGhpcy5fbGluZXNbb3V0LmluZGV4XS5sZW5ndGg7XG4gICAgICAgIC8vIEVuc3VyZSB3ZSByZXR1cm4gYSB2YWxpZCBwb3NpdGlvblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGluZU51bWJlcjogMSArIG91dC5pbmRleCxcbiAgICAgICAgICAgIGNvbHVtbjogMSArIE1hdGgubWluKG91dC5yZW1haW5kZXIsIGxpbmVMZW5ndGgpXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBNaXJyb3JNb2RlbC5wcm90b3R5cGUuX3ZhbGlkYXRlUmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5fdmFsaWRhdGVQb3NpdGlvbih7IGxpbmVOdW1iZXI6IHJhbmdlLnN0YXJ0TGluZU51bWJlciwgY29sdW1uOiByYW5nZS5zdGFydENvbHVtbiB9KTtcbiAgICAgICAgdmFyIGVuZCA9IHRoaXMuX3ZhbGlkYXRlUG9zaXRpb24oeyBsaW5lTnVtYmVyOiByYW5nZS5lbmRMaW5lTnVtYmVyLCBjb2x1bW46IHJhbmdlLmVuZENvbHVtbiB9KTtcbiAgICAgICAgaWYgKHN0YXJ0LmxpbmVOdW1iZXIgIT09IHJhbmdlLnN0YXJ0TGluZU51bWJlclxuICAgICAgICAgICAgfHwgc3RhcnQuY29sdW1uICE9PSByYW5nZS5zdGFydENvbHVtblxuICAgICAgICAgICAgfHwgZW5kLmxpbmVOdW1iZXIgIT09IHJhbmdlLmVuZExpbmVOdW1iZXJcbiAgICAgICAgICAgIHx8IGVuZC5jb2x1bW4gIT09IHJhbmdlLmVuZENvbHVtbikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGFydExpbmVOdW1iZXI6IHN0YXJ0LmxpbmVOdW1iZXIsXG4gICAgICAgICAgICAgICAgc3RhcnRDb2x1bW46IHN0YXJ0LmNvbHVtbixcbiAgICAgICAgICAgICAgICBlbmRMaW5lTnVtYmVyOiBlbmQubGluZU51bWJlcixcbiAgICAgICAgICAgICAgICBlbmRDb2x1bW46IGVuZC5jb2x1bW5cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJhbmdlO1xuICAgIH07XG4gICAgTWlycm9yTW9kZWwucHJvdG90eXBlLl92YWxpZGF0ZVBvc2l0aW9uID0gZnVuY3Rpb24gKHBvc2l0aW9uKSB7XG4gICAgICAgIGlmICghUG9zaXRpb24uaXNJUG9zaXRpb24ocG9zaXRpb24pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2JhZCBwb3NpdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsaW5lTnVtYmVyID0gcG9zaXRpb24ubGluZU51bWJlciwgY29sdW1uID0gcG9zaXRpb24uY29sdW1uO1xuICAgICAgICB2YXIgaGFzQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBpZiAobGluZU51bWJlciA8IDEpIHtcbiAgICAgICAgICAgIGxpbmVOdW1iZXIgPSAxO1xuICAgICAgICAgICAgY29sdW1uID0gMTtcbiAgICAgICAgICAgIGhhc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxpbmVOdW1iZXIgPiB0aGlzLl9saW5lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxpbmVOdW1iZXIgPSB0aGlzLl9saW5lcy5sZW5ndGg7XG4gICAgICAgICAgICBjb2x1bW4gPSB0aGlzLl9saW5lc1tsaW5lTnVtYmVyIC0gMV0ubGVuZ3RoICsgMTtcbiAgICAgICAgICAgIGhhc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIG1heENoYXJhY3RlciA9IHRoaXMuX2xpbmVzW2xpbmVOdW1iZXIgLSAxXS5sZW5ndGggKyAxO1xuICAgICAgICAgICAgaWYgKGNvbHVtbiA8IDEpIHtcbiAgICAgICAgICAgICAgICBjb2x1bW4gPSAxO1xuICAgICAgICAgICAgICAgIGhhc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY29sdW1uID4gbWF4Q2hhcmFjdGVyKSB7XG4gICAgICAgICAgICAgICAgY29sdW1uID0gbWF4Q2hhcmFjdGVyO1xuICAgICAgICAgICAgICAgIGhhc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghaGFzQ2hhbmdlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHBvc2l0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgbGluZU51bWJlcjogbGluZU51bWJlciwgY29sdW1uOiBjb2x1bW4gfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE1pcnJvck1vZGVsO1xufShCYXNlTWlycm9yTW9kZWwpKTtcbi8qKlxuICogQGludGVybmFsXG4gKi9cbnZhciBCYXNlRWRpdG9yU2ltcGxlV29ya2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJhc2VFZGl0b3JTaW1wbGVXb3JrZXIoZm9yZWlnbk1vZHVsZUZhY3RvcnkpIHtcbiAgICAgICAgdGhpcy5fZm9yZWlnbk1vZHVsZUZhY3RvcnkgPSBmb3JlaWduTW9kdWxlRmFjdG9yeTtcbiAgICAgICAgdGhpcy5fZm9yZWlnbk1vZHVsZSA9IG51bGw7XG4gICAgfVxuICAgIC8vIC0tLS0gQkVHSU4gZGlmZiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIEJhc2VFZGl0b3JTaW1wbGVXb3JrZXIucHJvdG90eXBlLmNvbXB1dGVEaWZmID0gZnVuY3Rpb24gKG9yaWdpbmFsVXJsLCBtb2RpZmllZFVybCwgaWdub3JlVHJpbVdoaXRlc3BhY2UpIHtcbiAgICAgICAgdmFyIG9yaWdpbmFsID0gdGhpcy5fZ2V0TW9kZWwob3JpZ2luYWxVcmwpO1xuICAgICAgICB2YXIgbW9kaWZpZWQgPSB0aGlzLl9nZXRNb2RlbChtb2RpZmllZFVybCk7XG4gICAgICAgIGlmICghb3JpZ2luYWwgfHwgIW1vZGlmaWVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb3JpZ2luYWxMaW5lcyA9IG9yaWdpbmFsLmdldExpbmVzQ29udGVudCgpO1xuICAgICAgICB2YXIgbW9kaWZpZWRMaW5lcyA9IG1vZGlmaWVkLmdldExpbmVzQ29udGVudCgpO1xuICAgICAgICB2YXIgZGlmZkNvbXB1dGVyID0gbmV3IERpZmZDb21wdXRlcihvcmlnaW5hbExpbmVzLCBtb2RpZmllZExpbmVzLCB7XG4gICAgICAgICAgICBzaG91bGRDb21wdXRlQ2hhckNoYW5nZXM6IHRydWUsXG4gICAgICAgICAgICBzaG91bGRQb3N0UHJvY2Vzc0NoYXJDaGFuZ2VzOiB0cnVlLFxuICAgICAgICAgICAgc2hvdWxkSWdub3JlVHJpbVdoaXRlc3BhY2U6IGlnbm9yZVRyaW1XaGl0ZXNwYWNlLFxuICAgICAgICAgICAgc2hvdWxkTWFrZVByZXR0eURpZmY6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBUUHJvbWlzZS5hcyhkaWZmQ29tcHV0ZXIuY29tcHV0ZURpZmYoKSk7XG4gICAgfTtcbiAgICBCYXNlRWRpdG9yU2ltcGxlV29ya2VyLnByb3RvdHlwZS5jb21wdXRlTW9yZU1pbmltYWxFZGl0cyA9IGZ1bmN0aW9uIChtb2RlbFVybCwgZWRpdHMpIHtcbiAgICAgICAgdmFyIG1vZGVsID0gdGhpcy5fZ2V0TW9kZWwobW9kZWxVcmwpO1xuICAgICAgICBpZiAoIW1vZGVsKSB7XG4gICAgICAgICAgICByZXR1cm4gVFByb21pc2UuYXMoZWRpdHMpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgdmFyIGxhc3RFb2w7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgZWRpdHNfMSA9IGVkaXRzOyBfaSA8IGVkaXRzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2EgPSBlZGl0c18xW19pXSwgcmFuZ2UgPSBfYS5yYW5nZSwgdGV4dCA9IF9hLnRleHQsIGVvbCA9IF9hLmVvbDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZW9sID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIGxhc3RFb2wgPSBlb2w7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXJhbmdlKSB7XG4gICAgICAgICAgICAgICAgLy8gZW9sLWNoYW5nZSBvbmx5XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgb3JpZ2luYWwgPSBtb2RlbC5nZXRWYWx1ZUluUmFuZ2UocmFuZ2UpO1xuICAgICAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvXFxyXFxufFxcbnxcXHIvZywgbW9kZWwuZW9sKTtcbiAgICAgICAgICAgIGlmIChvcmlnaW5hbCA9PT0gdGV4dCkge1xuICAgICAgICAgICAgICAgIC8vIG5vb3BcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSBkaWZmIHdvbid0IHRha2UgdG9vIGxvbmdcbiAgICAgICAgICAgIGlmIChNYXRoLm1heCh0ZXh0Lmxlbmd0aCwgb3JpZ2luYWwubGVuZ3RoKSA+IEJhc2VFZGl0b3JTaW1wbGVXb3JrZXIuX2RpZmZMaW1pdCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHsgcmFuZ2U6IHJhbmdlLCB0ZXh0OiB0ZXh0IH0pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY29tcHV0ZSBkaWZmIGJldHdlZW4gb3JpZ2luYWwgYW5kIGVkaXQudGV4dFxuICAgICAgICAgICAgdmFyIGNoYW5nZXMgPSBzdHJpbmdEaWZmKG9yaWdpbmFsLCB0ZXh0LCBmYWxzZSk7XG4gICAgICAgICAgICB2YXIgZWRpdE9mZnNldCA9IG1vZGVsLm9mZnNldEF0KFJhbmdlLmxpZnQocmFuZ2UpLmdldFN0YXJ0UG9zaXRpb24oKSk7XG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IDAsIGNoYW5nZXNfMSA9IGNoYW5nZXM7IF9iIDwgY2hhbmdlc18xLmxlbmd0aDsgX2IrKykge1xuICAgICAgICAgICAgICAgIHZhciBjaGFuZ2UgPSBjaGFuZ2VzXzFbX2JdO1xuICAgICAgICAgICAgICAgIHZhciBzdGFydCA9IG1vZGVsLnBvc2l0aW9uQXQoZWRpdE9mZnNldCArIGNoYW5nZS5vcmlnaW5hbFN0YXJ0KTtcbiAgICAgICAgICAgICAgICB2YXIgZW5kID0gbW9kZWwucG9zaXRpb25BdChlZGl0T2Zmc2V0ICsgY2hhbmdlLm9yaWdpbmFsU3RhcnQgKyBjaGFuZ2Uub3JpZ2luYWxMZW5ndGgpO1xuICAgICAgICAgICAgICAgIHZhciBuZXdFZGl0ID0ge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0ZXh0LnN1YnN0cihjaGFuZ2UubW9kaWZpZWRTdGFydCwgY2hhbmdlLm1vZGlmaWVkTGVuZ3RoKSxcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IHsgc3RhcnRMaW5lTnVtYmVyOiBzdGFydC5saW5lTnVtYmVyLCBzdGFydENvbHVtbjogc3RhcnQuY29sdW1uLCBlbmRMaW5lTnVtYmVyOiBlbmQubGluZU51bWJlciwgZW5kQ29sdW1uOiBlbmQuY29sdW1uIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmIChtb2RlbC5nZXRWYWx1ZUluUmFuZ2UobmV3RWRpdC5yYW5nZSkgIT09IG5ld0VkaXQudGV4dCkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXdFZGl0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBsYXN0RW9sID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goeyBlb2w6IGxhc3RFb2wsIHRleHQ6IHVuZGVmaW5lZCwgcmFuZ2U6IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gVFByb21pc2UuYXMocmVzdWx0KTtcbiAgICB9O1xuICAgIC8vIC0tLS0gRU5EIG1pbmltYWwgZWRpdHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgQmFzZUVkaXRvclNpbXBsZVdvcmtlci5wcm90b3R5cGUuY29tcHV0ZUxpbmtzID0gZnVuY3Rpb24gKG1vZGVsVXJsKSB7XG4gICAgICAgIHZhciBtb2RlbCA9IHRoaXMuX2dldE1vZGVsKG1vZGVsVXJsKTtcbiAgICAgICAgaWYgKCFtb2RlbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFRQcm9taXNlLmFzKGNvbXB1dGVMaW5rcyhtb2RlbCkpO1xuICAgIH07XG4gICAgQmFzZUVkaXRvclNpbXBsZVdvcmtlci5wcm90b3R5cGUudGV4dHVhbFN1Z2dlc3QgPSBmdW5jdGlvbiAobW9kZWxVcmwsIHBvc2l0aW9uLCB3b3JkRGVmLCB3b3JkRGVmRmxhZ3MpIHtcbiAgICAgICAgdmFyIG1vZGVsID0gdGhpcy5fZ2V0TW9kZWwobW9kZWxVcmwpO1xuICAgICAgICBpZiAobW9kZWwpIHtcbiAgICAgICAgICAgIHZhciBzdWdnZXN0aW9ucyA9IFtdO1xuICAgICAgICAgICAgdmFyIHdvcmREZWZSZWdFeHAgPSBuZXcgUmVnRXhwKHdvcmREZWYsIHdvcmREZWZGbGFncyk7XG4gICAgICAgICAgICB2YXIgY3VycmVudFdvcmQgPSBtb2RlbC5nZXRXb3JkVW50aWxQb3NpdGlvbihwb3NpdGlvbiwgd29yZERlZlJlZ0V4cCkud29yZDtcbiAgICAgICAgICAgIHZhciBzZWVuID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICAgIHNlZW5bY3VycmVudFdvcmRdID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAodmFyIGl0ZXIgPSBtb2RlbC5jcmVhdGVXb3JkSXRlcmF0b3Iod29yZERlZlJlZ0V4cCksIGUgPSBpdGVyLm5leHQoKTsgIWUuZG9uZSAmJiBzdWdnZXN0aW9ucy5sZW5ndGggPD0gQmFzZUVkaXRvclNpbXBsZVdvcmtlci5fc3VnZ2VzdGlvbnNMaW1pdDsgZSA9IGl0ZXIubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHdvcmQgPSBlLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChzZWVuW3dvcmRdKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZWVuW3dvcmRdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKE51bWJlcih3b3JkKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB3b3JkLFxuICAgICAgICAgICAgICAgICAgICBpbnNlcnRUZXh0OiB3b3JkLFxuICAgICAgICAgICAgICAgICAgICBub0F1dG9BY2NlcHQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG92ZXJ3cml0ZUJlZm9yZTogY3VycmVudFdvcmQubGVuZ3RoXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gVFByb21pc2UuYXMoeyBzdWdnZXN0aW9uczogc3VnZ2VzdGlvbnMgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIC8vIC0tLS0gRU5EIHN1Z2dlc3QgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBCYXNlRWRpdG9yU2ltcGxlV29ya2VyLnByb3RvdHlwZS5uYXZpZ2F0ZVZhbHVlU2V0ID0gZnVuY3Rpb24gKG1vZGVsVXJsLCByYW5nZSwgdXAsIHdvcmREZWYsIHdvcmREZWZGbGFncykge1xuICAgICAgICB2YXIgbW9kZWwgPSB0aGlzLl9nZXRNb2RlbChtb2RlbFVybCk7XG4gICAgICAgIGlmICghbW9kZWwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciB3b3JkRGVmUmVnRXhwID0gbmV3IFJlZ0V4cCh3b3JkRGVmLCB3b3JkRGVmRmxhZ3MpO1xuICAgICAgICBpZiAocmFuZ2Uuc3RhcnRDb2x1bW4gPT09IHJhbmdlLmVuZENvbHVtbikge1xuICAgICAgICAgICAgcmFuZ2UgPSB7XG4gICAgICAgICAgICAgICAgc3RhcnRMaW5lTnVtYmVyOiByYW5nZS5zdGFydExpbmVOdW1iZXIsXG4gICAgICAgICAgICAgICAgc3RhcnRDb2x1bW46IHJhbmdlLnN0YXJ0Q29sdW1uLFxuICAgICAgICAgICAgICAgIGVuZExpbmVOdW1iZXI6IHJhbmdlLmVuZExpbmVOdW1iZXIsXG4gICAgICAgICAgICAgICAgZW5kQ29sdW1uOiByYW5nZS5lbmRDb2x1bW4gKyAxXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHZhciBzZWxlY3Rpb25UZXh0ID0gbW9kZWwuZ2V0VmFsdWVJblJhbmdlKHJhbmdlKTtcbiAgICAgICAgdmFyIHdvcmRSYW5nZSA9IG1vZGVsLmdldFdvcmRBdFBvc2l0aW9uKHsgbGluZU51bWJlcjogcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyLCBjb2x1bW46IHJhbmdlLnN0YXJ0Q29sdW1uIH0sIHdvcmREZWZSZWdFeHApO1xuICAgICAgICB2YXIgd29yZCA9IG51bGw7XG4gICAgICAgIGlmICh3b3JkUmFuZ2UgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHdvcmQgPSBtb2RlbC5nZXRWYWx1ZUluUmFuZ2Uod29yZFJhbmdlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0ID0gQmFzaWNJbnBsYWNlUmVwbGFjZS5JTlNUQU5DRS5uYXZpZ2F0ZVZhbHVlU2V0KHJhbmdlLCBzZWxlY3Rpb25UZXh0LCB3b3JkUmFuZ2UsIHdvcmQsIHVwKTtcbiAgICAgICAgcmV0dXJuIFRQcm9taXNlLmFzKHJlc3VsdCk7XG4gICAgfTtcbiAgICAvLyAtLS0tIEJFR0lOIGZvcmVpZ24gbW9kdWxlIHN1cHBvcnQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBCYXNlRWRpdG9yU2ltcGxlV29ya2VyLnByb3RvdHlwZS5sb2FkRm9yZWlnbk1vZHVsZSA9IGZ1bmN0aW9uIChtb2R1bGVJZCwgY3JlYXRlRGF0YSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgY3R4ID0ge1xuICAgICAgICAgICAgZ2V0TWlycm9yTW9kZWxzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9nZXRNb2RlbHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRoaXMuX2ZvcmVpZ25Nb2R1bGVGYWN0b3J5KSB7XG4gICAgICAgICAgICB0aGlzLl9mb3JlaWduTW9kdWxlID0gdGhpcy5fZm9yZWlnbk1vZHVsZUZhY3RvcnkoY3R4LCBjcmVhdGVEYXRhKTtcbiAgICAgICAgICAgIC8vIHN0YXRpYyBmb3JlaW5nIG1vZHVsZVxuICAgICAgICAgICAgdmFyIG1ldGhvZHMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gdGhpcy5fZm9yZWlnbk1vZHVsZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5fZm9yZWlnbk1vZHVsZVtwcm9wXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBtZXRob2RzLnB1c2gocHJvcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFRQcm9taXNlLmFzKG1ldGhvZHMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEVTTS1jb21tZW50LWJlZ2luXG4gICAgICAgIC8vIFx0XHRyZXR1cm4gbmV3IFRQcm9taXNlPGFueT4oKGMsIGUpID0+IHtcbiAgICAgICAgLy8gXHRcdFx0cmVxdWlyZShbbW9kdWxlSWRdLCAoZm9yZWlnbk1vZHVsZTogeyBjcmVhdGU6IElGb3JlaWduTW9kdWxlRmFjdG9yeSB9KSA9PiB7XG4gICAgICAgIC8vIFx0XHRcdFx0dGhpcy5fZm9yZWlnbk1vZHVsZSA9IGZvcmVpZ25Nb2R1bGUuY3JlYXRlKGN0eCwgY3JlYXRlRGF0YSk7XG4gICAgICAgIC8vIFxuICAgICAgICAvLyBcdFx0XHRcdGxldCBtZXRob2RzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAvLyBcdFx0XHRcdGZvciAobGV0IHByb3AgaW4gdGhpcy5fZm9yZWlnbk1vZHVsZSkge1xuICAgICAgICAvLyBcdFx0XHRcdFx0aWYgKHR5cGVvZiB0aGlzLl9mb3JlaWduTW9kdWxlW3Byb3BdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIFx0XHRcdFx0XHRcdG1ldGhvZHMucHVzaChwcm9wKTtcbiAgICAgICAgLy8gXHRcdFx0XHRcdH1cbiAgICAgICAgLy8gXHRcdFx0XHR9XG4gICAgICAgIC8vIFxuICAgICAgICAvLyBcdFx0XHRcdGMobWV0aG9kcyk7XG4gICAgICAgIC8vIFxuICAgICAgICAvLyBcdFx0XHR9LCBlKTtcbiAgICAgICAgLy8gXHRcdH0pO1xuICAgICAgICAvLyBFU00tY29tbWVudC1lbmRcbiAgICAgICAgLy8gRVNNLXVuY29tbWVudC1iZWdpblxuICAgICAgICByZXR1cm4gVFByb21pc2Uud3JhcEVycm9yKG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgdXNhZ2VcIikpO1xuICAgICAgICAvLyBFU00tdW5jb21tZW50LWVuZFxuICAgIH07XG4gICAgLy8gZm9yZWlnbiBtZXRob2QgcmVxdWVzdFxuICAgIEJhc2VFZGl0b3JTaW1wbGVXb3JrZXIucHJvdG90eXBlLmZtciA9IGZ1bmN0aW9uIChtZXRob2QsIGFyZ3MpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9mb3JlaWduTW9kdWxlIHx8IHR5cGVvZiB0aGlzLl9mb3JlaWduTW9kdWxlW21ldGhvZF0gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiBUUHJvbWlzZS53cmFwRXJyb3IobmV3IEVycm9yKCdNaXNzaW5nIHJlcXVlc3RIYW5kbGVyIG9yIG1ldGhvZDogJyArIG1ldGhvZCkpO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gVFByb21pc2UuYXModGhpcy5fZm9yZWlnbk1vZHVsZVttZXRob2RdLmFwcGx5KHRoaXMuX2ZvcmVpZ25Nb2R1bGUsIGFyZ3MpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIFRQcm9taXNlLndyYXBFcnJvcihlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gLS0tLSBFTkQgZGlmZiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8vIC0tLS0gQkVHSU4gbWluaW1hbCBlZGl0cyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBCYXNlRWRpdG9yU2ltcGxlV29ya2VyLl9kaWZmTGltaXQgPSAxMDAwMDtcbiAgICAvLyAtLS0tIEJFR0lOIHN1Z2dlc3QgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBCYXNlRWRpdG9yU2ltcGxlV29ya2VyLl9zdWdnZXN0aW9uc0xpbWl0ID0gMTAwMDA7XG4gICAgcmV0dXJuIEJhc2VFZGl0b3JTaW1wbGVXb3JrZXI7XG59KCkpO1xuZXhwb3J0IHsgQmFzZUVkaXRvclNpbXBsZVdvcmtlciB9O1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xudmFyIEVkaXRvclNpbXBsZVdvcmtlckltcGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEVkaXRvclNpbXBsZVdvcmtlckltcGwsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRWRpdG9yU2ltcGxlV29ya2VySW1wbChmb3JlaWduTW9kdWxlRmFjdG9yeSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBmb3JlaWduTW9kdWxlRmFjdG9yeSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX21vZGVscyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgRWRpdG9yU2ltcGxlV29ya2VySW1wbC5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fbW9kZWxzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB9O1xuICAgIEVkaXRvclNpbXBsZVdvcmtlckltcGwucHJvdG90eXBlLl9nZXRNb2RlbCA9IGZ1bmN0aW9uICh1cmkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21vZGVsc1t1cmldO1xuICAgIH07XG4gICAgRWRpdG9yU2ltcGxlV29ya2VySW1wbC5wcm90b3R5cGUuX2dldE1vZGVscyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGFsbCA9IFtdO1xuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLl9tb2RlbHMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gYWxsLnB1c2goX3RoaXMuX21vZGVsc1trZXldKTsgfSk7XG4gICAgICAgIHJldHVybiBhbGw7XG4gICAgfTtcbiAgICBFZGl0b3JTaW1wbGVXb3JrZXJJbXBsLnByb3RvdHlwZS5hY2NlcHROZXdNb2RlbCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHRoaXMuX21vZGVsc1tkYXRhLnVybF0gPSBuZXcgTWlycm9yTW9kZWwoVVJJLnBhcnNlKGRhdGEudXJsKSwgZGF0YS5saW5lcywgZGF0YS5FT0wsIGRhdGEudmVyc2lvbklkKTtcbiAgICB9O1xuICAgIEVkaXRvclNpbXBsZVdvcmtlckltcGwucHJvdG90eXBlLmFjY2VwdE1vZGVsQ2hhbmdlZCA9IGZ1bmN0aW9uIChzdHJVUkwsIGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9tb2RlbHNbc3RyVVJMXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtb2RlbCA9IHRoaXMuX21vZGVsc1tzdHJVUkxdO1xuICAgICAgICBtb2RlbC5vbkV2ZW50cyhlKTtcbiAgICB9O1xuICAgIEVkaXRvclNpbXBsZVdvcmtlckltcGwucHJvdG90eXBlLmFjY2VwdFJlbW92ZWRNb2RlbCA9IGZ1bmN0aW9uIChzdHJVUkwpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9tb2RlbHNbc3RyVVJMXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9tb2RlbHNbc3RyVVJMXTtcbiAgICB9O1xuICAgIHJldHVybiBFZGl0b3JTaW1wbGVXb3JrZXJJbXBsO1xufShCYXNlRWRpdG9yU2ltcGxlV29ya2VyKSk7XG5leHBvcnQgeyBFZGl0b3JTaW1wbGVXb3JrZXJJbXBsIH07XG4vKipcbiAqIENhbGxlZCBvbiB0aGUgd29ya2VyIHNpZGVcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgIHJldHVybiBuZXcgRWRpdG9yU2ltcGxlV29ya2VySW1wbChudWxsKTtcbn1cbmlmICh0eXBlb2YgaW1wb3J0U2NyaXB0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIFJ1bm5pbmcgaW4gYSB3ZWIgd29ya2VyXG4gICAgZ2xvYmFscy5tb25hY28gPSBjcmVhdGVNb25hY29CYXNlQVBJKCk7XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbid1c2Ugc3RyaWN0JztcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuaW1wb3J0ICogYXMgZXJyb3JzIGZyb20gJy4vZXJyb3JzLmpzJztcbmltcG9ydCB7IFRQcm9taXNlIH0gZnJvbSAnLi93aW5qcy5iYXNlLmpzJztcbmltcG9ydCB7IENhbmNlbGxhdGlvblRva2VuU291cmNlIH0gZnJvbSAnLi9jYW5jZWxsYXRpb24uanMnO1xuaW1wb3J0IHsgRGlzcG9zYWJsZSB9IGZyb20gJy4vbGlmZWN5Y2xlLmpzJztcbmV4cG9ydCBmdW5jdGlvbiBpc1RoZW5hYmxlKG9iaikge1xuICAgIHJldHVybiBvYmogJiYgdHlwZW9mIG9iai50aGVuID09PSAnZnVuY3Rpb24nO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRvVGhlbmFibGUoYXJnKSB7XG4gICAgaWYgKGlzVGhlbmFibGUoYXJnKSkge1xuICAgICAgICByZXR1cm4gYXJnO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFRQcm9taXNlLmFzKGFyZyk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNhbmNlbGFibGVQcm9taXNlKGNhbGxiYWNrKSB7XG4gICAgdmFyIHNvdXJjZSA9IG5ldyBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZSgpO1xuICAgIHZhciB0aGVuYWJsZSA9IGNhbGxiYWNrKHNvdXJjZS50b2tlbik7XG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHNvdXJjZS50b2tlbi5vbkNhbmNlbGxhdGlvblJlcXVlc3RlZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZWplY3QoZXJyb3JzLmNhbmNlbGVkKCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKHRoZW5hYmxlKS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgc291cmNlLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBzb3VyY2UuZGlzcG9zZSgpO1xuICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBuZXcgLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBjbGFzc18xKCkge1xuICAgICAgICB9XG4gICAgICAgIGNsYXNzXzEucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNvdXJjZS5jYW5jZWwoKTtcbiAgICAgICAgfTtcbiAgICAgICAgY2xhc3NfMS5wcm90b3R5cGUudGhlbiA9IGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfTtcbiAgICAgICAgY2xhc3NfMS5wcm90b3R5cGUuY2F0Y2ggPSBmdW5jdGlvbiAocmVqZWN0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50aGVuKHVuZGVmaW5lZCwgcmVqZWN0KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGNsYXNzXzE7XG4gICAgfSgpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhc1dpbkpzUHJvbWlzZShjYWxsYmFjaykge1xuICAgIHZhciBzb3VyY2UgPSBuZXcgQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2UoKTtcbiAgICByZXR1cm4gbmV3IFRQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QsIHByb2dyZXNzKSB7XG4gICAgICAgIHZhciBpdGVtID0gY2FsbGJhY2soc291cmNlLnRva2VuKTtcbiAgICAgICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBUUHJvbWlzZSkge1xuICAgICAgICAgICAgaXRlbS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2UuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2UuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgfSwgcHJvZ3Jlc3MpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzVGhlbmFibGUoaXRlbSkpIHtcbiAgICAgICAgICAgIGl0ZW0udGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgc291cmNlLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgc291cmNlLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc291cmNlLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHJlc29sdmUoaXRlbSk7XG4gICAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNvdXJjZS5jYW5jZWwoKTtcbiAgICB9KTtcbn1cbi8qKlxuICogSG9vayBhIGNhbmNlbGxhdGlvbiB0b2tlbiB0byBhIFdpbkpTIFByb21pc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdpcmVDYW5jZWxsYXRpb25Ub2tlbih0b2tlbiwgcHJvbWlzZSwgcmVzb2x2ZUFzVW5kZWZpbmVkV2hlbkNhbmNlbGxlZCkge1xuICAgIHZhciBzdWJzY3JpcHRpb24gPSB0b2tlbi5vbkNhbmNlbGxhdGlvblJlcXVlc3RlZChmdW5jdGlvbiAoKSB7IHJldHVybiBwcm9taXNlLmNhbmNlbCgpOyB9KTtcbiAgICBpZiAocmVzb2x2ZUFzVW5kZWZpbmVkV2hlbkNhbmNlbGxlZCkge1xuICAgICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKHVuZGVmaW5lZCwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgaWYgKCFlcnJvcnMuaXNQcm9taXNlQ2FuY2VsZWRFcnJvcihlcnIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFRQcm9taXNlLndyYXBFcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBhbHdheXMocHJvbWlzZSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaXB0aW9uLmRpc3Bvc2UoKTsgfSk7XG59XG4vKipcbiAqIEEgaGVscGVyIHRvIHByZXZlbnQgYWNjdW11bGF0aW9uIG9mIHNlcXVlbnRpYWwgYXN5bmMgdGFza3MuXG4gKlxuICogSW1hZ2luZSBhIG1haWwgbWFuIHdpdGggdGhlIHNvbGUgdGFzayBvZiBkZWxpdmVyaW5nIGxldHRlcnMuIEFzIHNvb24gYXNcbiAqIGEgbGV0dGVyIHN1Ym1pdHRlZCBmb3IgZGVsaXZlcnksIGhlIGRyaXZlcyB0byB0aGUgZGVzdGluYXRpb24sIGRlbGl2ZXJzIGl0XG4gKiBhbmQgcmV0dXJucyB0byBoaXMgYmFzZS4gSW1hZ2luZSB0aGF0IGR1cmluZyB0aGUgdHJpcCwgTiBtb3JlIGxldHRlcnMgd2VyZSBzdWJtaXR0ZWQuXG4gKiBXaGVuIHRoZSBtYWlsIG1hbiByZXR1cm5zLCBoZSBwaWNrcyB0aG9zZSBOIGxldHRlcnMgYW5kIGRlbGl2ZXJzIHRoZW0gYWxsIGluIGFcbiAqIHNpbmdsZSB0cmlwLiBFdmVuIHRob3VnaCBOKzEgc3VibWlzc2lvbnMgb2NjdXJyZWQsIG9ubHkgMiBkZWxpdmVyaWVzIHdlcmUgbWFkZS5cbiAqXG4gKiBUaGUgdGhyb3R0bGVyIGltcGxlbWVudHMgdGhpcyB2aWEgdGhlIHF1ZXVlKCkgbWV0aG9kLCBieSBwcm92aWRpbmcgaXQgYSB0YXNrXG4gKiBmYWN0b3J5LiBGb2xsb3dpbmcgdGhlIGV4YW1wbGU6XG4gKlxuICogXHRcdGNvbnN0IHRocm90dGxlciA9IG5ldyBUaHJvdHRsZXIoKTtcbiAqIFx0XHRjb25zdCBsZXR0ZXJzID0gW107XG4gKlxuICogXHRcdGZ1bmN0aW9uIGRlbGl2ZXIoKSB7XG4gKiBcdFx0XHRjb25zdCBsZXR0ZXJzVG9EZWxpdmVyID0gbGV0dGVycztcbiAqIFx0XHRcdGxldHRlcnMgPSBbXTtcbiAqIFx0XHRcdHJldHVybiBtYWtlVGhlVHJpcChsZXR0ZXJzVG9EZWxpdmVyKTtcbiAqIFx0XHR9XG4gKlxuICogXHRcdGZ1bmN0aW9uIG9uTGV0dGVyUmVjZWl2ZWQobCkge1xuICogXHRcdFx0bGV0dGVycy5wdXNoKGwpO1xuICogXHRcdFx0dGhyb3R0bGVyLnF1ZXVlKGRlbGl2ZXIpO1xuICogXHRcdH1cbiAqL1xudmFyIFRocm90dGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUaHJvdHRsZXIoKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlUHJvbWlzZSA9IG51bGw7XG4gICAgICAgIHRoaXMucXVldWVkUHJvbWlzZSA9IG51bGw7XG4gICAgICAgIHRoaXMucXVldWVkUHJvbWlzZUZhY3RvcnkgPSBudWxsO1xuICAgIH1cbiAgICBUaHJvdHRsZXIucHJvdG90eXBlLnF1ZXVlID0gZnVuY3Rpb24gKHByb21pc2VGYWN0b3J5KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZVByb21pc2UpIHtcbiAgICAgICAgICAgIHRoaXMucXVldWVkUHJvbWlzZUZhY3RvcnkgPSBwcm9taXNlRmFjdG9yeTtcbiAgICAgICAgICAgIGlmICghdGhpcy5xdWV1ZWRQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9uQ29tcGxldGVfMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucXVldWVkUHJvbWlzZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBfdGhpcy5xdWV1ZShfdGhpcy5xdWV1ZWRQcm9taXNlRmFjdG9yeSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnF1ZXVlZFByb21pc2VGYWN0b3J5ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMucXVldWVkUHJvbWlzZSA9IG5ldyBUUHJvbWlzZShmdW5jdGlvbiAoYywgZSwgcCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hY3RpdmVQcm9taXNlLnRoZW4ob25Db21wbGV0ZV8xLCBvbkNvbXBsZXRlXzEsIHApLmRvbmUoYyk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hY3RpdmVQcm9taXNlLmNhbmNlbCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBUUHJvbWlzZShmdW5jdGlvbiAoYywgZSwgcCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnF1ZXVlZFByb21pc2UudGhlbihjLCBlLCBwKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAvLyBuby1vcFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmVQcm9taXNlID0gcHJvbWlzZUZhY3RvcnkoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBUUHJvbWlzZShmdW5jdGlvbiAoYywgZSwgcCkge1xuICAgICAgICAgICAgX3RoaXMuYWN0aXZlUHJvbWlzZS5kb25lKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5hY3RpdmVQcm9taXNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjKHJlc3VsdCk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWN0aXZlUHJvbWlzZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgZShlcnIpO1xuICAgICAgICAgICAgfSwgcCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLmFjdGl2ZVByb21pc2UuY2FuY2VsKCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIFRocm90dGxlcjtcbn0oKSk7XG5leHBvcnQgeyBUaHJvdHRsZXIgfTtcbi8qKlxuICogQSBoZWxwZXIgdG8gZGVsYXkgZXhlY3V0aW9uIG9mIGEgdGFzayB0aGF0IGlzIGJlaW5nIHJlcXVlc3RlZCBvZnRlbi5cbiAqXG4gKiBGb2xsb3dpbmcgdGhlIHRocm90dGxlciwgbm93IGltYWdpbmUgdGhlIG1haWwgbWFuIHdhbnRzIHRvIG9wdGltaXplIHRoZSBudW1iZXIgb2ZcbiAqIHRyaXBzIHByb2FjdGl2ZWx5LiBUaGUgdHJpcCBpdHNlbGYgY2FuIGJlIGxvbmcsIHNvIGhlIGRlY2lkZXMgbm90IHRvIG1ha2UgdGhlIHRyaXBcbiAqIGFzIHNvb24gYXMgYSBsZXR0ZXIgaXMgc3VibWl0dGVkLiBJbnN0ZWFkIGhlIHdhaXRzIGEgd2hpbGUsIGluIGNhc2UgbW9yZVxuICogbGV0dGVycyBhcmUgc3VibWl0dGVkLiBBZnRlciBzYWlkIHdhaXRpbmcgcGVyaW9kLCBpZiBubyBsZXR0ZXJzIHdlcmUgc3VibWl0dGVkLCBoZVxuICogZGVjaWRlcyB0byBtYWtlIHRoZSB0cmlwLiBJbWFnaW5lIHRoYXQgTiBtb3JlIGxldHRlcnMgd2VyZSBzdWJtaXR0ZWQgYWZ0ZXIgdGhlIGZpcnN0XG4gKiBvbmUsIGFsbCB3aXRoaW4gYSBzaG9ydCBwZXJpb2Qgb2YgdGltZSBiZXR3ZWVuIGVhY2ggb3RoZXIuIEV2ZW4gdGhvdWdoIE4rMVxuICogc3VibWlzc2lvbnMgb2NjdXJyZWQsIG9ubHkgMSBkZWxpdmVyeSB3YXMgbWFkZS5cbiAqXG4gKiBUaGUgZGVsYXllciBvZmZlcnMgdGhpcyBiZWhhdmlvciB2aWEgdGhlIHRyaWdnZXIoKSBtZXRob2QsIGludG8gd2hpY2ggYm90aCB0aGUgdGFza1xuICogdG8gYmUgZXhlY3V0ZWQgYW5kIHRoZSB3YWl0aW5nIHBlcmlvZCAoZGVsYXkpIG11c3QgYmUgcGFzc2VkIGluIGFzIGFyZ3VtZW50cy4gRm9sbG93aW5nXG4gKiB0aGUgZXhhbXBsZTpcbiAqXG4gKiBcdFx0Y29uc3QgZGVsYXllciA9IG5ldyBEZWxheWVyKFdBSVRJTkdfUEVSSU9EKTtcbiAqIFx0XHRjb25zdCBsZXR0ZXJzID0gW107XG4gKlxuICogXHRcdGZ1bmN0aW9uIGxldHRlclJlY2VpdmVkKGwpIHtcbiAqIFx0XHRcdGxldHRlcnMucHVzaChsKTtcbiAqIFx0XHRcdGRlbGF5ZXIudHJpZ2dlcigoKSA9PiB7IHJldHVybiBtYWtlVGhlVHJpcCgpOyB9KTtcbiAqIFx0XHR9XG4gKi9cbnZhciBEZWxheWVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERlbGF5ZXIoZGVmYXVsdERlbGF5KSB7XG4gICAgICAgIHRoaXMuZGVmYXVsdERlbGF5ID0gZGVmYXVsdERlbGF5O1xuICAgICAgICB0aGlzLnRpbWVvdXQgPSBudWxsO1xuICAgICAgICB0aGlzLmNvbXBsZXRpb25Qcm9taXNlID0gbnVsbDtcbiAgICAgICAgdGhpcy5vblN1Y2Nlc3MgPSBudWxsO1xuICAgICAgICB0aGlzLnRhc2sgPSBudWxsO1xuICAgIH1cbiAgICBEZWxheWVyLnByb3RvdHlwZS50cmlnZ2VyID0gZnVuY3Rpb24gKHRhc2ssIGRlbGF5KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7IGRlbGF5ID0gdGhpcy5kZWZhdWx0RGVsYXk7IH1cbiAgICAgICAgdGhpcy50YXNrID0gdGFzaztcbiAgICAgICAgdGhpcy5jYW5jZWxUaW1lb3V0KCk7XG4gICAgICAgIGlmICghdGhpcy5jb21wbGV0aW9uUHJvbWlzZSkge1xuICAgICAgICAgICAgdGhpcy5jb21wbGV0aW9uUHJvbWlzZSA9IG5ldyBUUHJvbWlzZShmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgICAgIF90aGlzLm9uU3VjY2VzcyA9IGM7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gbm8tb3BcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmNvbXBsZXRpb25Qcm9taXNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBfdGhpcy5vblN1Y2Nlc3MgPSBudWxsO1xuICAgICAgICAgICAgICAgIHZhciB0YXNrID0gX3RoaXMudGFzaztcbiAgICAgICAgICAgICAgICBfdGhpcy50YXNrID0gbnVsbDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFzaygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy50aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgIF90aGlzLm9uU3VjY2VzcyhudWxsKTtcbiAgICAgICAgfSwgZGVsYXkpO1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wbGV0aW9uUHJvbWlzZTtcbiAgICB9O1xuICAgIERlbGF5ZXIucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jYW5jZWxUaW1lb3V0KCk7XG4gICAgICAgIGlmICh0aGlzLmNvbXBsZXRpb25Qcm9taXNlKSB7XG4gICAgICAgICAgICB0aGlzLmNvbXBsZXRpb25Qcm9taXNlLmNhbmNlbCgpO1xuICAgICAgICAgICAgdGhpcy5jb21wbGV0aW9uUHJvbWlzZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERlbGF5ZXIucHJvdG90eXBlLmNhbmNlbFRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnRpbWVvdXQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpO1xuICAgICAgICAgICAgdGhpcy50aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIERlbGF5ZXI7XG59KCkpO1xuZXhwb3J0IHsgRGVsYXllciB9O1xudmFyIFNoYWxsb3dDYW5jZWxUaGVuUHJvbWlzZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2hhbGxvd0NhbmNlbFRoZW5Qcm9taXNlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNoYWxsb3dDYW5jZWxUaGVuUHJvbWlzZShvdXRlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgY29tcGxldGVDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgcHJvZ3Jlc3NDYWxsYmFjaztcbiAgICAgICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBmdW5jdGlvbiAoYywgZSwgcCkge1xuICAgICAgICAgICAgY29tcGxldGVDYWxsYmFjayA9IGM7XG4gICAgICAgICAgICBlcnJvckNhbGxiYWNrID0gZTtcbiAgICAgICAgICAgIHByb2dyZXNzQ2FsbGJhY2sgPSBwO1xuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBjYW5jZWwgdGhpcyBwcm9taXNlIGJ1dCBub3QgdGhlXG4gICAgICAgICAgICAvLyBvdXRlciBwcm9taXNlXG4gICAgICAgICAgICBlcnJvckNhbGxiYWNrKGVycm9ycy5jYW5jZWxlZCgpKTtcbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgb3V0ZXIudGhlbihjb21wbGV0ZUNhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBwcm9ncmVzc0NhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gU2hhbGxvd0NhbmNlbFRoZW5Qcm9taXNlO1xufShUUHJvbWlzZSkpO1xuZXhwb3J0IHsgU2hhbGxvd0NhbmNlbFRoZW5Qcm9taXNlIH07XG4vKipcbiAqIFJlcGxhY2VtZW50IGZvciBgV2luSlMuVFByb21pc2UudGltZW91dGAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aW1lb3V0KG4pIHtcbiAgICByZXR1cm4gY3JlYXRlQ2FuY2VsYWJsZVByb21pc2UoZnVuY3Rpb24gKHRva2VuKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgaGFuZGxlID0gc2V0VGltZW91dChyZXNvbHZlLCBuKTtcbiAgICAgICAgICAgIHRva2VuLm9uQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGZ1bmN0aW9uIChfKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycm9ycy5jYW5jZWxlZCgpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGlzV2luSlNQcm9taXNlKGNhbmRpZGF0ZSkge1xuICAgIHJldHVybiBUUHJvbWlzZS5pcyhjYW5kaWRhdGUpICYmIHR5cGVvZiBjYW5kaWRhdGUuZG9uZSA9PT0gJ2Z1bmN0aW9uJztcbn1cbmV4cG9ydCBmdW5jdGlvbiBhbHdheXMod2luanNQcm9taXNlT3JUaGVuYWJsZSwgZikge1xuICAgIGlmIChpc1dpbkpTUHJvbWlzZSh3aW5qc1Byb21pc2VPclRoZW5hYmxlKSkge1xuICAgICAgICByZXR1cm4gbmV3IFRQcm9taXNlKGZ1bmN0aW9uIChjLCBlLCBwKSB7XG4gICAgICAgICAgICB3aW5qc1Byb21pc2VPclRoZW5hYmxlLmRvbmUoZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGYocmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUxKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9ycy5vblVuZXhwZWN0ZWRFcnJvcihlMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGMocmVzdWx0KTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlMSkge1xuICAgICAgICAgICAgICAgICAgICBlcnJvcnMub25VbmV4cGVjdGVkRXJyb3IoZTEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlKGVycik7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAocHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICBwKHByb2dyZXNzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB3aW5qc1Byb21pc2VPclRoZW5hYmxlLmNhbmNlbCgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIHNpbXBsZVxuICAgICAgICB3aW5qc1Byb21pc2VPclRoZW5hYmxlLnRoZW4oZnVuY3Rpb24gKF8pIHsgcmV0dXJuIGYoKTsgfSwgZnVuY3Rpb24gKF8pIHsgcmV0dXJuIGYoKTsgfSk7XG4gICAgICAgIHJldHVybiB3aW5qc1Byb21pc2VPclRoZW5hYmxlO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBmaXJzdDIocHJvbWlzZUZhY3Rvcmllcywgc2hvdWxkU3RvcCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgaWYgKHNob3VsZFN0b3AgPT09IHZvaWQgMCkgeyBzaG91bGRTdG9wID0gZnVuY3Rpb24gKHQpIHsgcmV0dXJuICEhdDsgfTsgfVxuICAgIGlmIChkZWZhdWx0VmFsdWUgPT09IHZvaWQgMCkgeyBkZWZhdWx0VmFsdWUgPSBudWxsOyB9XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgbGVuID0gcHJvbWlzZUZhY3Rvcmllcy5sZW5ndGg7XG4gICAgdmFyIGxvb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpbmRleCA+PSBsZW4pIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmFjdG9yeSA9IHByb21pc2VGYWN0b3JpZXNbaW5kZXgrK107XG4gICAgICAgIHZhciBwcm9taXNlID0gZmFjdG9yeSgpO1xuICAgICAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChzaG91bGRTdG9wKHJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbG9vcCgpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBsb29wKCk7XG59XG5leHBvcnQgZnVuY3Rpb24gZmlyc3QocHJvbWlzZUZhY3Rvcmllcywgc2hvdWxkU3RvcCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgaWYgKHNob3VsZFN0b3AgPT09IHZvaWQgMCkgeyBzaG91bGRTdG9wID0gZnVuY3Rpb24gKHQpIHsgcmV0dXJuICEhdDsgfTsgfVxuICAgIGlmIChkZWZhdWx0VmFsdWUgPT09IHZvaWQgMCkgeyBkZWZhdWx0VmFsdWUgPSBudWxsOyB9XG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgbGVuID0gcHJvbWlzZUZhY3Rvcmllcy5sZW5ndGg7XG4gICAgdmFyIGxvb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpbmRleCA+PSBsZW4pIHtcbiAgICAgICAgICAgIHJldHVybiBUUHJvbWlzZS5hcyhkZWZhdWx0VmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmYWN0b3J5ID0gcHJvbWlzZUZhY3Rvcmllc1tpbmRleCsrXTtcbiAgICAgICAgdmFyIHByb21pc2UgPSBmYWN0b3J5KCk7XG4gICAgICAgIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKHNob3VsZFN0b3AocmVzdWx0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBUUHJvbWlzZS5hcyhyZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGxvb3AoKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gbG9vcCgpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNldERpc3Bvc2FibGVUaW1lb3V0KGhhbmRsZXIsIHRpbWVvdXQpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMjsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBoYW5kbGUgPSBzZXRUaW1lb3V0LmFwcGx5KHZvaWQgMCwgW2hhbmRsZXIsIHRpbWVvdXRdLmNvbmNhdChhcmdzKSk7XG4gICAgcmV0dXJuIHsgZGlzcG9zZTogZnVuY3Rpb24gKCkgeyBjbGVhclRpbWVvdXQoaGFuZGxlKTsgfSB9O1xufVxudmFyIFRpbWVvdXRUaW1lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGltZW91dFRpbWVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFRpbWVvdXRUaW1lcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3Rva2VuID0gLTE7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgVGltZW91dFRpbWVyLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNhbmNlbCgpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIFRpbWVvdXRUaW1lci5wcm90b3R5cGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fdG9rZW4gIT09IC0xKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdG9rZW4pO1xuICAgICAgICAgICAgdGhpcy5fdG9rZW4gPSAtMTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVGltZW91dFRpbWVyLnByb3RvdHlwZS5jYW5jZWxBbmRTZXQgPSBmdW5jdGlvbiAocnVubmVyLCB0aW1lb3V0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuY2FuY2VsKCk7XG4gICAgICAgIHRoaXMuX3Rva2VuID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5fdG9rZW4gPSAtMTtcbiAgICAgICAgICAgIHJ1bm5lcigpO1xuICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICB9O1xuICAgIFRpbWVvdXRUaW1lci5wcm90b3R5cGUuc2V0SWZOb3RTZXQgPSBmdW5jdGlvbiAocnVubmVyLCB0aW1lb3V0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLl90b2tlbiAhPT0gLTEpIHtcbiAgICAgICAgICAgIC8vIHRpbWVyIGlzIGFscmVhZHkgc2V0XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdG9rZW4gPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLl90b2tlbiA9IC0xO1xuICAgICAgICAgICAgcnVubmVyKCk7XG4gICAgICAgIH0sIHRpbWVvdXQpO1xuICAgIH07XG4gICAgcmV0dXJuIFRpbWVvdXRUaW1lcjtcbn0oRGlzcG9zYWJsZSkpO1xuZXhwb3J0IHsgVGltZW91dFRpbWVyIH07XG52YXIgSW50ZXJ2YWxUaW1lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSW50ZXJ2YWxUaW1lciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBJbnRlcnZhbFRpbWVyKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fdG9rZW4gPSAtMTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBJbnRlcnZhbFRpbWVyLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNhbmNlbCgpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIEludGVydmFsVGltZXIucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3Rva2VuICE9PSAtMSkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLl90b2tlbik7XG4gICAgICAgICAgICB0aGlzLl90b2tlbiA9IC0xO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBJbnRlcnZhbFRpbWVyLnByb3RvdHlwZS5jYW5jZWxBbmRTZXQgPSBmdW5jdGlvbiAocnVubmVyLCBpbnRlcnZhbCkge1xuICAgICAgICB0aGlzLmNhbmNlbCgpO1xuICAgICAgICB0aGlzLl90b2tlbiA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJ1bm5lcigpO1xuICAgICAgICB9LCBpbnRlcnZhbCk7XG4gICAgfTtcbiAgICByZXR1cm4gSW50ZXJ2YWxUaW1lcjtcbn0oRGlzcG9zYWJsZSkpO1xuZXhwb3J0IHsgSW50ZXJ2YWxUaW1lciB9O1xudmFyIFJ1bk9uY2VTY2hlZHVsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUnVuT25jZVNjaGVkdWxlcihydW5uZXIsIHRpbWVvdXQpIHtcbiAgICAgICAgdGhpcy50aW1lb3V0VG9rZW4gPSAtMTtcbiAgICAgICAgdGhpcy5ydW5uZXIgPSBydW5uZXI7XG4gICAgICAgIHRoaXMudGltZW91dCA9IHRpbWVvdXQ7XG4gICAgICAgIHRoaXMudGltZW91dEhhbmRsZXIgPSB0aGlzLm9uVGltZW91dC5iaW5kKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEaXNwb3NlIFJ1bk9uY2VTY2hlZHVsZXJcbiAgICAgKi9cbiAgICBSdW5PbmNlU2NoZWR1bGVyLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNhbmNlbCgpO1xuICAgICAgICB0aGlzLnJ1bm5lciA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYW5jZWwgY3VycmVudCBzY2hlZHVsZWQgcnVubmVyIChpZiBhbnkpLlxuICAgICAqL1xuICAgIFJ1bk9uY2VTY2hlZHVsZXIucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTY2hlZHVsZWQoKSkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dFRva2VuKTtcbiAgICAgICAgICAgIHRoaXMudGltZW91dFRva2VuID0gLTE7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbmNlbCBwcmV2aW91cyBydW5uZXIgKGlmIGFueSkgJiBzY2hlZHVsZSBhIG5ldyBydW5uZXIuXG4gICAgICovXG4gICAgUnVuT25jZVNjaGVkdWxlci5wcm90b3R5cGUuc2NoZWR1bGUgPSBmdW5jdGlvbiAoZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSB0aGlzLnRpbWVvdXQ7IH1cbiAgICAgICAgdGhpcy5jYW5jZWwoKTtcbiAgICAgICAgdGhpcy50aW1lb3V0VG9rZW4gPSBzZXRUaW1lb3V0KHRoaXMudGltZW91dEhhbmRsZXIsIGRlbGF5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiBzY2hlZHVsZWQuXG4gICAgICovXG4gICAgUnVuT25jZVNjaGVkdWxlci5wcm90b3R5cGUuaXNTY2hlZHVsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRpbWVvdXRUb2tlbiAhPT0gLTE7XG4gICAgfTtcbiAgICBSdW5PbmNlU2NoZWR1bGVyLnByb3RvdHlwZS5vblRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudGltZW91dFRva2VuID0gLTE7XG4gICAgICAgIGlmICh0aGlzLnJ1bm5lcikge1xuICAgICAgICAgICAgdGhpcy5kb1J1bigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSdW5PbmNlU2NoZWR1bGVyLnByb3RvdHlwZS5kb1J1biA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5ydW5uZXIoKTtcbiAgICB9O1xuICAgIHJldHVybiBSdW5PbmNlU2NoZWR1bGVyO1xufSgpKTtcbmV4cG9ydCB7IFJ1bk9uY2VTY2hlZHVsZXIgfTtcbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuJ3VzZSBzdHJpY3QnO1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5pbXBvcnQgeyB0cmFuc2Zvcm1FcnJvckZvclNlcmlhbGl6YXRpb24gfSBmcm9tICcuLi9lcnJvcnMuanMnO1xuaW1wb3J0IHsgRGlzcG9zYWJsZSB9IGZyb20gJy4uL2xpZmVjeWNsZS5qcyc7XG5pbXBvcnQgeyBUUHJvbWlzZSB9IGZyb20gJy4uL3dpbmpzLmJhc2UuanMnO1xuaW1wb3J0IHsgU2hhbGxvd0NhbmNlbFRoZW5Qcm9taXNlIH0gZnJvbSAnLi4vYXN5bmMuanMnO1xuaW1wb3J0IHsgaXNXZWIgfSBmcm9tICcuLi9wbGF0Zm9ybS5qcyc7XG52YXIgSU5JVElBTElaRSA9ICckaW5pdGlhbGl6ZSc7XG52YXIgd2ViV29ya2VyV2FybmluZ0xvZ2dlZCA9IGZhbHNlO1xuZXhwb3J0IGZ1bmN0aW9uIGxvZ09uY2VXZWJXb3JrZXJXYXJuaW5nKGVycikge1xuICAgIGlmICghaXNXZWIpIHtcbiAgICAgICAgLy8gcnVubmluZyB0ZXN0c1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghd2ViV29ya2VyV2FybmluZ0xvZ2dlZCkge1xuICAgICAgICB3ZWJXb3JrZXJXYXJuaW5nTG9nZ2VkID0gdHJ1ZTtcbiAgICAgICAgY29uc29sZS53YXJuKCdDb3VsZCBub3QgY3JlYXRlIHdlYiB3b3JrZXIocykuIEZhbGxpbmcgYmFjayB0byBsb2FkaW5nIHdlYiB3b3JrZXIgY29kZSBpbiBtYWluIHRocmVhZCwgd2hpY2ggbWlnaHQgY2F1c2UgVUkgZnJlZXplcy4gUGxlYXNlIHNlZSBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0L21vbmFjby1lZGl0b3IjZmFxJyk7XG4gICAgfVxuICAgIGNvbnNvbGUud2FybihlcnIubWVzc2FnZSk7XG59XG52YXIgU2ltcGxlV29ya2VyUHJvdG9jb2wgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2ltcGxlV29ya2VyUHJvdG9jb2woaGFuZGxlcikge1xuICAgICAgICB0aGlzLl93b3JrZXJJZCA9IC0xO1xuICAgICAgICB0aGlzLl9oYW5kbGVyID0gaGFuZGxlcjtcbiAgICAgICAgdGhpcy5fbGFzdFNlbnRSZXEgPSAwO1xuICAgICAgICB0aGlzLl9wZW5kaW5nUmVwbGllcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgfVxuICAgIFNpbXBsZVdvcmtlclByb3RvY29sLnByb3RvdHlwZS5zZXRXb3JrZXJJZCA9IGZ1bmN0aW9uICh3b3JrZXJJZCkge1xuICAgICAgICB0aGlzLl93b3JrZXJJZCA9IHdvcmtlcklkO1xuICAgIH07XG4gICAgU2ltcGxlV29ya2VyUHJvdG9jb2wucHJvdG90eXBlLnNlbmRNZXNzYWdlID0gZnVuY3Rpb24gKG1ldGhvZCwgYXJncykge1xuICAgICAgICB2YXIgcmVxID0gU3RyaW5nKCsrdGhpcy5fbGFzdFNlbnRSZXEpO1xuICAgICAgICB2YXIgcmVwbHkgPSB7XG4gICAgICAgICAgICBjOiBudWxsLFxuICAgICAgICAgICAgZTogbnVsbFxuICAgICAgICB9O1xuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFRQcm9taXNlKGZ1bmN0aW9uIChjLCBlKSB7XG4gICAgICAgICAgICByZXBseS5jID0gYztcbiAgICAgICAgICAgIHJlcGx5LmUgPSBlO1xuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBDYW5jZWwgbm90IHN1cHBvcnRlZFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fcGVuZGluZ1JlcGxpZXNbcmVxXSA9IHJlcGx5O1xuICAgICAgICB0aGlzLl9zZW5kKHtcbiAgICAgICAgICAgIHZzV29ya2VyOiB0aGlzLl93b3JrZXJJZCxcbiAgICAgICAgICAgIHJlcTogcmVxLFxuICAgICAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgICAgICBhcmdzOiBhcmdzXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgU2ltcGxlV29ya2VyUHJvdG9jb2wucHJvdG90eXBlLmhhbmRsZU1lc3NhZ2UgPSBmdW5jdGlvbiAoc2VyaWFsaXplZE1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2U7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gSlNPTi5wYXJzZShzZXJpYWxpemVkTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIG5vdGhpbmdcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW1lc3NhZ2UgfHwgIW1lc3NhZ2UudnNXb3JrZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fd29ya2VySWQgIT09IC0xICYmIG1lc3NhZ2UudnNXb3JrZXIgIT09IHRoaXMuX3dvcmtlcklkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faGFuZGxlTWVzc2FnZShtZXNzYWdlKTtcbiAgICB9O1xuICAgIFNpbXBsZVdvcmtlclByb3RvY29sLnByb3RvdHlwZS5faGFuZGxlTWVzc2FnZSA9IGZ1bmN0aW9uIChtc2cpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKG1zZy5zZXEpIHtcbiAgICAgICAgICAgIHZhciByZXBseU1lc3NhZ2UgPSBtc2c7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3BlbmRpbmdSZXBsaWVzW3JlcGx5TWVzc2FnZS5zZXFdKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdHb3QgcmVwbHkgdG8gdW5rbm93biBzZXEnKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmVwbHkgPSB0aGlzLl9wZW5kaW5nUmVwbGllc1tyZXBseU1lc3NhZ2Uuc2VxXTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9wZW5kaW5nUmVwbGllc1tyZXBseU1lc3NhZ2Uuc2VxXTtcbiAgICAgICAgICAgIGlmIChyZXBseU1lc3NhZ2UuZXJyKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVyciA9IHJlcGx5TWVzc2FnZS5lcnI7XG4gICAgICAgICAgICAgICAgaWYgKHJlcGx5TWVzc2FnZS5lcnIuJGlzRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyID0gbmV3IEVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgIGVyci5uYW1lID0gcmVwbHlNZXNzYWdlLmVyci5uYW1lO1xuICAgICAgICAgICAgICAgICAgICBlcnIubWVzc2FnZSA9IHJlcGx5TWVzc2FnZS5lcnIubWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgZXJyLnN0YWNrID0gcmVwbHlNZXNzYWdlLmVyci5zdGFjaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVwbHkuZShlcnIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcGx5LmMocmVwbHlNZXNzYWdlLnJlcyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlcXVlc3RNZXNzYWdlID0gbXNnO1xuICAgICAgICB2YXIgcmVxID0gcmVxdWVzdE1lc3NhZ2UucmVxO1xuICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5faGFuZGxlci5oYW5kbGVNZXNzYWdlKHJlcXVlc3RNZXNzYWdlLm1ldGhvZCwgcmVxdWVzdE1lc3NhZ2UuYXJncyk7XG4gICAgICAgIHJlc3VsdC50aGVuKGZ1bmN0aW9uIChyKSB7XG4gICAgICAgICAgICBfdGhpcy5fc2VuZCh7XG4gICAgICAgICAgICAgICAgdnNXb3JrZXI6IF90aGlzLl93b3JrZXJJZCxcbiAgICAgICAgICAgICAgICBzZXE6IHJlcSxcbiAgICAgICAgICAgICAgICByZXM6IHIsXG4gICAgICAgICAgICAgICAgZXJyOiB1bmRlZmluZWRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKGUuZGV0YWlsIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAvLyBMb2FkaW5nIGVycm9ycyBoYXZlIGEgZGV0YWlsIHByb3BlcnR5IHRoYXQgcG9pbnRzIHRvIHRoZSBhY3R1YWwgZXJyb3JcbiAgICAgICAgICAgICAgICBlLmRldGFpbCA9IHRyYW5zZm9ybUVycm9yRm9yU2VyaWFsaXphdGlvbihlLmRldGFpbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5fc2VuZCh7XG4gICAgICAgICAgICAgICAgdnNXb3JrZXI6IF90aGlzLl93b3JrZXJJZCxcbiAgICAgICAgICAgICAgICBzZXE6IHJlcSxcbiAgICAgICAgICAgICAgICByZXM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBlcnI6IHRyYW5zZm9ybUVycm9yRm9yU2VyaWFsaXphdGlvbihlKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU2ltcGxlV29ya2VyUHJvdG9jb2wucHJvdG90eXBlLl9zZW5kID0gZnVuY3Rpb24gKG1zZykge1xuICAgICAgICB2YXIgc3RyTXNnID0gSlNPTi5zdHJpbmdpZnkobXNnKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ1NFTkRJTkc6ICcgKyBzdHJNc2cpO1xuICAgICAgICB0aGlzLl9oYW5kbGVyLnNlbmRNZXNzYWdlKHN0ck1zZyk7XG4gICAgfTtcbiAgICByZXR1cm4gU2ltcGxlV29ya2VyUHJvdG9jb2w7XG59KCkpO1xuLyoqXG4gKiBNYWluIHRocmVhZCBzaWRlXG4gKi9cbnZhciBTaW1wbGVXb3JrZXJDbGllbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNpbXBsZVdvcmtlckNsaWVudCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTaW1wbGVXb3JrZXJDbGllbnQod29ya2VyRmFjdG9yeSwgbW9kdWxlSWQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgdmFyIGxhenlQcm94eUZ1bGZpbGwgPSBudWxsO1xuICAgICAgICB2YXIgbGF6eVByb3h5UmVqZWN0ID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX3dvcmtlciA9IF90aGlzLl9yZWdpc3Rlcih3b3JrZXJGYWN0b3J5LmNyZWF0ZSgndnMvYmFzZS9jb21tb24vd29ya2VyL3NpbXBsZVdvcmtlcicsIGZ1bmN0aW9uIChtc2cpIHtcbiAgICAgICAgICAgIF90aGlzLl9wcm90b2NvbC5oYW5kbGVNZXNzYWdlKG1zZyk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIC8vIGluIEZpcmVmb3gsIHdlYiB3b3JrZXJzIGZhaWwgbGF6aWx5IDooXG4gICAgICAgICAgICAvLyB3ZSB3aWxsIHJlamVjdCB0aGUgcHJveHlcbiAgICAgICAgICAgIGxhenlQcm94eVJlamVjdChlcnIpO1xuICAgICAgICB9KSk7XG4gICAgICAgIF90aGlzLl9wcm90b2NvbCA9IG5ldyBTaW1wbGVXb3JrZXJQcm90b2NvbCh7XG4gICAgICAgICAgICBzZW5kTWVzc2FnZTogZnVuY3Rpb24gKG1zZykge1xuICAgICAgICAgICAgICAgIF90aGlzLl93b3JrZXIucG9zdE1lc3NhZ2UobXNnKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoYW5kbGVNZXNzYWdlOiBmdW5jdGlvbiAobWV0aG9kLCBhcmdzKSB7XG4gICAgICAgICAgICAgICAgLy8gSW50ZW50aW9uYWxseSBub3Qgc3VwcG9ydGluZyB3b3JrZXIgLT4gbWFpbiByZXF1ZXN0c1xuICAgICAgICAgICAgICAgIHJldHVybiBUUHJvbWlzZS5hcyhudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIF90aGlzLl9wcm90b2NvbC5zZXRXb3JrZXJJZChfdGhpcy5fd29ya2VyLmdldElkKCkpO1xuICAgICAgICAvLyBHYXRoZXIgbG9hZGVyIGNvbmZpZ3VyYXRpb25cbiAgICAgICAgdmFyIGxvYWRlckNvbmZpZ3VyYXRpb24gPSBudWxsO1xuICAgICAgICBpZiAodHlwZW9mIHNlbGYucmVxdWlyZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHNlbGYucmVxdWlyZS5nZXRDb25maWcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIC8vIEdldCB0aGUgY29uZmlndXJhdGlvbiBmcm9tIHRoZSBNb25hY28gQU1EIExvYWRlclxuICAgICAgICAgICAgbG9hZGVyQ29uZmlndXJhdGlvbiA9IHNlbGYucmVxdWlyZS5nZXRDb25maWcoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2Ygc2VsZi5yZXF1aXJlanMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAvLyBHZXQgdGhlIGNvbmZpZ3VyYXRpb24gZnJvbSByZXF1aXJlanNcbiAgICAgICAgICAgIGxvYWRlckNvbmZpZ3VyYXRpb24gPSBzZWxmLnJlcXVpcmVqcy5zLmNvbnRleHRzLl8uY29uZmlnO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLl9sYXp5UHJveHkgPSBuZXcgVFByb21pc2UoZnVuY3Rpb24gKGMsIGUpIHtcbiAgICAgICAgICAgIGxhenlQcm94eUZ1bGZpbGwgPSBjO1xuICAgICAgICAgICAgbGF6eVByb3h5UmVqZWN0ID0gZTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkgeyB9KTtcbiAgICAgICAgLy8gU2VuZCBpbml0aWFsaXplIG1lc3NhZ2VcbiAgICAgICAgX3RoaXMuX29uTW9kdWxlTG9hZGVkID0gX3RoaXMuX3Byb3RvY29sLnNlbmRNZXNzYWdlKElOSVRJQUxJWkUsIFtcbiAgICAgICAgICAgIF90aGlzLl93b3JrZXIuZ2V0SWQoKSxcbiAgICAgICAgICAgIG1vZHVsZUlkLFxuICAgICAgICAgICAgbG9hZGVyQ29uZmlndXJhdGlvblxuICAgICAgICBdKTtcbiAgICAgICAgX3RoaXMuX29uTW9kdWxlTG9hZGVkLnRoZW4oZnVuY3Rpb24gKGF2YWlsYWJsZU1ldGhvZHMpIHtcbiAgICAgICAgICAgIHZhciBwcm94eSA9IHt9O1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdmFpbGFibGVNZXRob2RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcHJveHlbYXZhaWxhYmxlTWV0aG9kc1tpXV0gPSBjcmVhdGVQcm94eU1ldGhvZChhdmFpbGFibGVNZXRob2RzW2ldLCBwcm94eU1ldGhvZFJlcXVlc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGF6eVByb3h5RnVsZmlsbChwcm94eSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBsYXp5UHJveHlSZWplY3QoZSk7XG4gICAgICAgICAgICBfdGhpcy5fb25FcnJvcignV29ya2VyIGZhaWxlZCB0byBsb2FkICcgKyBtb2R1bGVJZCwgZSk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBDcmVhdGUgcHJveHkgdG8gbG9hZGVkIGNvZGVcbiAgICAgICAgdmFyIHByb3h5TWV0aG9kUmVxdWVzdCA9IGZ1bmN0aW9uIChtZXRob2QsIGFyZ3MpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5fcmVxdWVzdChtZXRob2QsIGFyZ3MpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgY3JlYXRlUHJveHlNZXRob2QgPSBmdW5jdGlvbiAobWV0aG9kLCBwcm94eU1ldGhvZFJlcXVlc3QpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm94eU1ldGhvZFJlcXVlc3QobWV0aG9kLCBhcmdzKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU2ltcGxlV29ya2VyQ2xpZW50LnByb3RvdHlwZS5nZXRQcm94eU9iamVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gRG8gbm90IGFsbG93IGNoYWluaW5nIHByb21pc2VzIHRvIGNhbmNlbCB0aGUgcHJveHkgY3JlYXRpb25cbiAgICAgICAgcmV0dXJuIG5ldyBTaGFsbG93Q2FuY2VsVGhlblByb21pc2UodGhpcy5fbGF6eVByb3h5KTtcbiAgICB9O1xuICAgIFNpbXBsZVdvcmtlckNsaWVudC5wcm90b3R5cGUuX3JlcXVlc3QgPSBmdW5jdGlvbiAobWV0aG9kLCBhcmdzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiBuZXcgVFByb21pc2UoZnVuY3Rpb24gKGMsIGUpIHtcbiAgICAgICAgICAgIF90aGlzLl9vbk1vZHVsZUxvYWRlZC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fcHJvdG9jb2wuc2VuZE1lc3NhZ2UobWV0aG9kLCBhcmdzKS50aGVuKGMsIGUpO1xuICAgICAgICAgICAgfSwgZSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIENhbmNlbCBpbnRlbnRpb25hbGx5IG5vdCBzdXBwb3J0ZWRcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTaW1wbGVXb3JrZXJDbGllbnQucHJvdG90eXBlLl9vbkVycm9yID0gZnVuY3Rpb24gKG1lc3NhZ2UsIGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgICAgIGNvbnNvbGUuaW5mbyhlcnJvcik7XG4gICAgfTtcbiAgICByZXR1cm4gU2ltcGxlV29ya2VyQ2xpZW50O1xufShEaXNwb3NhYmxlKSk7XG5leHBvcnQgeyBTaW1wbGVXb3JrZXJDbGllbnQgfTtcbi8qKlxuICogV29ya2VyIHNpZGVcbiAqL1xudmFyIFNpbXBsZVdvcmtlclNlcnZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTaW1wbGVXb3JrZXJTZXJ2ZXIocG9zdFNlcmlhbGl6ZWRNZXNzYWdlLCByZXF1ZXN0SGFuZGxlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl9yZXF1ZXN0SGFuZGxlciA9IHJlcXVlc3RIYW5kbGVyO1xuICAgICAgICB0aGlzLl9wcm90b2NvbCA9IG5ldyBTaW1wbGVXb3JrZXJQcm90b2NvbCh7XG4gICAgICAgICAgICBzZW5kTWVzc2FnZTogZnVuY3Rpb24gKG1zZykge1xuICAgICAgICAgICAgICAgIHBvc3RTZXJpYWxpemVkTWVzc2FnZShtc2cpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGhhbmRsZU1lc3NhZ2U6IGZ1bmN0aW9uIChtZXRob2QsIGFyZ3MpIHsgcmV0dXJuIF90aGlzLl9oYW5kbGVNZXNzYWdlKG1ldGhvZCwgYXJncyk7IH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIFNpbXBsZVdvcmtlclNlcnZlci5wcm90b3R5cGUub25tZXNzYWdlID0gZnVuY3Rpb24gKG1zZykge1xuICAgICAgICB0aGlzLl9wcm90b2NvbC5oYW5kbGVNZXNzYWdlKG1zZyk7XG4gICAgfTtcbiAgICBTaW1wbGVXb3JrZXJTZXJ2ZXIucHJvdG90eXBlLl9oYW5kbGVNZXNzYWdlID0gZnVuY3Rpb24gKG1ldGhvZCwgYXJncykge1xuICAgICAgICBpZiAobWV0aG9kID09PSBJTklUSUFMSVpFKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbml0aWFsaXplKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fcmVxdWVzdEhhbmRsZXIgfHwgdHlwZW9mIHRoaXMuX3JlcXVlc3RIYW5kbGVyW21ldGhvZF0gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiBUUHJvbWlzZS53cmFwRXJyb3IobmV3IEVycm9yKCdNaXNzaW5nIHJlcXVlc3RIYW5kbGVyIG9yIG1ldGhvZDogJyArIG1ldGhvZCkpO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gVFByb21pc2UuYXModGhpcy5fcmVxdWVzdEhhbmRsZXJbbWV0aG9kXS5hcHBseSh0aGlzLl9yZXF1ZXN0SGFuZGxlciwgYXJncykpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gVFByb21pc2Uud3JhcEVycm9yKGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTaW1wbGVXb3JrZXJTZXJ2ZXIucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAod29ya2VySWQsIG1vZHVsZUlkLCBsb2FkZXJDb25maWcpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5fcHJvdG9jb2wuc2V0V29ya2VySWQod29ya2VySWQpO1xuICAgICAgICBpZiAodGhpcy5fcmVxdWVzdEhhbmRsZXIpIHtcbiAgICAgICAgICAgIC8vIHN0YXRpYyByZXF1ZXN0IGhhbmRsZXJcbiAgICAgICAgICAgIHZhciBtZXRob2RzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHRoaXMuX3JlcXVlc3RIYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9yZXF1ZXN0SGFuZGxlcltwcm9wXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBtZXRob2RzLnB1c2gocHJvcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFRQcm9taXNlLmFzKG1ldGhvZHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsb2FkZXJDb25maWcpIHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSAnYmFzZVVybCcsIGhhbmRsaW5nIGl0IGlzIGJleW9uZCBzY29wZSBmb3Igbm93XG4gICAgICAgICAgICBpZiAodHlwZW9mIGxvYWRlckNvbmZpZy5iYXNlVXJsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBsb2FkZXJDb25maWdbJ2Jhc2VVcmwnXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgbG9hZGVyQ29uZmlnLnBhdGhzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbG9hZGVyQ29uZmlnLnBhdGhzLnZzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgbG9hZGVyQ29uZmlnLnBhdGhzWyd2cyddO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNpbmNlIHRoaXMgaXMgaW4gYSB3ZWIgd29ya2VyLCBlbmFibGUgY2F0Y2hpbmcgZXJyb3JzXG4gICAgICAgICAgICBsb2FkZXJDb25maWcuY2F0Y2hFcnJvciA9IHRydWU7XG4gICAgICAgICAgICBzZWxmLnJlcXVpcmUuY29uZmlnKGxvYWRlckNvbmZpZyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNjO1xuICAgICAgICB2YXIgZWU7XG4gICAgICAgIHZhciByID0gbmV3IFRQcm9taXNlKGZ1bmN0aW9uIChjLCBlKSB7XG4gICAgICAgICAgICBjYyA9IGM7XG4gICAgICAgICAgICBlZSA9IGU7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBVc2UgdGhlIGdsb2JhbCByZXF1aXJlIHRvIGJlIHN1cmUgdG8gZ2V0IHRoZSBnbG9iYWwgY29uZmlnXG4gICAgICAgIHNlbGYucmVxdWlyZShbbW9kdWxlSWRdLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGhhbmRsZXJNb2R1bGUgPSByZXN1bHRbMF07XG4gICAgICAgICAgICBfdGhpcy5fcmVxdWVzdEhhbmRsZXIgPSBoYW5kbGVyTW9kdWxlLmNyZWF0ZSgpO1xuICAgICAgICAgICAgdmFyIG1ldGhvZHMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4gX3RoaXMuX3JlcXVlc3RIYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBfdGhpcy5fcmVxdWVzdEhhbmRsZXJbcHJvcF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kcy5wdXNoKHByb3ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNjKG1ldGhvZHMpO1xuICAgICAgICB9LCBlZSk7XG4gICAgICAgIHJldHVybiByO1xuICAgIH07XG4gICAgcmV0dXJuIFNpbXBsZVdvcmtlclNlcnZlcjtcbn0oKSk7XG5leHBvcnQgeyBTaW1wbGVXb3JrZXJTZXJ2ZXIgfTtcbi8qKlxuICogQ2FsbGVkIG9uIHRoZSB3b3JrZXIgc2lkZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKHBvc3RNZXNzYWdlKSB7XG4gICAgcmV0dXJuIG5ldyBTaW1wbGVXb3JrZXJTZXJ2ZXIocG9zdE1lc3NhZ2UsIG51bGwpO1xufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBFZGl0b3JTaW1wbGVXb3JrZXJJbXBsIH0gZnJvbSAnLi9jb21tb24vc2VydmljZXMvZWRpdG9yU2ltcGxlV29ya2VyLmpzJztcbmltcG9ydCB7IFNpbXBsZVdvcmtlclNlcnZlciB9IGZyb20gJy4uL2Jhc2UvY29tbW9uL3dvcmtlci9zaW1wbGVXb3JrZXIuanMnO1xudmFyIGluaXRpYWxpemVkID0gZmFsc2U7XG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZShmb3JlaWduTW9kdWxlKSB7XG4gICAgaWYgKGluaXRpYWxpemVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIHZhciBlZGl0b3JXb3JrZXIgPSBuZXcgRWRpdG9yU2ltcGxlV29ya2VySW1wbChmb3JlaWduTW9kdWxlKTtcbiAgICB2YXIgc2ltcGxlV29ya2VyID0gbmV3IFNpbXBsZVdvcmtlclNlcnZlcihmdW5jdGlvbiAobXNnKSB7XG4gICAgICAgIHNlbGYucG9zdE1lc3NhZ2UobXNnKTtcbiAgICB9LCBlZGl0b3JXb3JrZXIpO1xuICAgIHNlbGYub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgc2ltcGxlV29ya2VyLm9ubWVzc2FnZShlLmRhdGEpO1xuICAgIH07XG59XG5zZWxmLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgLy8gSWdub3JlIGZpcnN0IG1lc3NhZ2UgaW4gdGhpcyBjYXNlIGFuZCBpbml0aWFsaXplIGlmIG5vdCB5ZXQgaW5pdGlhbGl6ZWRcbiAgICBpZiAoIWluaXRpYWxpemVkKSB7XG4gICAgICAgIGluaXRpYWxpemUobnVsbCk7XG4gICAgfVxufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=